function Hy(r,s){for(var i=0;i<s.length;i++){const o=s[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in r)){const u=Object.getOwnPropertyDescriptor(o,c);u&&Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();function _d(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Vy(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var s=r.default;if(typeof s=="function"){var i=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var c=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:function(){return r[o]}})}),i}var Lu={exports:{}},Xr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function Gy(){if(Vg)return Xr;Vg=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(o,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var g in c)g!=="key"&&(u[g]=c[g])}else u=c;return c=u.ref,{$$typeof:r,type:o,key:h,ref:c!==void 0?c:null,props:u}}return Xr.Fragment=s,Xr.jsx=i,Xr.jsxs=i,Xr}var Gg;function Yy(){return Gg||(Gg=1,Lu.exports=Gy()),Lu.exports}var a=Yy(),Bu={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function Ky(){if(Yg)return be;Yg=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=j&&R[j]||R["@@iterator"],typeof R=="function"?R:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,y={};function k(R,V,W){this.props=R,this.context=V,this.refs=y,this.updater=W||v}k.prototype.isReactComponent={},k.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=k.prototype;function T(R,V,W){this.props=R,this.context=V,this.refs=y,this.updater=W||v}var I=T.prototype=new A;I.constructor=T,E(I,k.prototype),I.isPureReactComponent=!0;var L=Array.isArray;function J(){}var z={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function M(R,V,W){var Z=W.ref;return{$$typeof:r,type:R,key:V,ref:Z!==void 0?Z:null,props:W}}function se(R,V){return M(R.type,V,R.props)}function ce(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function B(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return V[W]})}var K=/\/+/g;function H(R,V){return typeof R=="object"&&R!==null&&R.key!=null?B(""+R.key):V.toString(36)}function Q(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(J,J):(R.status="pending",R.then(function(V){R.status==="pending"&&(R.status="fulfilled",R.value=V)},function(V){R.status==="pending"&&(R.status="rejected",R.reason=V)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,V,W,Z,ne){var oe=typeof R;(oe==="undefined"||oe==="boolean")&&(R=null);var de=!1;if(R===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(R.$$typeof){case r:case s:de=!0;break;case b:return de=R._init,O(de(R._payload),V,W,Z,ne)}}if(de)return ne=ne(R),de=Z===""?"."+H(R,0):Z,L(ne)?(W="",de!=null&&(W=de.replace(K,"$&/")+"/"),O(ne,V,W,"",function(ze){return ze})):ne!=null&&(ce(ne)&&(ne=se(ne,W+(ne.key==null||R&&R.key===ne.key?"":(""+ne.key).replace(K,"$&/")+"/")+de)),V.push(ne)),1;de=0;var Ce=Z===""?".":Z+":";if(L(R))for(var Se=0;Se<R.length;Se++)Z=R[Se],oe=Ce+H(Z,Se),de+=O(Z,V,W,oe,ne);else if(Se=_(R),typeof Se=="function")for(R=Se.call(R),Se=0;!(Z=R.next()).done;)Z=Z.value,oe=Ce+H(Z,Se++),de+=O(Z,V,W,oe,ne);else if(oe==="object"){if(typeof R.then=="function")return O(Q(R),V,W,Z,ne);throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function ee(R,V,W){if(R==null)return R;var Z=[],ne=0;return O(R,Z,"","",function(oe){return V.call(W,oe,ne++)}),Z}function ae(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},je={map:ee,forEach:function(R,V,W){ee(R,function(){V.apply(this,arguments)},W)},count:function(R){var V=0;return ee(R,function(){V++}),V},toArray:function(R){return ee(R,function(V){return V})||[]},only:function(R){if(!ce(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return be.Activity=w,be.Children=je,be.Component=k,be.Fragment=i,be.Profiler=c,be.PureComponent=T,be.StrictMode=o,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,be.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},be.cache=function(R){return function(){return R.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(R,V,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=E({},R.props),ne=R.key;if(V!=null)for(oe in V.key!==void 0&&(ne=""+V.key),V)!te.call(V,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&V.ref===void 0||(Z[oe]=V[oe]);var oe=arguments.length-2;if(oe===1)Z.children=W;else if(1<oe){for(var de=Array(oe),Ce=0;Ce<oe;Ce++)de[Ce]=arguments[Ce+2];Z.children=de}return M(R.type,ne,Z)},be.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},be.createElement=function(R,V,W){var Z,ne={},oe=null;if(V!=null)for(Z in V.key!==void 0&&(oe=""+V.key),V)te.call(V,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=V[Z]);var de=arguments.length-2;if(de===1)ne.children=W;else if(1<de){for(var Ce=Array(de),Se=0;Se<de;Se++)Ce[Se]=arguments[Se+2];ne.children=Ce}if(R&&R.defaultProps)for(Z in de=R.defaultProps,de)ne[Z]===void 0&&(ne[Z]=de[Z]);return M(R,oe,ne)},be.createRef=function(){return{current:null}},be.forwardRef=function(R){return{$$typeof:g,render:R}},be.isValidElement=ce,be.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:ae}},be.memo=function(R,V){return{$$typeof:p,type:R,compare:V===void 0?null:V}},be.startTransition=function(R){var V=z.T,W={};z.T=W;try{var Z=R(),ne=z.S;ne!==null&&ne(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(J,me)}catch(oe){me(oe)}finally{V!==null&&W.types!==null&&(V.types=W.types),z.T=V}},be.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},be.use=function(R){return z.H.use(R)},be.useActionState=function(R,V,W){return z.H.useActionState(R,V,W)},be.useCallback=function(R,V){return z.H.useCallback(R,V)},be.useContext=function(R){return z.H.useContext(R)},be.useDebugValue=function(){},be.useDeferredValue=function(R,V){return z.H.useDeferredValue(R,V)},be.useEffect=function(R,V){return z.H.useEffect(R,V)},be.useEffectEvent=function(R){return z.H.useEffectEvent(R)},be.useId=function(){return z.H.useId()},be.useImperativeHandle=function(R,V,W){return z.H.useImperativeHandle(R,V,W)},be.useInsertionEffect=function(R,V){return z.H.useInsertionEffect(R,V)},be.useLayoutEffect=function(R,V){return z.H.useLayoutEffect(R,V)},be.useMemo=function(R,V){return z.H.useMemo(R,V)},be.useOptimistic=function(R,V){return z.H.useOptimistic(R,V)},be.useReducer=function(R,V,W){return z.H.useReducer(R,V,W)},be.useRef=function(R){return z.H.useRef(R)},be.useState=function(R){return z.H.useState(R)},be.useSyncExternalStore=function(R,V,W){return z.H.useSyncExternalStore(R,V,W)},be.useTransition=function(){return z.H.useTransition()},be.version="19.2.0",be}var Kg;function Sd(){return Kg||(Kg=1,Bu.exports=Ky()),Bu.exports}var S=Sd();const ni=_d(S);var zu={exports:{}},Wr={},qu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Qy(){return Qg||(Qg=1,(function(r){function s(O,ee){var ae=O.length;O.push(ee);e:for(;0<ae;){var me=ae-1>>>1,je=O[me];if(0<c(je,ee))O[me]=ee,O[ae]=je,ae=me;else break e}}function i(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var ee=O[0],ae=O.pop();if(ae!==ee){O[0]=ae;e:for(var me=0,je=O.length,R=je>>>1;me<R;){var V=2*(me+1)-1,W=O[V],Z=V+1,ne=O[Z];if(0>c(W,ae))Z<je&&0>c(ne,W)?(O[me]=ne,O[Z]=ae,me=Z):(O[me]=W,O[V]=ae,me=V);else if(Z<je&&0>c(ne,ae))O[me]=ne,O[Z]=ae,me=Z;else break e}}return ee}function c(O,ee){var ae=O.sortIndex-ee.sortIndex;return ae!==0?ae:O.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],p=[],b=1,w=null,j=3,_=!1,v=!1,E=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function I(O){for(var ee=i(p);ee!==null;){if(ee.callback===null)o(p);else if(ee.startTime<=O)o(p),ee.sortIndex=ee.expirationTime,s(m,ee);else break;ee=i(p)}}function L(O){if(E=!1,I(O),!v)if(i(m)!==null)v=!0,J||(J=!0,B());else{var ee=i(p);ee!==null&&Q(L,ee.startTime-O)}}var J=!1,z=-1,te=5,M=-1;function se(){return y?!0:!(r.unstable_now()-M<te)}function ce(){if(y=!1,J){var O=r.unstable_now();M=O;var ee=!0;try{e:{v=!1,E&&(E=!1,A(z),z=-1),_=!0;var ae=j;try{t:{for(I(O),w=i(m);w!==null&&!(w.expirationTime>O&&se());){var me=w.callback;if(typeof me=="function"){w.callback=null,j=w.priorityLevel;var je=me(w.expirationTime<=O);if(O=r.unstable_now(),typeof je=="function"){w.callback=je,I(O),ee=!0;break t}w===i(m)&&o(m),I(O)}else o(m);w=i(m)}if(w!==null)ee=!0;else{var R=i(p);R!==null&&Q(L,R.startTime-O),ee=!1}}break e}finally{w=null,j=ae,_=!1}ee=void 0}}finally{ee?B():J=!1}}}var B;if(typeof T=="function")B=function(){T(ce)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=ce,B=function(){H.postMessage(null)}}else B=function(){k(ce,0)};function Q(O,ee){z=k(function(){O(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_next=function(O){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var ae=j;j=ee;try{return O()}finally{j=ae}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(O,ee){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ae=j;j=O;try{return ee()}finally{j=ae}},r.unstable_scheduleCallback=function(O,ee,ae){var me=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,O){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ae+je,O={id:b++,callback:ee,priorityLevel:O,startTime:ae,expirationTime:je,sortIndex:-1},ae>me?(O.sortIndex=ae,s(p,O),i(m)===null&&O===i(p)&&(E?(A(z),z=-1):E=!0,Q(L,ae-me))):(O.sortIndex=je,s(m,O),v||_||(v=!0,J||(J=!0,B()))),O},r.unstable_shouldYield=se,r.unstable_wrapCallback=function(O){var ee=j;return function(){var ae=j;j=ee;try{return O.apply(this,arguments)}finally{j=ae}}}})(Iu)),Iu}var Fg;function Fy(){return Fg||(Fg=1,qu.exports=Qy()),qu.exports}var $u={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function Jy(){if(Jg)return ht;Jg=1;var r=Sd();function s(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:m,containerInfo:p,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ht.createPortal=function(m,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return u(m,p,null,b)},ht.flushSync=function(m){var p=h.T,b=o.p;try{if(h.T=null,o.p=2,m)return m()}finally{h.T=p,o.p=b,o.d.f()}},ht.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(m,p))},ht.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},ht.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var b=p.as,w=g(b,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?o.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:_}):b==="script"&&o.d.X(m,{crossOrigin:w,integrity:j,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);o.d.M(m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(m)},ht.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=g(b,p.crossOrigin);o.d.L(m,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(m,p){if(typeof m=="string")if(p){var b=g(p.as,p.crossOrigin);o.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(m)},ht.requestFormReset=function(m){o.d.r(m)},ht.unstable_batchedUpdates=function(m,p){return m(p)},ht.useFormState=function(m,p,b){return h.H.useFormState(m,p,b)},ht.useFormStatus=function(){return h.H.useHostTransitionStatus()},ht.version="19.2.0",ht}var Xg;function Xy(){if(Xg)return $u.exports;Xg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),$u.exports=Jy(),$u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Wy(){if(Wg)return Wr;Wg=1;var r=Fy(),s=Sd(),i=Xy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var d=n.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){n=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===n)return m(d),e;if(f===l)return m(d),t;f=f.sibling}throw Error(o(188))}if(n.return!==l.return)n=d,l=f;else{for(var x=!1,N=d.child;N;){if(N===n){x=!0,n=d,l=f;break}if(N===l){x=!0,l=d,n=f;break}N=N.sibling}if(!x){for(N=f.child;N;){if(N===n){x=!0,n=f,l=d;break}if(N===l){x=!0,l=f,n=d;break}N=N.sibling}if(!x)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function H(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case k:return"Profiler";case y:return"StrictMode";case L:return"Suspense";case J:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case T:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:H(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return H(e(t))}catch{}}return null}var Q=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},me=[],je=-1;function R(e){return{current:e}}function V(e){0>je||(e.current=me[je],me[je]=null,je--)}function W(e,t){je++,me[je]=e.current,e.current=t}var Z=R(null),ne=R(null),oe=R(null),de=R(null);function Ce(e,t){switch(W(oe,t),W(ne,e),W(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fg(t),e=mg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(Z),W(Z,e)}function Se(){V(Z),V(ne),V(oe)}function ze(e){e.memoizedState!==null&&W(de,e);var t=Z.current,n=mg(t,e.type);t!==n&&(W(ne,e),W(Z,n))}function kt(e){ne.current===e&&(V(Z),V(ne)),de.current===e&&(V(de),Kr._currentValue=ae)}var Ct,vt;function xa(e){if(Ct===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ct=t&&t[1]||"",vt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+e+vt}var Ns=!1;function sr(e,t){if(!e||Ns)return"";Ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var P=G}Reflect.construct(e,[],X)}else{try{X.call()}catch(G){P=G}e.call(X.prototype)}}else{try{throw Error()}catch(G){P=G}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),x=f[0],N=f[1];if(x&&N){var C=x.split(`
`),$=N.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===$.length)for(l=C.length-1,d=$.length-1;1<=l&&0<=d&&C[l]!==$[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==$[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==$[d]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Ns=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xa(n):""}function jo(e,t){switch(e.tag){case 26:case 27:case 5:return xa(e.type);case 16:return xa("Lazy");case 13:return e.child!==t&&t!==null?xa("Suspense Fallback"):xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return xa("Activity");default:return""}}function pi(e){try{var t="",n=null;do t+=jo(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pa=Object.prototype.hasOwnProperty,xi=r.unstable_scheduleCallback,nr=r.unstable_cancelCallback,bi=r.unstable_shouldYield,vi=r.unstable_requestPaint,he=r.unstable_now,dt=r.unstable_getCurrentPriorityLevel,pt=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,_b=r.unstable_LowPriority,Yd=r.unstable_IdlePriority,Sb=r.log,Eb=r.unstable_setDisableYieldValue,rr=null,At=null;function Ha(e){if(typeof Sb=="function"&&Eb(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(rr,e)}catch{}}var Tt=Math.clz32?Math.clz32:Ab,kb=Math.log,Cb=Math.LN2;function Ab(e){return e>>>=0,e===0?32:31-(kb(e)/Cb|0)|0}var wi=256,ji=262144,Ni=4194304;function _s(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~f,l!==0?d=_s(l):(x&=N,x!==0?d=_s(x):n||(n=N&~e,n!==0&&(d=_s(n))))):(N=l&~f,N!==0?d=_s(N):x!==0?d=_s(x):n||(n=l&~e,n!==0&&(d=_s(n)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:d}function ir(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Tb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(){var e=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),e}function _o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rb(e,t,n,l,d,f){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,C=e.expirationTimes,$=e.hiddenUpdates;for(n=x&~n;0<n;){var Y=31-Tt(n),X=1<<Y;N[Y]=0,C[Y]=-1;var P=$[Y];if(P!==null)for($[Y]=null,Y=0;Y<P.length;Y++){var G=P[Y];G!==null&&(G.lane&=-536870913)}n&=~X}l!==0&&Qd(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function Qd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Tt(n),d=1<<l;d&t|e[l]&t&&(e[l]|=t),n&=~d}}function Jd(e,t){var n=t&-t;return n=(n&42)!==0?1:So(n),(n&(e.suspendedLanes|t))!==0?0:n}function So(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xd(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Bg(e.type))}function Wd(e,t){var n=ee.p;try{return ee.p=e,t()}finally{ee.p=n}}var Va=Math.random().toString(36).slice(2),it="__reactFiber$"+Va,yt="__reactProps$"+Va,Xs="__reactContainer$"+Va,ko="__reactEvents$"+Va,Ob="__reactListeners$"+Va,Db="__reactHandles$"+Va,Zd="__reactResources$"+Va,or="__reactMarker$"+Va;function Co(e){delete e[it],delete e[yt],delete e[ko],delete e[Ob],delete e[Db]}function Ws(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xs]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wg(e);e!==null;){if(n=e[it])return n;e=wg(e)}return t}e=n,n=e.parentNode}return null}function Zs(e){if(e=e[it]||e[Xs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function en(e){var t=e[Zd];return t||(t=e[Zd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[or]=!0}var eh=new Set,th={};function Ss(e,t){tn(e,t),tn(e+"Capture",t)}function tn(e,t){for(th[e]=t,e=0;e<t.length;e++)eh.add(t[e])}var Mb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},sh={};function Ub(e){return Pa.call(sh,e)?!0:Pa.call(ah,e)?!1:Mb.test(e)?sh[e]=!0:(ah[e]=!0,!1)}function Si(e,t,n){if(Ub(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ei(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ba(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lb(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(x){n=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(x){n=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ao(e){if(!e._valueTracker){var t=nh(e)?"checked":"value";e._valueTracker=Lb(e,t,""+e[t])}}function rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=nh(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bb=/[\n"\\]/g;function $t(e){return e.replace(Bb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function To(e,t,n,l,d,f,x,N){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ro(e,x,It(t)):n!=null?Ro(e,x,It(n)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+It(N):e.removeAttribute("name")}function ih(e,t,n,l,d,f,x,N){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Ao(e);return}n=n!=null?""+It(n):"",t=t!=null?""+It(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Ao(e)}function Ro(e,t,n){t==="number"&&ki(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function an(e,t,n,l){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&l&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function lh(e,t,n){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+It(n):""}function oh(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(Q(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=It(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Ao(e)}function sn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||zb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function uh(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in t)l=t[d],t.hasOwnProperty(d)&&n[d]!==l&&ch(e,d,l)}else for(var f in t)t.hasOwnProperty(f)&&ch(e,f,t[f])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ci(e){return Ib.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var Do=null;function Mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nn=null,rn=null;function dh(e){var t=Zs(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(To(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var d=l[yt]||null;if(!d)throw Error(o(90));To(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&rh(l)}break e;case"textarea":lh(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&an(e,!!n.multiple,t,!1)}}}var Uo=!1;function hh(e,t,n){if(Uo)return e(t,n);Uo=!0;try{var l=e(t);return l}finally{if(Uo=!1,(nn!==null||rn!==null)&&(gl(),nn&&(t=nn,e=rn,rn=nn=null,dh(t),e)))for(t=0;t<e.length;t++)dh(e[t])}}function ur(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(ya)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Lo=!1}var Ga=null,Bo=null,Ai=null;function fh(){if(Ai)return Ai;var e,t=Bo,n=t.length,l,d="value"in Ga?Ga.value:Ga.textContent,f=d.length;for(e=0;e<n&&t[e]===d[e];e++);var x=n-e;for(l=1;l<=x&&t[n-l]===d[f-l];l++);return Ai=d.slice(e,1<l?1-l:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function mh(){return!1}function wt(e){function t(n,l,d,f,x){this._reactName=n,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(f):f[N]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:mh,this.isPropagationStopped=mh,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=wt(Es),hr=w({},Es,{view:0,detail:0}),$b=wt(hr),zo,qo,fr,Di=w({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(zo=e.screenX-fr.screenX,qo=e.screenY-fr.screenY):qo=zo=0,fr=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),gh=wt(Di),Pb=w({},Di,{dataTransfer:0}),Hb=wt(Pb),Vb=w({},hr,{relatedTarget:0}),Io=wt(Vb),Gb=w({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Yb=wt(Gb),Kb=w({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qb=wt(Kb),Fb=w({},Es,{data:0}),ph=wt(Fb),Jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wb[e])?!!t[e]:!1}function $o(){return Zb}var ev=w({},hr,{key:function(e){if(e.key){var t=Jb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=wt(ev),av=w({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=wt(av),sv=w({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),nv=wt(sv),rv=w({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),iv=wt(rv),lv=w({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=wt(lv),cv=w({},Es,{newState:0,oldState:0}),uv=wt(cv),dv=[9,13,27,32],Po=ya&&"CompositionEvent"in window,mr=null;ya&&"documentMode"in document&&(mr=document.documentMode);var hv=ya&&"TextEvent"in window&&!mr,bh=ya&&(!Po||mr&&8<mr&&11>=mr),vh=" ",yh=!1;function wh(e,t){switch(e){case"keyup":return dv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function fv(e,t){switch(e){case"compositionend":return jh(t);case"keypress":return t.which!==32?null:(yh=!0,vh);case"textInput":return e=t.data,e===vh&&yh?null:e;default:return null}}function mv(e,t){if(ln)return e==="compositionend"||!Po&&wh(e,t)?(e=fh(),Ai=Bo=Ga=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bh&&t.locale!=="ko"?null:t.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gv[e.type]:t==="textarea"}function _h(e,t,n,l){nn?rn?rn.push(l):rn=[l]:nn=l,t=jl(t,"onChange"),0<t.length&&(n=new Oi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var gr=null,pr=null;function pv(e){lg(e,0)}function Mi(e){var t=cr(e);if(rh(t))return e}function Sh(e,t){if(e==="change")return t}var Eh=!1;if(ya){var Ho;if(ya){var Vo="oninput"in document;if(!Vo){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),Vo=typeof kh.oninput=="function"}Ho=Vo}else Ho=!1;Eh=Ho&&(!document.documentMode||9<document.documentMode)}function Ch(){gr&&(gr.detachEvent("onpropertychange",Ah),pr=gr=null)}function Ah(e){if(e.propertyName==="value"&&Mi(pr)){var t=[];_h(t,pr,e,Mo(e)),hh(pv,t)}}function xv(e,t,n){e==="focusin"?(Ch(),gr=t,pr=n,gr.attachEvent("onpropertychange",Ah)):e==="focusout"&&Ch()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(pr)}function vv(e,t){if(e==="click")return Mi(t)}function yv(e,t){if(e==="input"||e==="change")return Mi(t)}function wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:wv;function xr(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var d=n[l];if(!Pa.call(t,d)||!Rt(e[d],t[d]))return!1}return!0}function Th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rh(e,t){var n=Th(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Th(n)}}function Oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ki(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ki(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var jv=ya&&"documentMode"in document&&11>=document.documentMode,on=null,Yo=null,br=null,Ko=!1;function Mh(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||on==null||on!==ki(l)||(l=on,"selectionStart"in l&&Go(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),br&&xr(br,l)||(br=l,l=jl(Yo,"onSelect"),0<l.length&&(t=new Oi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=on)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cn={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Qo={},Uh={};ya&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function Cs(e){if(Qo[e])return Qo[e];if(!cn[e])return e;var t=cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uh)return Qo[e]=t[n];return e}var Lh=Cs("animationend"),Bh=Cs("animationiteration"),zh=Cs("animationstart"),Nv=Cs("transitionrun"),_v=Cs("transitionstart"),Sv=Cs("transitioncancel"),qh=Cs("transitionend"),Ih=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function Zt(e,t){Ih.set(e,t),Ss(t,[e])}var Ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pt=[],un=0,Jo=0;function Li(){for(var e=un,t=Jo=un=0;t<e;){var n=Pt[t];Pt[t++]=null;var l=Pt[t];Pt[t++]=null;var d=Pt[t];Pt[t++]=null;var f=Pt[t];if(Pt[t++]=null,l!==null&&d!==null){var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}f!==0&&$h(n,d,f)}}function Bi(e,t,n,l){Pt[un++]=e,Pt[un++]=t,Pt[un++]=n,Pt[un++]=l,Jo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xo(e,t,n,l){return Bi(e,t,n,l),zi(e)}function As(e,t){return Bi(e,null,null,t),zi(e)}function $h(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var d=!1,f=e.return;f!==null;)f.childLanes|=n,l=f.alternate,l!==null&&(l.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-Tt(n),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[t]:l.push(t),t.lane=n|536870912),f):null}function zi(e){if(50<Ir)throw Ir=0,iu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var dn={};function Ev(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,l){return new Ev(e,t,n,l)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ph(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,n,l,d,f){var x=0;if(l=e,typeof e=="function")Wo(e)&&(x=1);else if(typeof e=="string")x=Ry(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=Ot(31,n,t,d),e.elementType=M,e.lanes=f,e;case E:return Ts(n.children,d,f,t);case y:x=8,d|=24;break;case k:return e=Ot(12,n,t,d|2),e.elementType=k,e.lanes=f,e;case L:return e=Ot(13,n,t,d),e.elementType=L,e.lanes=f,e;case J:return e=Ot(19,n,t,d),e.elementType=J,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:x=10;break e;case A:x=9;break e;case I:x=11;break e;case z:x=14;break e;case te:x=16,l=null;break e}x=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Ot(x,n,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function Ts(e,t,n,l){return e=Ot(7,e,l,t),e.lanes=n,e}function Zo(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Hh(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function ec(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vh=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=Vh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pi(t)},Vh.set(e,t),t)}return{value:e,source:t,stack:pi(t)}}var hn=[],fn=0,Ii=null,vr=0,Vt=[],Gt=0,Ya=null,ca=1,ua="";function ja(e,t){hn[fn++]=vr,hn[fn++]=Ii,Ii=e,vr=t}function Gh(e,t,n){Vt[Gt++]=ca,Vt[Gt++]=ua,Vt[Gt++]=Ya,Ya=e;var l=ca;e=ua;var d=32-Tt(l)-1;l&=~(1<<d),n+=1;var f=32-Tt(t)+d;if(30<f){var x=d-d%5;f=(l&(1<<x)-1).toString(32),l>>=x,d-=x,ca=1<<32-Tt(t)+d|n<<d|l,ua=f+e}else ca=1<<f|n<<d|l,ua=e}function tc(e){e.return!==null&&(ja(e,1),Gh(e,1,0))}function ac(e){for(;e===Ii;)Ii=hn[--fn],hn[fn]=null,vr=hn[--fn],hn[fn]=null;for(;e===Ya;)Ya=Vt[--Gt],Vt[Gt]=null,ua=Vt[--Gt],Vt[Gt]=null,ca=Vt[--Gt],Vt[Gt]=null}function Yh(e,t){Vt[Gt++]=ca,Vt[Gt++]=ua,Vt[Gt++]=Ya,ca=t.id,ua=t.overflow,Ya=e}var lt=null,$e=null,Ae=!1,Ka=null,Yt=!1,sc=Error(o(519));function Qa(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yr(Ht(t,e)),sc}function Kh(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[it]=e,t[yt]=l,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Pr.length;n++)_e(Pr[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),ih(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),oh(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||dg(t.textContent,n)?(l.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),l.onScroll!=null&&_e("scroll",t),l.onScrollEnd!=null&&_e("scrollend",t),l.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||Qa(e,!0)}function Qh(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:lt=lt.return}}function mn(e){if(e!==lt)return!1;if(!Ae)return Qh(e),Ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||wu(e.type,e.memoizedProps)),n=!n),n&&$e&&Qa(e),Qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=yg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=yg(e)}else t===27?(t=$e,os(e.type)?(e=Eu,Eu=null,$e=e):$e=t):$e=lt?Qt(e.stateNode.nextSibling):null;return!0}function Rs(){$e=lt=null,Ae=!1}function nc(){var e=Ka;return e!==null&&(St===null?St=e:St.push.apply(St,e),Ka=null),e}function yr(e){Ka===null?Ka=[e]:Ka.push(e)}var rc=R(null),Os=null,Na=null;function Fa(e,t,n){W(rc,t._currentValue),t._currentValue=n}function _a(e){e._currentValue=rc.current,V(rc)}function ic(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function lc(e,t,n,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var x=d.child;f=f.firstContext;e:for(;f!==null;){var N=f;f=d;for(var C=0;C<t.length;C++)if(N.context===t[C]){f.lanes|=n,N=f.alternate,N!==null&&(N.lanes|=n),ic(f.return,n,e),l||(x=null);break e}f=N.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(o(341));x.lanes|=n,f=x.alternate,f!==null&&(f.lanes|=n),ic(x,n,e),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===e){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function gn(e,t,n,l){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var N=d.type;Rt(d.pendingProps.value,x.value)||(e!==null?e.push(N):e=[N])}}else if(d===de.current){if(x=d.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Kr):e=[Kr])}d=d.return}e!==null&&lc(t,e,n,l),t.flags|=262144}function $i(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Os=e,Na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Fh(Os,e)}function Pi(e,t){return Os===null&&Ds(e),Fh(e,t)}function Fh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Na===null){if(e===null)throw Error(o(308));Na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Na=Na.next=t;return n}var kv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Cv=r.unstable_scheduleCallback,Av=r.unstable_NormalPriority,Je={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new kv,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&Cv(Av,function(){e.controller.abort()})}var jr=null,cc=0,pn=0,xn=null;function Tv(e,t){if(jr===null){var n=jr=[];cc=0,pn=hu(),xn={status:"pending",value:void 0,then:function(l){n.push(l)}}}return cc++,t.then(Jh,Jh),t}function Jh(){if(--cc===0&&jr!==null){xn!==null&&(xn.status="fulfilled");var e=jr;jr=null,pn=0,xn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(d){n.push(d)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var d=0;d<n.length;d++)(0,n[d])(t)},function(d){for(l.status="rejected",l.reason=d,d=0;d<n.length;d++)(0,n[d])(void 0)}),l}var Xh=O.S;O.S=function(e,t){Um=he(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tv(e,t),Xh!==null&&Xh(e,t)};var Ms=R(null);function uc(){var e=Ms.current;return e!==null?e:qe.pooledCache}function Hi(e,t){t===null?W(Ms,Ms.current):W(Ms,t.pool)}function Wh(){var e=uc();return e===null?null:{parent:Je._currentValue,pool:e}}var bn=Error(o(460)),dc=Error(o(474)),Vi=Error(o(542)),Gi={then:function(){}};function Zh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ef(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(va,va),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=l}},function(l){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e}throw Ls=t,bn}}function Us(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ls=n,bn):n}}var Ls=null;function tf(){if(Ls===null)throw Error(o(459));var e=Ls;return Ls=null,e}function af(e){if(e===bn||e===Vi)throw Error(o(483))}var vn=null,Nr=0;function Yi(e){var t=Nr;return Nr+=1,vn===null&&(vn=[]),ef(vn,e,t)}function _r(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ki(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sf(e){function t(U,D){if(e){var q=U.deletions;q===null?(U.deletions=[D],U.flags|=16):q.push(D)}}function n(U,D){if(!e)return null;for(;D!==null;)t(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function d(U,D){return U=wa(U,D),U.index=0,U.sibling=null,U}function f(U,D,q){return U.index=q,e?(q=U.alternate,q!==null?(q=q.index,q<D?(U.flags|=67108866,D):q):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function x(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function N(U,D,q,F){return D===null||D.tag!==6?(D=Zo(q,U.mode,F),D.return=U,D):(D=d(D,q),D.return=U,D)}function C(U,D,q,F){var fe=q.type;return fe===E?Y(U,D,q.props.children,F,q.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===te&&Us(fe)===D.type)?(D=d(D,q.props),_r(D,q),D.return=U,D):(D=qi(q.type,q.key,q.props,null,U.mode,F),_r(D,q),D.return=U,D)}function $(U,D,q,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=ec(q,U.mode,F),D.return=U,D):(D=d(D,q.children||[]),D.return=U,D)}function Y(U,D,q,F,fe){return D===null||D.tag!==7?(D=Ts(q,U.mode,F,fe),D.return=U,D):(D=d(D,q),D.return=U,D)}function X(U,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zo(""+D,U.mode,q),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return q=qi(D.type,D.key,D.props,null,U.mode,q),_r(q,D),q.return=U,q;case v:return D=ec(D,U.mode,q),D.return=U,D;case te:return D=Us(D),X(U,D,q)}if(Q(D)||B(D))return D=Ts(D,U.mode,q,null),D.return=U,D;if(typeof D.then=="function")return X(U,Yi(D),q);if(D.$$typeof===T)return X(U,Pi(U,D),q);Ki(U,D)}return null}function P(U,D,q,F){var fe=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:N(U,D,""+q,F);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return q.key===fe?C(U,D,q,F):null;case v:return q.key===fe?$(U,D,q,F):null;case te:return q=Us(q),P(U,D,q,F)}if(Q(q)||B(q))return fe!==null?null:Y(U,D,q,F,null);if(typeof q.then=="function")return P(U,D,Yi(q),F);if(q.$$typeof===T)return P(U,D,Pi(U,q),F);Ki(U,q)}return null}function G(U,D,q,F,fe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(q)||null,N(D,U,""+F,fe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return U=U.get(F.key===null?q:F.key)||null,C(D,U,F,fe);case v:return U=U.get(F.key===null?q:F.key)||null,$(D,U,F,fe);case te:return F=Us(F),G(U,D,q,F,fe)}if(Q(F)||B(F))return U=U.get(q)||null,Y(D,U,F,fe,null);if(typeof F.then=="function")return G(U,D,q,Yi(F),fe);if(F.$$typeof===T)return G(U,D,q,Pi(D,F),fe);Ki(D,F)}return null}function re(U,D,q,F){for(var fe=null,Te=null,ie=D,we=D=0,ke=null;ie!==null&&we<q.length;we++){ie.index>we?(ke=ie,ie=null):ke=ie.sibling;var Re=P(U,ie,q[we],F);if(Re===null){ie===null&&(ie=ke);break}e&&ie&&Re.alternate===null&&t(U,ie),D=f(Re,D,we),Te===null?fe=Re:Te.sibling=Re,Te=Re,ie=ke}if(we===q.length)return n(U,ie),Ae&&ja(U,we),fe;if(ie===null){for(;we<q.length;we++)ie=X(U,q[we],F),ie!==null&&(D=f(ie,D,we),Te===null?fe=ie:Te.sibling=ie,Te=ie);return Ae&&ja(U,we),fe}for(ie=l(ie);we<q.length;we++)ke=G(ie,U,we,q[we],F),ke!==null&&(e&&ke.alternate!==null&&ie.delete(ke.key===null?we:ke.key),D=f(ke,D,we),Te===null?fe=ke:Te.sibling=ke,Te=ke);return e&&ie.forEach(function(fs){return t(U,fs)}),Ae&&ja(U,we),fe}function ge(U,D,q,F){if(q==null)throw Error(o(151));for(var fe=null,Te=null,ie=D,we=D=0,ke=null,Re=q.next();ie!==null&&!Re.done;we++,Re=q.next()){ie.index>we?(ke=ie,ie=null):ke=ie.sibling;var fs=P(U,ie,Re.value,F);if(fs===null){ie===null&&(ie=ke);break}e&&ie&&fs.alternate===null&&t(U,ie),D=f(fs,D,we),Te===null?fe=fs:Te.sibling=fs,Te=fs,ie=ke}if(Re.done)return n(U,ie),Ae&&ja(U,we),fe;if(ie===null){for(;!Re.done;we++,Re=q.next())Re=X(U,Re.value,F),Re!==null&&(D=f(Re,D,we),Te===null?fe=Re:Te.sibling=Re,Te=Re);return Ae&&ja(U,we),fe}for(ie=l(ie);!Re.done;we++,Re=q.next())Re=G(ie,U,we,Re.value,F),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?we:Re.key),D=f(Re,D,we),Te===null?fe=Re:Te.sibling=Re,Te=Re);return e&&ie.forEach(function(Py){return t(U,Py)}),Ae&&ja(U,we),fe}function Be(U,D,q,F){if(typeof q=="object"&&q!==null&&q.type===E&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case _:e:{for(var fe=q.key;D!==null;){if(D.key===fe){if(fe=q.type,fe===E){if(D.tag===7){n(U,D.sibling),F=d(D,q.props.children),F.return=U,U=F;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===te&&Us(fe)===D.type){n(U,D.sibling),F=d(D,q.props),_r(F,q),F.return=U,U=F;break e}n(U,D);break}else t(U,D);D=D.sibling}q.type===E?(F=Ts(q.props.children,U.mode,F,q.key),F.return=U,U=F):(F=qi(q.type,q.key,q.props,null,U.mode,F),_r(F,q),F.return=U,U=F)}return x(U);case v:e:{for(fe=q.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){n(U,D.sibling),F=d(D,q.children||[]),F.return=U,U=F;break e}else{n(U,D);break}else t(U,D);D=D.sibling}F=ec(q,U.mode,F),F.return=U,U=F}return x(U);case te:return q=Us(q),Be(U,D,q,F)}if(Q(q))return re(U,D,q,F);if(B(q)){if(fe=B(q),typeof fe!="function")throw Error(o(150));return q=fe.call(q),ge(U,D,q,F)}if(typeof q.then=="function")return Be(U,D,Yi(q),F);if(q.$$typeof===T)return Be(U,D,Pi(U,q),F);Ki(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(n(U,D.sibling),F=d(D,q),F.return=U,U=F):(n(U,D),F=Zo(q,U.mode,F),F.return=U,U=F),x(U)):n(U,D)}return function(U,D,q,F){try{Nr=0;var fe=Be(U,D,q,F);return vn=null,fe}catch(ie){if(ie===bn||ie===Vi)throw ie;var Te=Ot(29,ie,null,U.mode);return Te.lanes=F,Te.return=U,Te}finally{}}}var Bs=sf(!0),nf=sf(!1),Ja=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,t=zi(e),$h(e,null,n),t}return Bi(e,l,t,n),zi(e)}function Sr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Fd(e,n)}}function mc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var d=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?d=f=x:f=f.next=x,n=n.next}while(n!==null);f===null?d=f=t:f=f.next=t}else d=f=t;n={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var gc=!1;function Er(){if(gc){var e=xn;if(e!==null)throw e}}function kr(e,t,n,l){gc=!1;var d=e.updateQueue;Ja=!1;var f=d.firstBaseUpdate,x=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var C=N,$=C.next;C.next=null,x===null?f=$:x.next=$,x=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,N=Y.lastBaseUpdate,N!==x&&(N===null?Y.firstBaseUpdate=$:N.next=$,Y.lastBaseUpdate=C))}if(f!==null){var X=d.baseState;x=0,Y=$=C=null,N=f;do{var P=N.lane&-536870913,G=P!==N.lane;if(G?(Ee&P)===P:(l&P)===P){P!==0&&P===pn&&(gc=!0),Y!==null&&(Y=Y.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var re=e,ge=N;P=t;var Be=n;switch(ge.tag){case 1:if(re=ge.payload,typeof re=="function"){X=re.call(Be,X,P);break e}X=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ge.payload,P=typeof re=="function"?re.call(Be,X,P):re,P==null)break e;X=w({},X,P);break e;case 2:Ja=!0}}P=N.callback,P!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[P]:G.push(P))}else G={lane:P,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Y===null?($=Y=G,C=X):Y=Y.next=G,x|=P;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;G=N,N=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);Y===null&&(C=X),d.baseState=C,d.firstBaseUpdate=$,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),ss|=x,e.lanes=x,e.memoizedState=X}}function rf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function lf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)rf(n[e],t)}var yn=R(null),Qi=R(0);function of(e,t){e=Da,W(Qi,e),W(yn,t),Da=e|t.baseLanes}function pc(){W(Qi,Da),W(yn,yn.current)}function xc(){Da=Qi.current,V(yn),V(Qi)}var Dt=R(null),Kt=null;function Za(e){var t=e.alternate;W(Qe,Qe.current&1),W(Dt,e),Kt===null&&(t===null||yn.current!==null||t.memoizedState!==null)&&(Kt=e)}function bc(e){W(Qe,Qe.current),W(Dt,e),Kt===null&&(Kt=e)}function cf(e){e.tag===22?(W(Qe,Qe.current),W(Dt,e),Kt===null&&(Kt=e)):es()}function es(){W(Qe,Qe.current),W(Dt,Dt.current)}function Mt(e){V(Dt),Kt===e&&(Kt=null),V(Qe)}var Qe=R(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_u(n)||Su(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,ye=null,Ue=null,Xe=null,Ji=!1,wn=!1,zs=!1,Xi=0,Cr=0,jn=null,Ov=0;function Ye(){throw Error(o(321))}function vc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function yc(e,t,n,l,d,f){return Sa=f,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Yf:Uc,zs=!1,f=n(l,d),zs=!1,wn&&(f=df(t,n,l,d)),uf(e),f}function uf(e){O.H=Rr;var t=Ue!==null&&Ue.next!==null;if(Sa=0,Xe=Ue=ye=null,Ji=!1,Cr=0,jn=null,t)throw Error(o(300));e===null||We||(e=e.dependencies,e!==null&&$i(e)&&(We=!0))}function df(e,t,n,l){ye=e;var d=0;do{if(wn&&(jn=null),Cr=0,wn=!1,25<=d)throw Error(o(301));if(d+=1,Xe=Ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=Kf,f=t(n,l)}while(wn);return f}function Dv(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ar(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ye.flags|=1024),t}function wc(){var e=Xi!==0;return Xi=0,e}function jc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Nc(e){if(Ji){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ji=!1}Sa=0,Xe=Ue=ye=null,wn=!1,Cr=Xi=0,jn=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ye.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(Ue===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Xe===null?ye.memoizedState:Xe.next;if(t!==null)Xe=t,Ue=e;else{if(e===null)throw ye.alternate===null?Error(o(467)):Error(o(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?ye.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Wi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ar(e){var t=Cr;return Cr+=1,jn===null&&(jn=[]),e=ef(jn,e,t),t=ye,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Yf:Uc),e}function Zi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ar(e);if(e.$$typeof===T)return ot(e)}throw Error(o(438,String(e)))}function _c(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wi(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=se;return t.index++,n}function Ea(e,t){return typeof t=="function"?t(e):t}function el(e){var t=Fe();return Sc(t,Ue,e)}function Sc(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var x=d.next;d.next=f.next,f.next=x}t.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var N=x=null,C=null,$=t,Y=!1;do{var X=$.lane&-536870913;if(X!==$.lane?(Ee&X)===X:(Sa&X)===X){var P=$.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),X===pn&&(Y=!0);else if((Sa&P)===P){$=$.next,P===pn&&(Y=!0);continue}else X={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(N=C=X,x=f):C=C.next=X,ye.lanes|=P,ss|=P;X=$.action,zs&&n(f,X),f=$.hasEagerState?$.eagerState:n(f,X)}else P={lane:X,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},C===null?(N=C=P,x=f):C=C.next=P,ye.lanes|=X,ss|=X;$=$.next}while($!==null&&$!==t);if(C===null?x=f:C.next=N,!Rt(f,e.memoizedState)&&(We=!0,Y&&(n=xn,n!==null)))throw n;e.memoizedState=f,e.baseState=x,e.baseQueue=C,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ec(e){var t=Fe(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,d=n.pending,f=t.memoizedState;if(d!==null){n.pending=null;var x=d=d.next;do f=e(f,x.action),x=x.next;while(x!==d);Rt(f,t.memoizedState)||(We=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,l]}function hf(e,t,n){var l=ye,d=Fe(),f=Ae;if(f){if(n===void 0)throw Error(o(407));n=n()}else n=t();var x=!Rt((Ue||d).memoizedState,n);if(x&&(d.memoizedState=n,We=!0),d=d.queue,Ac(gf.bind(null,l,d,e),[e]),d.getSnapshot!==t||x||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Nn(9,{destroy:void 0},mf.bind(null,l,d,n,t),null),qe===null)throw Error(o(349));f||(Sa&127)!==0||ff(l,t,n)}return n}function ff(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=Wi(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mf(e,t,n,l){t.value=n,t.getSnapshot=l,pf(t)&&xf(e)}function gf(e,t,n){return n(function(){pf(t)&&xf(e)})}function pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function xf(e){var t=As(e,2);t!==null&&Et(t,e,2)}function kc(e){var t=xt();if(typeof e=="function"){var n=e;if(e=n(),zs){Ha(!0);try{n()}finally{Ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function bf(e,t,n,l){return e.baseState=n,Sc(e,Ue,typeof l=="function"?l:Ea)}function Mv(e,t,n,l,d){if(sl(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};O.T!==null?n(!0):f.isTransition=!1,l(f),n=t.pending,n===null?(f.next=t.pending=f,vf(t,f)):(f.next=n.next,t.pending=n.next=f)}}function vf(e,t){var n=t.action,l=t.payload,d=e.state;if(t.isTransition){var f=O.T,x={};O.T=x;try{var N=n(d,l),C=O.S;C!==null&&C(x,N),yf(e,t,N)}catch($){Cc(e,t,$)}finally{f!==null&&x.types!==null&&(f.types=x.types),O.T=f}}else try{f=n(d,l),yf(e,t,f)}catch($){Cc(e,t,$)}}function yf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){wf(e,t,l)},function(l){return Cc(e,t,l)}):wf(e,t,n)}function wf(e,t,n){t.status="fulfilled",t.value=n,jf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,vf(e,n)))}function Cc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,jf(t),t=t.next;while(t!==l)}e.action=null}function jf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nf(e,t){return t}function _f(e,t){if(Ae){var n=qe.formState;if(n!==null){e:{var l=ye;if(Ae){if($e){t:{for(var d=$e,f=Yt;d.nodeType!==8;){if(!f){d=null;break t}if(d=Qt(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){$e=Qt(d.nextSibling),l=d.data==="F!";break e}}Qa(l)}l=!1}l&&(t=n[0])}}return n=xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:t},n.queue=l,n=Hf.bind(null,ye,l),l.dispatch=n,l=kc(!1),f=Mc.bind(null,ye,!1,l.queue),l=xt(),d={state:t,dispatch:null,action:e,pending:null},l.queue=d,n=Mv.bind(null,ye,d,f,n),d.dispatch=n,l.memoizedState=e,[t,n,!1]}function Sf(e){var t=Fe();return Ef(t,Ue,e)}function Ef(e,t,n){if(t=Sc(e,t,Nf)[0],e=el(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ar(t)}catch(x){throw x===bn?Vi:x}else l=t;t=Fe();var d=t.queue,f=d.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,Nn(9,{destroy:void 0},Uv.bind(null,d,n),null)),[l,f,e]}function Uv(e,t){e.action=t}function kf(e){var t=Fe(),n=Ue;if(n!==null)return Ef(t,n,e);Fe(),t=t.memoizedState,n=Fe();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Nn(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Wi(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Cf(){return Fe().memoizedState}function tl(e,t,n,l){var d=xt();ye.flags|=e,d.memoizedState=Nn(1|t,{destroy:void 0},n,l===void 0?null:l)}function al(e,t,n,l){var d=Fe();l=l===void 0?null:l;var f=d.memoizedState.inst;Ue!==null&&l!==null&&vc(l,Ue.memoizedState.deps)?d.memoizedState=Nn(t,f,n,l):(ye.flags|=e,d.memoizedState=Nn(1|t,f,n,l))}function Af(e,t){tl(8390656,8,e,t)}function Ac(e,t){al(2048,8,e,t)}function Lv(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Wi(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Tf(e){var t=Fe().memoizedState;return Lv({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Rf(e,t){return al(4,2,e,t)}function Of(e,t){return al(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,n){n=n!=null?n.concat([e]):null,al(4,4,Df.bind(null,t,e),n)}function Tc(){}function Uf(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&vc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Lf(e,t){var n=Fe();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&vc(t,l[1]))return l[0];if(l=e(),zs){Ha(!0);try{e()}finally{Ha(!1)}}return n.memoizedState=[l,t],l}function Rc(e,t,n){return n===void 0||(Sa&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Bm(),ye.lanes|=e,ss|=e,n)}function Bf(e,t,n,l){return Rt(n,t)?n:yn.current!==null?(e=Rc(e,n,l),Rt(e,t)||(We=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(Ee&261930)===0?(We=!0,e.memoizedState=n):(e=Bm(),ye.lanes|=e,ss|=e,t)}function zf(e,t,n,l,d){var f=ee.p;ee.p=f!==0&&8>f?f:8;var x=O.T,N={};O.T=N,Mc(e,!1,t,n);try{var C=d(),$=O.S;if($!==null&&$(N,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Rv(C,l);Tr(e,t,Y,Bt(e))}else Tr(e,t,l,Bt(e))}catch(X){Tr(e,t,{then:function(){},status:"rejected",reason:X},Bt())}finally{ee.p=f,x!==null&&N.types!==null&&(x.types=N.types),O.T=x}}function Bv(){}function Oc(e,t,n,l){if(e.tag!==5)throw Error(o(476));var d=qf(e).queue;zf(e,d,t,ae,n===null?Bv:function(){return If(e),n(l)})}function qf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function If(e){var t=qf(e);t.next===null&&(t=e.alternate.memoizedState),Tr(e,t.next.queue,{},Bt())}function Dc(){return ot(Kr)}function $f(){return Fe().memoizedState}function Pf(){return Fe().memoizedState}function zv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bt();e=Xa(n);var l=Wa(t,e,n);l!==null&&(Et(l,t,n),Sr(l,t,n)),t={cache:oc()},e.payload=t;return}t=t.return}}function qv(e,t,n){var l=Bt();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sl(e)?Vf(t,n):(n=Xo(e,t,n,l),n!==null&&(Et(n,e,l),Gf(n,t,l)))}function Hf(e,t,n){var l=Bt();Tr(e,t,n,l)}function Tr(e,t,n,l){var d={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sl(e))Vf(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,N=f(x,n);if(d.hasEagerState=!0,d.eagerState=N,Rt(N,x))return Bi(e,t,d,0),qe===null&&Li(),!1}catch{}finally{}if(n=Xo(e,t,d,l),n!==null)return Et(n,e,l),Gf(n,t,l),!0}return!1}function Mc(e,t,n,l){if(l={lane:2,revertLane:hu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sl(e)){if(t)throw Error(o(479))}else t=Xo(e,n,l,2),t!==null&&Et(t,e,2)}function sl(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Vf(e,t){wn=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gf(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Fd(e,n)}}var Rr={readContext:ot,use:Zi,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Rr.useEffectEvent=Ye;var Yf={readContext:ot,use:Zi,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Af,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,tl(4194308,4,Df.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){tl(4,2,e,t)},useMemo:function(e,t){var n=xt();t=t===void 0?null:t;var l=e();if(zs){Ha(!0);try{e()}finally{Ha(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=xt();if(n!==void 0){var d=n(t);if(zs){Ha(!0);try{n(t)}finally{Ha(!1)}}}else d=t;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=qv.bind(null,ye,e),[l.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=kc(e);var t=e.queue,n=Hf.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tc,useDeferredValue:function(e,t){var n=xt();return Rc(n,e,t)},useTransition:function(){var e=kc(!1);return e=zf.bind(null,ye,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ye,d=xt();if(Ae){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),qe===null)throw Error(o(349));(Ee&127)!==0||ff(l,t,n)}d.memoizedState=n;var f={value:n,getSnapshot:t};return d.queue=f,Af(gf.bind(null,l,f,e),[e]),l.flags|=2048,Nn(9,{destroy:void 0},mf.bind(null,l,f,n,t),null),n},useId:function(){var e=xt(),t=qe.identifierPrefix;if(Ae){var n=ua,l=ca;n=(l&~(1<<32-Tt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Ov++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dc,useFormState:_f,useActionState:_f,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Mc.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:_c,useCacheRefresh:function(){return xt().memoizedState=zv.bind(null,ye)},useEffectEvent:function(e){var t=xt(),n={impl:e};return t.memoizedState=n,function(){if((Oe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Uc={readContext:ot,use:Zi,useCallback:Uf,useContext:ot,useEffect:Ac,useImperativeHandle:Mf,useInsertionEffect:Rf,useLayoutEffect:Of,useMemo:Lf,useReducer:el,useRef:Cf,useState:function(){return el(Ea)},useDebugValue:Tc,useDeferredValue:function(e,t){var n=Fe();return Bf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=el(Ea)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ar(e),t]},useSyncExternalStore:hf,useId:$f,useHostTransitionStatus:Dc,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,t){var n=Fe();return bf(n,Ue,e,t)},useMemoCache:_c,useCacheRefresh:Pf};Uc.useEffectEvent=Tf;var Kf={readContext:ot,use:Zi,useCallback:Uf,useContext:ot,useEffect:Ac,useImperativeHandle:Mf,useInsertionEffect:Rf,useLayoutEffect:Of,useMemo:Lf,useReducer:Ec,useRef:Cf,useState:function(){return Ec(Ea)},useDebugValue:Tc,useDeferredValue:function(e,t){var n=Fe();return Ue===null?Rc(n,e,t):Bf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Ec(Ea)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ar(e),t]},useSyncExternalStore:hf,useId:$f,useHostTransitionStatus:Dc,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=Fe();return Ue!==null?bf(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:_c,useCacheRefresh:Pf};Kf.useEffectEvent=Tf;function Lc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Bt(),d=Xa(l);d.payload=t,n!=null&&(d.callback=n),t=Wa(e,d,l),t!==null&&(Et(t,e,l),Sr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Bt(),d=Xa(l);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=Wa(e,d,l),t!==null&&(Et(t,e,l),Sr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),l=Xa(n);l.tag=2,t!=null&&(l.callback=t),t=Wa(e,l,n),t!==null&&(Et(t,e,n),Sr(t,e,n))}};function Qf(e,t,n,l,d,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,x):t.prototype&&t.prototype.isPureReactComponent?!xr(n,l)||!xr(d,f):!0}function Ff(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Bc.enqueueReplaceState(t,t.state,null)}function qs(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var d in e)n[d]===void 0&&(n[d]=e[d])}return n}function Jf(e){Ui(e)}function Xf(e){console.error(e)}function Wf(e){Ui(e)}function nl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Zf(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function zc(e,t,n){return n=Xa(n),n.tag=3,n.payload={element:null},n.callback=function(){nl(e,t)},n}function em(e){return e=Xa(e),e.tag=3,e}function tm(e,t,n,l){var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){Zf(t,n,l)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Zf(t,n,l),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Iv(e,t,n,l,d){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&gn(t,n,d,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Kt===null?pl():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=d,l===Gi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),cu(e,l,d)),!1;case 22:return n.flags|=65536,l===Gi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),cu(e,l,d)),!1}throw Error(o(435,n.tag))}return cu(e,l,d),pl(),!1}if(Ae)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,l!==sc&&(e=Error(o(422),{cause:l}),yr(Ht(e,n)))):(l!==sc&&(t=Error(o(423),{cause:l}),yr(Ht(t,n))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Ht(l,n),d=zc(e.stateNode,l,d),mc(e,d),Ke!==4&&(Ke=2)),!1;var f=Error(o(520),{cause:l});if(f=Ht(f,n),qr===null?qr=[f]:qr.push(f),Ke!==4&&(Ke=2),t===null)return!0;l=Ht(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=d&-d,n.lanes|=e,e=zc(n.stateNode,l,e),mc(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return n.flags|=65536,d&=-d,n.lanes|=d,d=em(d),tm(d,e,n,l),mc(n,d),!1}n=n.return}while(n!==null);return!1}var qc=Error(o(461)),We=!1;function ct(e,t,n,l){t.child=e===null?nf(t,null,n,l):Bs(t,e.child,n,l)}function am(e,t,n,l,d){n=n.render;var f=t.ref;if("ref"in l){var x={};for(var N in l)N!=="ref"&&(x[N]=l[N])}else x=l;return Ds(t),l=yc(e,t,n,x,f,d),N=wc(),e!==null&&!We?(jc(e,t,d),ka(e,t,d)):(Ae&&N&&tc(t),t.flags|=1,ct(e,t,l,d),t.child)}function sm(e,t,n,l,d){if(e===null){var f=n.type;return typeof f=="function"&&!Wo(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,nm(e,t,f,l,d)):(e=qi(n.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Kc(e,d)){var x=f.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(x,l)&&e.ref===t.ref)return ka(e,t,d)}return t.flags|=1,e=wa(f,l),e.ref=t.ref,e.return=t,t.child=e}function nm(e,t,n,l,d){if(e!==null){var f=e.memoizedProps;if(xr(f,l)&&e.ref===t.ref)if(We=!1,t.pendingProps=l=f,Kc(e,d))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,ka(e,t,d)}return Ic(e,t,n,l,d)}function rm(e,t,n,l){var d=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(l=t.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,t.child=null;return im(e,t,f,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hi(t,f!==null?f.cachePool:null),f!==null?of(t,f):pc(),cf(t);else return l=t.lanes=536870912,im(e,t,f!==null?f.baseLanes|n:n,n,l)}else f!==null?(Hi(t,f.cachePool),of(t,f),es(),t.memoizedState=null):(e!==null&&Hi(t,null),pc(),es());return ct(e,t,d,n),t.child}function Or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function im(e,t,n,l,d){var f=uc();return f=f===null?null:{parent:Je._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&Hi(t,null),pc(),cf(t),e!==null&&gn(e,t,l,!0),t.childLanes=d,null}function rl(e,t){return t=ll({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lm(e,t,n){return Bs(t,e.child,null,n),e=rl(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function $v(e,t,n){var l=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=rl(t,l),t.lanes=536870912,Or(null,e);if(bc(t),(e=$e)?(e=vg(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},n=Hh(e),n.return=t,t.child=n,lt=t,$e=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return rl(t,l)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(bc(t),d)if(t.flags&256)t.flags&=-257,t=lm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(We||gn(e,t,n,!1),d=(n&e.childLanes)!==0,We||d){if(l=qe,l!==null&&(x=Jd(l,n),x!==0&&x!==f.retryLane))throw f.retryLane=x,As(e,x),Et(l,e,x),qc;pl(),t=lm(e,t,n)}else e=f.treeContext,$e=Qt(x.nextSibling),lt=t,Ae=!0,Ka=null,Yt=!1,e!==null&&Yh(t,e),t=rl(t,l),t.flags|=4096;return t}return e=wa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function il(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ic(e,t,n,l,d){return Ds(t),n=yc(e,t,n,l,void 0,d),l=wc(),e!==null&&!We?(jc(e,t,d),ka(e,t,d)):(Ae&&l&&tc(t),t.flags|=1,ct(e,t,n,d),t.child)}function om(e,t,n,l,d,f){return Ds(t),t.updateQueue=null,n=df(t,l,n,d),uf(e),l=wc(),e!==null&&!We?(jc(e,t,f),ka(e,t,f)):(Ae&&l&&tc(t),t.flags|=1,ct(e,t,n,f),t.child)}function cm(e,t,n,l,d){if(Ds(t),t.stateNode===null){var f=dn,x=n.contextType;typeof x=="object"&&x!==null&&(f=ot(x)),f=new n(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},hc(t),x=n.contextType,f.context=typeof x=="object"&&x!==null?ot(x):dn,f.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Lc(t,n,x,l),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Bc.enqueueReplaceState(f,f.state,null),kr(t,l,f,d),Er(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var N=t.memoizedProps,C=qs(n,N);f.props=C;var $=f.context,Y=n.contextType;x=dn,typeof Y=="object"&&Y!==null&&(x=ot(Y));var X=n.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(N||$!==x)&&Ff(t,f,l,x),Ja=!1;var P=t.memoizedState;f.state=P,kr(t,l,f,d),Er(),$=t.memoizedState,N||P!==$||Ja?(typeof X=="function"&&(Lc(t,n,X,l),$=t.memoizedState),(C=Ja||Qf(t,n,C,l,P,$,x))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=$),f.props=l,f.state=$,f.context=x,l=C):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,fc(e,t),x=t.memoizedProps,Y=qs(n,x),f.props=Y,X=t.pendingProps,P=f.context,$=n.contextType,C=dn,typeof $=="object"&&$!==null&&(C=ot($)),N=n.getDerivedStateFromProps,($=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==X||P!==C)&&Ff(t,f,l,C),Ja=!1,P=t.memoizedState,f.state=P,kr(t,l,f,d),Er();var G=t.memoizedState;x!==X||P!==G||Ja||e!==null&&e.dependencies!==null&&$i(e.dependencies)?(typeof N=="function"&&(Lc(t,n,N,l),G=t.memoizedState),(Y=Ja||Qf(t,n,Y,l,P,G,C)||e!==null&&e.dependencies!==null&&$i(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),f.props=l,f.state=G,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,il(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Bs(t,e.child,null,d),t.child=Bs(t,null,n,d)):ct(e,t,n,d),t.memoizedState=f.state,e=t.child):e=ka(e,t,d),e}function um(e,t,n,l){return Rs(),t.flags|=256,ct(e,t,n,l),t.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pc(e){return{baseLanes:e,cachePool:Wh()}}function Hc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function dm(e,t,n){var l=t.pendingProps,d=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),x&&(d=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(d?Za(t):es(),(e=$e)?(e=vg(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ya!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},n=Hh(e),n.return=t,t.child=n,lt=t,$e=null)):e=null,e===null)throw Qa(t);return Su(e)?t.lanes=32:t.lanes=536870912,null}var N=l.children;return l=l.fallback,d?(es(),d=t.mode,N=ll({mode:"hidden",children:N},d),l=Ts(l,d,n,null),N.return=t,l.return=t,N.sibling=l,t.child=N,l=t.child,l.memoizedState=Pc(n),l.childLanes=Hc(e,x,n),t.memoizedState=$c,Or(null,l)):(Za(t),Vc(t,N))}var C=e.memoizedState;if(C!==null&&(N=C.dehydrated,N!==null)){if(f)t.flags&256?(Za(t),t.flags&=-257,t=Gc(e,t,n)):t.memoizedState!==null?(es(),t.child=e.child,t.flags|=128,t=null):(es(),N=l.fallback,d=t.mode,l=ll({mode:"visible",children:l.children},d),N=Ts(N,d,n,null),N.flags|=2,l.return=t,N.return=t,l.sibling=N,t.child=l,Bs(t,e.child,null,n),l=t.child,l.memoizedState=Pc(n),l.childLanes=Hc(e,x,n),t.memoizedState=$c,t=Or(null,l));else if(Za(t),Su(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var $=x.dgst;x=$,l=Error(o(419)),l.stack="",l.digest=x,yr({value:l,source:null,stack:null}),t=Gc(e,t,n)}else if(We||gn(e,t,n,!1),x=(n&e.childLanes)!==0,We||x){if(x=qe,x!==null&&(l=Jd(x,n),l!==0&&l!==C.retryLane))throw C.retryLane=l,As(e,l),Et(x,e,l),qc;_u(N)||pl(),t=Gc(e,t,n)}else _u(N)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,$e=Qt(N.nextSibling),lt=t,Ae=!0,Ka=null,Yt=!1,e!==null&&Yh(t,e),t=Vc(t,l.children),t.flags|=4096);return t}return d?(es(),N=l.fallback,d=t.mode,C=e.child,$=C.sibling,l=wa(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,$!==null?N=wa($,N):(N=Ts(N,d,n,null),N.flags|=2),N.return=t,l.return=t,l.sibling=N,t.child=l,Or(null,l),l=t.child,N=e.child.memoizedState,N===null?N=Pc(n):(d=N.cachePool,d!==null?(C=Je._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Wh(),N={baseLanes:N.baseLanes|n,cachePool:d}),l.memoizedState=N,l.childLanes=Hc(e,x,n),t.memoizedState=$c,Or(e.child,l)):(Za(t),n=e.child,e=n.sibling,n=wa(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function Vc(e,t){return t=ll({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ll(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Gc(e,t,n){return Bs(t,e.child,null,n),e=Vc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ic(e.return,t,n)}function Yc(e,t,n,l,d,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:d,treeForkCount:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=n,x.tailMode=d,x.treeForkCount=f)}function fm(e,t,n){var l=t.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var x=Qe.current,N=(x&2)!==0;if(N?(x=x&1|2,t.flags|=128):x&=1,W(Qe,x),ct(e,t,l,n),l=Ae?vr:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,n,t);else if(e.tag===19)hm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Fi(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Yc(t,!1,d,n,f,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Fi(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Yc(t,!0,n,null,f,l);break;case"together":Yc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ka(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(gn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=wa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$i(e)))}function Pv(e,t,n){switch(t.tag){case 3:Ce(t,t.stateNode.containerInfo),Fa(t,Je,e.memoizedState.cache),Rs();break;case 27:case 5:ze(t);break;case 4:Ce(t,t.stateNode.containerInfo);break;case 10:Fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Za(t),t.flags|=128,null):(n&t.child.childLanes)!==0?dm(e,t,n):(Za(t),e=ka(e,t,n),e!==null?e.sibling:null);Za(t);break;case 19:var d=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(gn(e,t,n,!1),l=(n&t.childLanes)!==0),d){if(l)return fm(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Qe,Qe.current),l)break;return null;case 22:return t.lanes=0,rm(e,t,n,t.pendingProps);case 24:Fa(t,Je,e.memoizedState.cache)}return ka(e,t,n)}function mm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Kc(e,n)&&(t.flags&128)===0)return We=!1,Pv(e,t,n);We=(e.flags&131072)!==0}else We=!1,Ae&&(t.flags&1048576)!==0&&Gh(t,vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Us(t.elementType),t.type=e,typeof e=="function")Wo(e)?(l=qs(e,l),t.tag=1,t=cm(null,t,e,l,n)):(t.tag=0,t=Ic(null,t,e,l,n));else{if(e!=null){var d=e.$$typeof;if(d===I){t.tag=11,t=am(null,t,e,l,n);break e}else if(d===z){t.tag=14,t=sm(null,t,e,l,n);break e}}throw t=H(e)||e,Error(o(306,t,""))}}return t;case 0:return Ic(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,d=qs(l,t.pendingProps),cm(e,t,l,d,n);case 3:e:{if(Ce(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var f=t.memoizedState;d=f.element,fc(e,t),kr(t,l,null,n);var x=t.memoizedState;if(l=x.cache,Fa(t,Je,l),l!==f.cache&&lc(t,[Je],n,!0),Er(),l=x.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=um(e,t,l,n);break e}else if(l!==d){d=Ht(Error(o(424)),t),yr(d),t=um(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Qt(e.firstChild),lt=t,Ae=!0,Ka=null,Yt=!0,n=nf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Rs(),l===d){t=ka(e,t,n);break e}ct(e,t,l,n)}t=t.child}return t;case 26:return il(e,t),e===null?(n=Sg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ae||(n=t.type,e=t.pendingProps,l=Nl(oe.current).createElement(n),l[it]=t,l[yt]=e,ut(l,n,e),nt(l),t.stateNode=l):t.memoizedState=Sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&Ae&&(l=t.stateNode=jg(t.type,t.pendingProps,oe.current),lt=t,Yt=!0,d=$e,os(t.type)?(Eu=d,$e=Qt(l.firstChild)):$e=d),ct(e,t,t.pendingProps.children,n),il(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((d=l=$e)&&(l=by(l,t.type,t.pendingProps,Yt),l!==null?(t.stateNode=l,lt=t,$e=Qt(l.firstChild),Yt=!1,d=!0):d=!1),d||Qa(t)),ze(t),d=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,l=f.children,wu(d,f)?l=null:x!==null&&wu(d,x)&&(t.flags|=32),t.memoizedState!==null&&(d=yc(e,t,Dv,null,null,n),Kr._currentValue=d),il(e,t),ct(e,t,l,n),t.child;case 6:return e===null&&Ae&&((e=n=$e)&&(n=vy(n,t.pendingProps,Yt),n!==null?(t.stateNode=n,lt=t,$e=null,e=!0):e=!1),e||Qa(t)),null;case 13:return dm(e,t,n);case 4:return Ce(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Bs(t,null,l,n):ct(e,t,l,n),t.child;case 11:return am(e,t,t.type,t.pendingProps,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Fa(t,t.type,l.value),ct(e,t,l.children,n),t.child;case 9:return d=t.type._context,l=t.pendingProps.children,Ds(t),d=ot(d),l=l(d),t.flags|=1,ct(e,t,l,n),t.child;case 14:return sm(e,t,t.type,t.pendingProps,n);case 15:return nm(e,t,t.type,t.pendingProps,n);case 19:return fm(e,t,n);case 31:return $v(e,t,n);case 22:return rm(e,t,n,t.pendingProps);case 24:return Ds(t),l=ot(Je),e===null?(d=uc(),d===null&&(d=qe,f=oc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=n),d=f),t.memoizedState={parent:l,cache:d},hc(t),Fa(t,Je,d)):((e.lanes&n)!==0&&(fc(e,t),kr(t,null,null,n),Er()),d=e.memoizedState,f=t.memoizedState,d.parent!==l?(d={parent:l,cache:l},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Fa(t,Je,l)):(l=f.cache,Fa(t,Je,l),l!==d.cache&&lc(t,[Je],n,!0))),ct(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ca(e){e.flags|=4}function Qc(e,t,n,l,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if($m())e.flags|=8192;else throw Ls=Gi,dc}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t))if($m())e.flags|=8192;else throw Ls=Gi,dc}function ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kd():536870912,e.lanes|=t,kn|=t)}function Dr(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Hv(e,t,n){var l=t.pendingProps;switch(ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),_a(Je),Se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mn(t)?Ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nc())),Pe(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(Ca(t),f!==null?(Pe(t),gm(t,f)):(Pe(t),Qc(t,d,null,l,n))):f?f!==e.memoizedState?(Ca(t),Pe(t),gm(t,f)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ca(t),Pe(t),Qc(t,d,e,l,n)),null;case 27:if(kt(t),n=oe.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}e=Z.current,mn(t)?Kh(t):(e=jg(d,l,n),t.stateNode=e,Ca(t))}return Pe(t),null;case 5:if(kt(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}if(f=Z.current,mn(t))Kh(t);else{var x=Nl(oe.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?x.createElement(d,{is:l.is}):x.createElement(d)}}f[it]=t,f[yt]=l;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=f;e:switch(ut(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ca(t)}}return Pe(t),Qc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ca(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=oe.current,mn(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,d=lt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||dg(e.nodeValue,n)),e||Qa(t,!0)}else e=Nl(e).createTextNode(l),e[it]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=mn(t),n!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[it]=t}else Rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Pe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=mn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[it]=t}else Rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),d=!1}else d=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ol(t,t.updateQueue),Pe(t),null);case 4:return Se(),e===null&&pu(t.stateNode.containerInfo),Pe(t),null;case 10:return _a(t.type),Pe(t),null;case 19:if(V(Qe),l=t.memoizedState,l===null)return Pe(t),null;if(d=(t.flags&128)!==0,f=l.rendering,f===null)if(d)Dr(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Fi(e),f!==null){for(t.flags|=128,Dr(l,!1),e=f.updateQueue,t.updateQueue=e,ol(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ph(n,e),n=n.sibling;return W(Qe,Qe.current&1|2),Ae&&ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&he()>fl&&(t.flags|=128,d=!0,Dr(l,!1),t.lanes=4194304)}else{if(!d)if(e=Fi(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,ol(t,e),Dr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ae)return Pe(t),null}else 2*he()-l.renderingStartTime>fl&&n!==536870912&&(t.flags|=128,d=!0,Dr(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=he(),e.sibling=null,n=Qe.current,W(Qe,d?n&1|2:n&1),Ae&&ja(t,l.treeForkCount),e):(Pe(t),null);case 22:case 23:return Mt(t),xc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&ol(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&V(Ms),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_a(Je),Pe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Vv(e,t){switch(ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(Je),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kt(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(o(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Qe),null;case 4:return Se(),null;case 10:return _a(t.type),null;case 22:case 23:return Mt(t),xc(),e!==null&&V(Ms),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(Je),null;case 25:return null;default:return null}}function pm(e,t){switch(ac(t),t.tag){case 3:_a(Je),Se();break;case 26:case 27:case 5:kt(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:V(Qe);break;case 10:_a(t.type);break;case 22:case 23:Mt(t),xc(),e!==null&&V(Ms);break;case 24:_a(Je)}}function Mr(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var d=l.next;n=d;do{if((n.tag&e)===e){l=void 0;var f=n.create,x=n.inst;l=f(),x.destroy=l}n=n.next}while(n!==d)}}catch(N){Me(t,t.return,N)}}function ts(e,t,n){try{var l=t.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var x=l.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,d=t;var C=n,$=N;try{$()}catch(Y){Me(d,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){Me(t,t.return,Y)}}function xm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lf(t,n)}catch(l){Me(e,e.return,l)}}}function bm(e,t,n){n.props=qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Me(e,t,l)}}function Ur(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(d){Me(e,t,d)}}function da(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(d){Me(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(d){Me(e,t,d)}else n.current=null}function vm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(d){Me(e,e.return,d)}}function Fc(e,t,n){try{var l=e.stateNode;hy(l,e.type,n,t),l[yt]=t}catch(d){Me(e,e.return,d)}}function ym(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&os(e.type)||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(l!==4&&(l===27&&os(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xc(e,t,n),e=e.sibling;e!==null;)Xc(e,t,n),e=e.sibling}function cl(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&os(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function wm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);ut(t,l,n),t[it]=e,t[yt]=n}catch(f){Me(e,e.return,f)}}var Aa=!1,Ze=!1,Wc=!1,jm=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Gv(e,t){if(e=e.containerInfo,vu=Tl,e=Dh(e),Go(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var x=0,N=-1,C=-1,$=0,Y=0,X=e,P=null;t:for(;;){for(var G;X!==n||d!==0&&X.nodeType!==3||(N=x+d),X!==f||l!==0&&X.nodeType!==3||(C=x+l),X.nodeType===3&&(x+=X.nodeValue.length),(G=X.firstChild)!==null;)P=X,X=G;for(;;){if(X===e)break t;if(P===n&&++$===d&&(N=x),P===f&&++Y===l&&(C=x),(G=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=G}n=N===-1||C===-1?null:{start:N,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(yu={focusedElem:e,selectionRange:n},Tl=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)d=e[n],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,d=f.memoizedProps,f=f.memoizedState,l=n.stateNode;try{var re=qs(n.type,d);e=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Me(n,n.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Nu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function Nm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Ra(e,n),l&4&&Mr(5,n);break;case 1:if(Ra(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){Me(n,n.return,x)}else{var d=qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Me(n,n.return,x)}}l&64&&xm(n),l&512&&Ur(n,n.return);break;case 3:if(Ra(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lf(e,t)}catch(x){Me(n,n.return,x)}}break;case 27:t===null&&l&4&&wm(n);case 26:case 5:Ra(e,n),t===null&&l&4&&vm(n),l&512&&Ur(n,n.return);break;case 12:Ra(e,n);break;case 31:Ra(e,n),l&4&&Em(e,n);break;case 13:Ra(e,n),l&4&&km(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ey.bind(null,n),yy(e,n))));break;case 22:if(l=n.memoizedState!==null||Aa,!l){t=t!==null&&t.memoizedState!==null||Ze,d=Aa;var f=Ze;Aa=l,(Ze=t)&&!f?Oa(e,n,(n.subtreeFlags&8772)!==0):Ra(e,n),Aa=d,Ze=f}break;case 30:break;default:Ra(e,n)}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Co(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,jt=!1;function Ta(e,t,n){for(n=n.child;n!==null;)Sm(e,t,n),n=n.sibling}function Sm(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(rr,n)}catch{}switch(n.tag){case 26:Ze||da(n,t),Ta(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||da(n,t);var l=He,d=jt;os(n.type)&&(He=n.stateNode,jt=!1),Ta(e,t,n),Vr(n.stateNode),He=l,jt=d;break;case 5:Ze||da(n,t);case 6:if(l=He,d=jt,He=null,Ta(e,t,n),He=l,jt=d,He!==null)if(jt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(f){Me(n,t,f)}else try{He.removeChild(n.stateNode)}catch(f){Me(n,t,f)}break;case 18:He!==null&&(jt?(e=He,xg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Un(e)):xg(He,n.stateNode));break;case 4:l=He,d=jt,He=n.stateNode.containerInfo,jt=!0,Ta(e,t,n),He=l,jt=d;break;case 0:case 11:case 14:case 15:ts(2,n,t),Ze||ts(4,n,t),Ta(e,t,n);break;case 1:Ze||(da(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&bm(n,t,l)),Ta(e,t,n);break;case 21:Ta(e,t,n);break;case 22:Ze=(l=Ze)||n.memoizedState!==null,Ta(e,t,n),Ze=l;break;default:Ta(e,t,n)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Un(e)}catch(n){Me(t,t.return,n)}}}function km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Un(e)}catch(n){Me(t,t.return,n)}}function Yv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jm),t;default:throw Error(o(435,e.tag))}}function ul(e,t){var n=Yv(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var d=ty.bind(null,e,l);l.then(d,d)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var d=n[l],f=e,x=t,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(os(N.type)){He=N.stateNode,jt=!1;break e}break;case 5:He=N.stateNode,jt=!1;break e;case 3:case 4:He=N.stateNode.containerInfo,jt=!0;break e}N=N.return}if(He===null)throw Error(o(160));Sm(f,x,d),He=null,jt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}var ea=null;function Cm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),_t(e),l&4&&(ts(3,e,e.return),Mr(3,e),ts(5,e,e.return));break;case 1:Nt(t,e),_t(e),l&512&&(Ze||n===null||da(n,n.return)),l&64&&Aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var d=ea;if(Nt(t,e),_t(e),l&512&&(Ze||n===null||da(n,n.return)),l&4){var f=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[or]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),ut(f,l,n),f[it]=e,nt(f),l=f;break e;case"link":var x=Cg("link","href",d).get(l+(n.href||""));if(x){for(var N=0;N<x.length;N++)if(f=x[N],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(N,1);break t}}f=d.createElement(l),ut(f,l,n),d.head.appendChild(f);break;case"meta":if(x=Cg("meta","content",d).get(l+(n.content||""))){for(N=0;N<x.length;N++)if(f=x[N],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(N,1);break t}}f=d.createElement(l),ut(f,l,n),d.head.appendChild(f);break;default:throw Error(o(468,l))}f[it]=e,nt(f),l=f}e.stateNode=l}else Ag(d,e.type,e.stateNode);else e.stateNode=kg(d,l,e.memoizedProps);else f!==l?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,l===null?Ag(d,e.type,e.stateNode):kg(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),_t(e),l&512&&(Ze||n===null||da(n,n.return)),n!==null&&l&4&&Fc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),_t(e),l&512&&(Ze||n===null||da(n,n.return)),e.flags&32){d=e.stateNode;try{sn(d,"")}catch(re){Me(e,e.return,re)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Fc(e,d,n!==null?n.memoizedProps:d)),l&1024&&(Wc=!0);break;case 6:if(Nt(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(re){Me(e,e.return,re)}}break;case 3:if(El=null,d=ea,ea=_l(t.containerInfo),Nt(t,e),ea=d,_t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Un(t.containerInfo)}catch(re){Me(e,e.return,re)}Wc&&(Wc=!1,Am(e));break;case 4:l=ea,ea=_l(e.stateNode.containerInfo),Nt(t,e),_t(e),ea=l;break;case 12:Nt(t,e),_t(e);break;case 31:Nt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ul(e,l)));break;case 13:Nt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hl=he()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ul(e,l)));break;case 22:d=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,$=Aa,Y=Ze;if(Aa=$||d,Ze=Y||C,Nt(t,e),Ze=Y,Aa=$,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(n===null||C||Aa||Ze||Is(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(f=C.stateNode,d)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=C.stateNode;var X=C.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;N.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(re){Me(C,C.return,re)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(re){Me(C,C.return,re)}}}else if(t.tag===18){if(n===null){C=t;try{var G=C.stateNode;d?bg(G,!0):bg(C.stateNode,!1)}catch(re){Me(C,C.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,ul(e,n))));break;case 19:Nt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ul(e,l)));break;case 30:break;case 21:break;default:Nt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(ym(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var d=n.stateNode,f=Jc(e);cl(e,f,d);break;case 5:var x=n.stateNode;n.flags&32&&(sn(x,""),n.flags&=-33);var N=Jc(e);cl(e,N,x);break;case 3:case 4:var C=n.stateNode.containerInfo,$=Jc(e);Xc(e,$,C);break;default:throw Error(o(161))}}catch(Y){Me(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Am(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Am(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nm(e,t.alternate,t),t=t.sibling}function Is(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ts(4,t,t.return),Is(t);break;case 1:da(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bm(t,t.return,n),Is(t);break;case 27:Vr(t.stateNode);case 26:case 5:da(t,t.return),Is(t);break;case 22:t.memoizedState===null&&Is(t);break;case 30:Is(t);break;default:Is(t)}e=e.sibling}}function Oa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,d=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Oa(d,f,n),Mr(4,f);break;case 1:if(Oa(d,f,n),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Me(l,l.return,$)}if(l=f,d=l.updateQueue,d!==null){var N=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)rf(C[d],N)}catch($){Me(l,l.return,$)}}n&&x&64&&xm(f),Ur(f,f.return);break;case 27:wm(f);case 26:case 5:Oa(d,f,n),n&&l===null&&x&4&&vm(f),Ur(f,f.return);break;case 12:Oa(d,f,n);break;case 31:Oa(d,f,n),n&&x&4&&Em(d,f);break;case 13:Oa(d,f,n),n&&x&4&&km(d,f);break;case 22:f.memoizedState===null&&Oa(d,f,n),Ur(f,f.return);break;case 30:break;default:Oa(d,f,n)}t=t.sibling}}function Zc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&wr(n))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e))}function ta(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(e,t,n,l),t=t.sibling}function Tm(e,t,n,l){var d=t.flags;switch(t.tag){case 0:case 11:case 15:ta(e,t,n,l),d&2048&&Mr(9,t);break;case 1:ta(e,t,n,l);break;case 3:ta(e,t,n,l),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wr(e)));break;case 12:if(d&2048){ta(e,t,n,l),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,N=f.onPostCommit;typeof N=="function"&&N(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Me(t,t.return,C)}}else ta(e,t,n,l);break;case 31:ta(e,t,n,l);break;case 13:ta(e,t,n,l);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?ta(e,t,n,l):Lr(e,t):f._visibility&2?ta(e,t,n,l):(f._visibility|=2,_n(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),d&2048&&Zc(x,t);break;case 24:ta(e,t,n,l),d&2048&&eu(t.alternate,t);break;default:ta(e,t,n,l)}}function _n(e,t,n,l,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,x=t,N=n,C=l,$=x.flags;switch(x.tag){case 0:case 11:case 15:_n(f,x,N,C,d),Mr(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?_n(f,x,N,C,d):Lr(f,x):(Y._visibility|=2,_n(f,x,N,C,d)),d&&$&2048&&Zc(x.alternate,x);break;case 24:_n(f,x,N,C,d),d&&$&2048&&eu(x.alternate,x);break;default:_n(f,x,N,C,d)}t=t.sibling}}function Lr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,d=l.flags;switch(l.tag){case 22:Lr(n,l),d&2048&&Zc(l.alternate,l);break;case 24:Lr(n,l),d&2048&&eu(l.alternate,l);break;default:Lr(n,l)}t=t.sibling}}var Br=8192;function Sn(e,t,n){if(e.subtreeFlags&Br)for(e=e.child;e!==null;)Rm(e,t,n),e=e.sibling}function Rm(e,t,n){switch(e.tag){case 26:Sn(e,t,n),e.flags&Br&&e.memoizedState!==null&&Oy(n,ea,e.memoizedState,e.memoizedProps);break;case 5:Sn(e,t,n);break;case 3:case 4:var l=ea;ea=_l(e.stateNode.containerInfo),Sn(e,t,n),ea=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Br,Br=16777216,Sn(e,t,n),Br=l):Sn(e,t,n));break;default:Sn(e,t,n)}}function Om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];rt=l,Mm(l,e)}Om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dm(e),e=e.sibling}function Dm(e){switch(e.tag){case 0:case 11:case 15:zr(e),e.flags&2048&&ts(9,e,e.return);break;case 3:zr(e);break;case 12:zr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,dl(e)):zr(e);break;default:zr(e)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];rt=l,Mm(l,e)}Om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ts(8,t,t.return),dl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,dl(t));break;default:dl(t)}e=e.sibling}}function Mm(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:ts(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wr(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,rt=l;else e:for(n=e;rt!==null;){l=rt;var d=l.sibling,f=l.return;if(_m(l),l===n){rt=null;break e}if(d!==null){d.return=f,rt=d;break e}rt=f}}}var Kv={getCacheForType:function(e){var t=ot(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ot(Je).controller.signal}},Qv=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,Ne=null,Ee=0,De=0,Ut=null,as=!1,En=!1,tu=!1,Da=0,Ke=0,ss=0,$s=0,au=0,Lt=0,kn=0,qr=null,St=null,su=!1,hl=0,Um=0,fl=1/0,ml=null,ns=null,at=0,rs=null,Cn=null,Ma=0,nu=0,ru=null,Lm=null,Ir=0,iu=null;function Bt(){return(Oe&2)!==0&&Ee!==0?Ee&-Ee:O.T!==null?hu():Xd()}function Bm(){if(Lt===0)if((Ee&536870912)===0||Ae){var e=ji;ji<<=1,(ji&3932160)===0&&(ji=262144),Lt=e}else Lt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Lt}function Et(e,t,n){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(An(e,0),is(e,Ee,Lt,!1)),lr(e,n),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&($s|=n),Ke===4&&is(e,Ee,Lt,!1)),ha(e))}function zm(e,t,n){if((Oe&6)!==0)throw Error(o(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ir(e,t),d=l?Xv(e,t):ou(e,t,!0),f=l;do{if(d===0){En&&!l&&is(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Fv(n)){d=ou(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var N=e;d=qr;var C=N.current.memoizedState.isDehydrated;if(C&&(An(N,x).flags|=256),x=ou(N,x,!1),x!==2){if(tu&&!C){N.errorRecoveryDisabledLanes|=f,$s|=f,d=4;break e}f=St,St=d,f!==null&&(St===null?St=f:St.push.apply(St,f))}d=x}if(f=!1,d!==2)continue}}if(d===1){An(e,0),is(e,t,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:is(l,t,Lt,!as);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(d=hl+300-he(),10<d)){if(is(l,t,Lt,!as),_i(l,0,!0)!==0)break e;Ma=t,l.timeoutHandle=gg(qm.bind(null,l,n,St,ml,su,t,Lt,$s,kn,as,f,"Throttled",-0,0),d);break e}qm(l,n,St,ml,su,t,Lt,$s,kn,as,f,null,-0,0)}}break}while(!0);ha(e)}function qm(e,t,n,l,d,f,x,N,C,$,Y,X,P,G){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Rm(t,f,X);var re=(f&62914560)===f?hl-he():(f&4194048)===f?Um-he():0;if(re=Dy(X,re),re!==null){Ma=f,e.cancelPendingCommit=re(Km.bind(null,e,t,f,n,l,d,x,N,C,Y,X,null,P,G)),is(e,f,x,!$);return}}Km(e,t,f,n,l,d,x,N,C)}function Fv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var d=n[l],f=d.getSnapshot;d=d.value;try{if(!Rt(f(),d))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,n,l){t&=~au,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var d=t;0<d;){var f=31-Tt(d),x=1<<f;l[f]=-1,d&=~x}n!==0&&Qd(e,n,t)}function gl(){return(Oe&6)===0?($r(0),!1):!0}function lu(){if(Ne!==null){if(De===0)var e=Ne.return;else e=Ne,Na=Os=null,Nc(e),vn=null,Nr=0,e=Ne;for(;e!==null;)pm(e.alternate,e),e=e.return;Ne=null}}function An(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ma=0,lu(),qe=e,Ne=n=wa(e.current,null),Ee=t,De=0,Ut=null,as=!1,En=ir(e,t),tu=!1,kn=Lt=au=$s=ss=Ke=0,St=qr=null,su=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var d=31-Tt(l),f=1<<d;t|=e[d],l&=~f}return Da=t,Li(),n}function Im(e,t){ye=null,O.H=Rr,t===bn||t===Vi?(t=tf(),De=3):t===dc?(t=tf(),De=4):De=t===qc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,Ne===null&&(Ke=1,nl(e,Ht(t,e.current)))}function $m(){var e=Dt.current;return e===null?!0:(Ee&4194048)===Ee?Kt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Kt:!1}function Pm(){var e=O.H;return O.H=Rr,e===null?Rr:e}function Hm(){var e=O.A;return O.A=Kv,e}function pl(){Ke=4,as||(Ee&4194048)!==Ee&&Dt.current!==null||(En=!0),(ss&134217727)===0&&($s&134217727)===0||qe===null||is(qe,Ee,Lt,!1)}function ou(e,t,n){var l=Oe;Oe|=2;var d=Pm(),f=Hm();(qe!==e||Ee!==t)&&(ml=null,An(e,t)),t=!1;var x=Ke;e:do try{if(De!==0&&Ne!==null){var N=Ne,C=Ut;switch(De){case 8:lu(),x=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var $=De;if(De=0,Ut=null,Tn(e,N,C,$),n&&En){x=0;break e}break;default:$=De,De=0,Ut=null,Tn(e,N,C,$)}}Jv(),x=Ke;break}catch(Y){Im(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Na=Os=null,Oe=l,O.H=d,O.A=f,Ne===null&&(qe=null,Ee=0,Li()),x}function Jv(){for(;Ne!==null;)Vm(Ne)}function Xv(e,t){var n=Oe;Oe|=2;var l=Pm(),d=Hm();qe!==e||Ee!==t?(ml=null,fl=he()+500,An(e,t)):En=ir(e,t);e:do try{if(De!==0&&Ne!==null){t=Ne;var f=Ut;t:switch(De){case 1:De=0,Ut=null,Tn(e,t,f,1);break;case 2:case 9:if(Zh(f)){De=0,Ut=null,Gm(t);break}t=function(){De!==2&&De!==9||qe!==e||(De=7),ha(e)},f.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Zh(f)?(De=0,Ut=null,Gm(t)):(De=0,Ut=null,Tn(e,t,f,7));break;case 5:var x=null;switch(Ne.tag){case 26:x=Ne.memoizedState;case 5:case 27:var N=Ne;if(x?Tg(x):N.stateNode.complete){De=0,Ut=null;var C=N.sibling;if(C!==null)Ne=C;else{var $=N.return;$!==null?(Ne=$,xl($)):Ne=null}break t}}De=0,Ut=null,Tn(e,t,f,5);break;case 6:De=0,Ut=null,Tn(e,t,f,6);break;case 8:lu(),Ke=6;break e;default:throw Error(o(462))}}Wv();break}catch(Y){Im(e,Y)}while(!0);return Na=Os=null,O.H=l,O.A=d,Oe=n,Ne!==null?0:(qe=null,Ee=0,Li(),Ke)}function Wv(){for(;Ne!==null&&!bi();)Vm(Ne)}function Vm(e){var t=mm(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?xl(e):Ne=t}function Gm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=om(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=om(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Nc(t);default:pm(n,t),t=Ne=Ph(t,Da),t=mm(n,t,Da)}e.memoizedProps=e.pendingProps,t===null?xl(e):Ne=t}function Tn(e,t,n,l){Na=Os=null,Nc(t),vn=null,Nr=0;var d=t.return;try{if(Iv(e,d,t,n,Ee)){Ke=1,nl(e,Ht(n,e.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;Ke=1,nl(e,Ht(n,e.current)),Ne=null;return}t.flags&32768?(Ae||l===1?e=!0:En||(Ee&536870912)!==0?e=!1:(as=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ym(t,e)):xl(t)}function xl(e){var t=e;do{if((t.flags&32768)!==0){Ym(t,as);return}e=t.return;var n=Hv(t.alternate,t,Da);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ke===0&&(Ke=5)}function Ym(e,t){do{var n=Vv(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);Ke=6,Ne=null}function Km(e,t,n,l,d,f,x,N,C){e.cancelPendingCommit=null;do bl();while(at!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Jo,Rb(e,n,f,x,N,C),e===qe&&(Ne=qe=null,Ee=0),Cn=t,rs=e,Ma=n,nu=f,ru=d,Lm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ay(yi,function(){return Wm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,d=ee.p,ee.p=2,x=Oe,Oe|=4;try{Gv(e,t,n)}finally{Oe=x,ee.p=d,O.T=l}}at=1,Qm(),Fm(),Jm()}}function Qm(){if(at===1){at=0;var e=rs,t=Cn,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null;var l=ee.p;ee.p=2;var d=Oe;Oe|=4;try{Cm(t,e);var f=yu,x=Dh(e.containerInfo),N=f.focusedElem,C=f.selectionRange;if(x!==N&&N&&N.ownerDocument&&Oh(N.ownerDocument.documentElement,N)){if(C!==null&&Go(N)){var $=C.start,Y=C.end;if(Y===void 0&&(Y=$),"selectionStart"in N)N.selectionStart=$,N.selectionEnd=Math.min(Y,N.value.length);else{var X=N.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var G=P.getSelection(),re=N.textContent.length,ge=Math.min(C.start,re),Be=C.end===void 0?ge:Math.min(C.end,re);!G.extend&&ge>Be&&(x=Be,Be=ge,ge=x);var U=Rh(N,ge),D=Rh(N,Be);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var q=X.createRange();q.setStart(U.node,U.offset),G.removeAllRanges(),ge>Be?(G.addRange(q),G.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),G.addRange(q))}}}}for(X=[],G=N;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<X.length;N++){var F=X[N];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Tl=!!vu,yu=vu=null}finally{Oe=d,ee.p=l,O.T=n}}e.current=t,at=2}}function Fm(){if(at===2){at=0;var e=rs,t=Cn,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=O.T,O.T=null;var l=ee.p;ee.p=2;var d=Oe;Oe|=4;try{Nm(e,t.alternate,t)}finally{Oe=d,ee.p=l,O.T=n}}at=3}}function Jm(){if(at===4||at===3){at=0,vi();var e=rs,t=Cn,n=Ma,l=Lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,Cn=rs=null,Xm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ns=null),Eo(n),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(rr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=O.T,d=ee.p,ee.p=2,O.T=null;try{for(var f=e.onRecoverableError,x=0;x<l.length;x++){var N=l[x];f(N.value,{componentStack:N.stack})}}finally{O.T=t,ee.p=d}}(Ma&3)!==0&&bl(),ha(e),d=e.pendingLanes,(n&261930)!==0&&(d&42)!==0?e===iu?Ir++:(Ir=0,iu=e):Ir=0,$r(0)}}function Xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wr(t)))}function bl(){return Qm(),Fm(),Jm(),Wm()}function Wm(){if(at!==5)return!1;var e=rs,t=nu;nu=0;var n=Eo(Ma),l=O.T,d=ee.p;try{ee.p=32>n?32:n,O.T=null,n=ru,ru=null;var f=rs,x=Ma;if(at=0,Cn=rs=null,Ma=0,(Oe&6)!==0)throw Error(o(331));var N=Oe;if(Oe|=4,Dm(f.current),Tm(f,f.current,x,n),Oe=N,$r(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(rr,f)}catch{}return!0}finally{ee.p=d,O.T=l,Xm(e,t)}}function Zm(e,t,n){t=Ht(n,t),t=zc(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(lr(e,2),ha(e))}function Me(e,t,n){if(e.tag===3)Zm(e,e,n);else for(;t!==null;){if(t.tag===3){Zm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){e=Ht(n,e),n=em(2),l=Wa(t,n,2),l!==null&&(tm(n,l,t,e),lr(l,2),ha(l));break}}t=t.return}}function cu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Qv;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(n)||(tu=!0,d.add(n),e=Zv.bind(null,e,t,n),t.then(e,e))}function Zv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qe===e&&(Ee&n)===n&&(Ke===4||Ke===3&&(Ee&62914560)===Ee&&300>he()-hl?(Oe&2)===0&&An(e,0):au|=n,kn===Ee&&(kn=0)),ha(e)}function eg(e,t){t===0&&(t=Kd()),e=As(e,t),e!==null&&(lr(e,t),ha(e))}function ey(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eg(e,n)}function ty(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),eg(e,n)}function ay(e,t){return xi(e,t)}var vl=null,Rn=null,uu=!1,yl=!1,du=!1,ls=0;function ha(e){e!==Rn&&e.next===null&&(Rn===null?vl=Rn=e:Rn=Rn.next=e),yl=!0,uu||(uu=!0,ny())}function $r(e,t){if(!du&&yl){du=!0;do for(var n=!1,l=vl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var x=l.suspendedLanes,N=l.pingedLanes;f=(1<<31-Tt(42|e)+1)-1,f&=d&~(x&~N),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,ng(l,f))}else f=Ee,f=_i(l,l===qe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ir(l,f)||(n=!0,ng(l,f));l=l.next}while(n);du=!1}}function sy(){tg()}function tg(){yl=uu=!1;var e=0;ls!==0&&my()&&(e=ls);for(var t=he(),n=null,l=vl;l!==null;){var d=l.next,f=ag(l,t);f===0?(l.next=null,n===null?vl=d:n.next=d,d===null&&(Rn=n)):(n=l,(e!==0||(f&3)!==0)&&(yl=!0)),l=d}at!==0&&at!==5||$r(e),ls!==0&&(ls=0)}function ag(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-Tt(f),N=1<<x,C=d[x];C===-1?((N&n)===0||(N&l)!==0)&&(d[x]=Tb(N,t)):C<=t&&(e.expiredLanes|=N),f&=~N}if(t=qe,n=Ee,n=_i(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nr(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ir(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&nr(l),Eo(n)){case 2:case 8:n=No;break;case 32:n=yi;break;case 268435456:n=Yd;break;default:n=yi}return l=sg.bind(null,e),n=xi(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&nr(l),e.callbackPriority=2,e.callbackNode=null,2}function sg(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var l=Ee;return l=_i(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zm(e,l,t),ag(e,he()),e.callbackNode!=null&&e.callbackNode===n?sg.bind(null,e):null)}function ng(e,t){if(bl())return null;zm(e,t,!0)}function ny(){py(function(){(Oe&6)!==0?xi(pt,sy):tg()})}function hu(){if(ls===0){var e=pn;e===0&&(e=wi,wi<<=1,(wi&261888)===0&&(wi=256)),ls=e}return ls}function rg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ci(""+e)}function ig(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ry(e,t,n,l,d){if(t==="submit"&&n&&n.stateNode===d){var f=rg((d[yt]||null).action),x=l.submitter;x&&(t=(t=x[yt]||null)?rg(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var N=new Oi("action","action",null,l,d);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var C=x?ig(d,x):new FormData(d);Oc(n,{pending:!0,data:C,method:d.method,action:f},null,C)}}else typeof f=="function"&&(N.preventDefault(),C=x?ig(d,x):new FormData(d),Oc(n,{pending:!0,data:C,method:d.method,action:f},f,C))},currentTarget:d}]})}}for(var fu=0;fu<Fo.length;fu++){var mu=Fo[fu],iy=mu.toLowerCase(),ly=mu[0].toUpperCase()+mu.slice(1);Zt(iy,"on"+ly)}Zt(Lh,"onAnimationEnd"),Zt(Bh,"onAnimationIteration"),Zt(zh,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Nv,"onTransitionRun"),Zt(_v,"onTransitionStart"),Zt(Sv,"onTransitionCancel"),Zt(qh,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function lg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var x=l.length-1;0<=x;x--){var N=l[x],C=N.instance,$=N.currentTarget;if(N=N.listener,C!==f&&d.isPropagationStopped())break e;f=N,d.currentTarget=$;try{f(d)}catch(Y){Ui(Y)}d.currentTarget=null,f=C}else for(x=0;x<l.length;x++){if(N=l[x],C=N.instance,$=N.currentTarget,N=N.listener,C!==f&&d.isPropagationStopped())break e;f=N,d.currentTarget=$;try{f(d)}catch(Y){Ui(Y)}d.currentTarget=null,f=C}}}}function _e(e,t){var n=t[ko];n===void 0&&(n=t[ko]=new Set);var l=e+"__bubble";n.has(l)||(og(t,e,2,!1),n.add(l))}function gu(e,t,n){var l=0;t&&(l|=4),og(n,e,l,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[wl]){e[wl]=!0,eh.forEach(function(n){n!=="selectionchange"&&(oy.has(n)||gu(n,!1,e),gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,gu("selectionchange",!1,t))}}function og(e,t,n,l){switch(Bg(t)){case 2:var d=Ly;break;case 8:d=By;break;default:d=Ru}n=d.bind(null,t,n,e),d=void 0,!Lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function xu(e,t,n,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var N=l.stateNode.containerInfo;if(N===d)break;if(x===4)for(x=l.return;x!==null;){var C=x.tag;if((C===3||C===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;N!==null;){if(x=Ws(N),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){l=f=x;continue e}N=N.parentNode}}l=l.return}hh(function(){var $=f,Y=Mo(n),X=[];e:{var P=Ih.get(e);if(P!==void 0){var G=Oi,re=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":G=tv;break;case"focusin":re="focus",G=Io;break;case"focusout":re="blur",G=Io;break;case"beforeblur":case"afterblur":G=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=nv;break;case Lh:case Bh:case zh:G=Yb;break;case qh:G=iv;break;case"scroll":case"scrollend":G=$b;break;case"wheel":G=ov;break;case"copy":case"cut":case"paste":G=Qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=xh;break;case"toggle":case"beforetoggle":G=uv}var ge=(t&4)!==0,Be=!ge&&(e==="scroll"||e==="scrollend"),U=ge?P!==null?P+"Capture":null:P;ge=[];for(var D=$,q;D!==null;){var F=D;if(q=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||q===null||U===null||(F=ur(D,U),F!=null&&ge.push(Hr(D,F,q))),Be)break;D=D.return}0<ge.length&&(P=new G(P,re,null,n,Y),X.push({event:P,listeners:ge}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",P&&n!==Do&&(re=n.relatedTarget||n.fromElement)&&(Ws(re)||re[Xs]))break e;if((G||P)&&(P=Y.window===Y?Y:(P=Y.ownerDocument)?P.defaultView||P.parentWindow:window,G?(re=n.relatedTarget||n.toElement,G=$,re=re?Ws(re):null,re!==null&&(Be=u(re),ge=re.tag,re!==Be||ge!==5&&ge!==27&&ge!==6)&&(re=null)):(G=null,re=$),G!==re)){if(ge=gh,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ge=xh,F="onPointerLeave",U="onPointerEnter",D="pointer"),Be=G==null?P:cr(G),q=re==null?P:cr(re),P=new ge(F,D+"leave",G,n,Y),P.target=Be,P.relatedTarget=q,F=null,Ws(Y)===$&&(ge=new ge(U,D+"enter",re,n,Y),ge.target=q,ge.relatedTarget=Be,F=ge),Be=F,G&&re)t:{for(ge=cy,U=G,D=re,q=0,F=U;F;F=ge(F))q++;F=0;for(var fe=D;fe;fe=ge(fe))F++;for(;0<q-F;)U=ge(U),q--;for(;0<F-q;)D=ge(D),F--;for(;q--;){if(U===D||D!==null&&U===D.alternate){ge=U;break t}U=ge(U),D=ge(D)}ge=null}else ge=null;G!==null&&cg(X,P,G,ge,!1),re!==null&&Be!==null&&cg(X,Be,re,ge,!0)}}e:{if(P=$?cr($):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var Te=Sh;else if(Nh(P))if(Eh)Te=yv;else{Te=bv;var ie=xv}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?$&&Oo($.elementType)&&(Te=Sh):Te=vv;if(Te&&(Te=Te(e,$))){_h(X,Te,n,Y);break e}ie&&ie(e,P,$),e==="focusout"&&$&&P.type==="number"&&$.memoizedProps.value!=null&&Ro(P,"number",P.value)}switch(ie=$?cr($):window,e){case"focusin":(Nh(ie)||ie.contentEditable==="true")&&(on=ie,Yo=$,br=null);break;case"focusout":br=Yo=on=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Mh(X,n,Y);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Mh(X,n,Y)}var we;if(Po)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ln?wh(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(bh&&n.locale!=="ko"&&(ln||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ln&&(we=fh()):(Ga=Y,Bo="value"in Ga?Ga.value:Ga.textContent,ln=!0)),ie=jl($,ke),0<ie.length&&(ke=new ph(ke,e,null,n,Y),X.push({event:ke,listeners:ie}),we?ke.data=we:(we=jh(n),we!==null&&(ke.data=we)))),(we=hv?fv(e,n):mv(e,n))&&(ke=jl($,"onBeforeInput"),0<ke.length&&(ie=new ph("onBeforeInput","beforeinput",null,n,Y),X.push({event:ie,listeners:ke}),ie.data=we)),ry(X,e,$,n,Y)}lg(X,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jl(e,t){for(var n=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ur(e,n),d!=null&&l.unshift(Hr(e,d,f)),d=ur(e,t),d!=null&&l.push(Hr(e,d,f))),e.tag===3)return l;e=e.return}return[]}function cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cg(e,t,n,l,d){for(var f=t._reactName,x=[];n!==null&&n!==l;){var N=n,C=N.alternate,$=N.stateNode;if(N=N.tag,C!==null&&C===l)break;N!==5&&N!==26&&N!==27||$===null||(C=$,d?($=ur(n,f),$!=null&&x.unshift(Hr(n,$,C))):d||($=ur(n,f),$!=null&&x.push(Hr(n,$,C)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var uy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function ug(e){return(typeof e=="string"?e:""+e).replace(uy,`
`).replace(dy,"")}function dg(e,t){return t=ug(t),ug(e)===t}function Le(e,t,n,l,d,f){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&sn(e,""+l);break;case"className":Ei(e,"class",l);break;case"tabIndex":Ei(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(e,n,l);break;case"style":uh(e,l,f);break;case"data":if(t!=="object"){Ei(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Ci(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Le(e,t,"name",d.name,d,null),Le(e,t,"formEncType",d.formEncType,d,null),Le(e,t,"formMethod",d.formMethod,d,null),Le(e,t,"formTarget",d.formTarget,d,null)):(Le(e,t,"encType",d.encType,d,null),Le(e,t,"method",d.method,d,null),Le(e,t,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Ci(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=va);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Ci(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Si(e,"popover",l);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qb.get(n)||n,Si(e,n,l))}}function bu(e,t,n,l,d,f){switch(n){case"style":uh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(d=n.endsWith("Capture"),t=n.slice(2,d?n.length-7:void 0),f=e[yt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,d);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Si(e,n,l)}}}function ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var l=!1,d=!1,f;for(f in n)if(n.hasOwnProperty(f)){var x=n[f];if(x!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Le(e,t,f,x,n,null)}}d&&Le(e,t,"srcSet",n.srcSet,n,null),l&&Le(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var N=f=x=d=null,C=null,$=null;for(l in n)if(n.hasOwnProperty(l)){var Y=n[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":x=Y;break;case"checked":C=Y;break;case"defaultChecked":$=Y;break;case"value":f=Y;break;case"defaultValue":N=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,t));break;default:Le(e,t,l,Y,n,null)}}ih(e,f,N,C,$,x,d,!1);return;case"select":_e("invalid",e),l=x=f=null;for(d in n)if(n.hasOwnProperty(d)&&(N=n[d],N!=null))switch(d){case"value":f=N;break;case"defaultValue":x=N;break;case"multiple":l=N;default:Le(e,t,d,N,n,null)}t=f,n=x,e.multiple=!!l,t!=null?an(e,!!l,t,!1):n!=null&&an(e,!!l,n,!0);return;case"textarea":_e("invalid",e),f=d=l=null;for(x in n)if(n.hasOwnProperty(x)&&(N=n[x],N!=null))switch(x){case"value":l=N;break;case"defaultValue":d=N;break;case"children":f=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Le(e,t,x,N,n,null)}oh(e,l,d,f);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(l=n[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(e,t,C,l,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(l=0;l<Pr.length;l++)_e(Pr[l],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in n)if(n.hasOwnProperty($)&&(l=n[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Le(e,t,$,l,n,null)}return;default:if(Oo(t)){for(Y in n)n.hasOwnProperty(Y)&&(l=n[Y],l!==void 0&&bu(e,t,Y,l,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(l=n[N],l!=null&&Le(e,t,N,l,n,null))}function hy(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,x=null,N=null,C=null,$=null,Y=null;for(G in n){var X=n[G];if(n.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(G)||Le(e,t,G,null,l,X)}}for(var P in l){var G=l[P];if(X=n[P],l.hasOwnProperty(P)&&(G!=null||X!=null))switch(P){case"type":f=G;break;case"name":d=G;break;case"checked":$=G;break;case"defaultChecked":Y=G;break;case"value":x=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==X&&Le(e,t,P,G,l,X)}}To(e,x,N,C,$,Y,f,d);return;case"select":G=x=N=P=null;for(f in n)if(C=n[f],n.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||Le(e,t,f,null,l,C)}for(d in l)if(f=l[d],C=n[d],l.hasOwnProperty(d)&&(f!=null||C!=null))switch(d){case"value":P=f;break;case"defaultValue":N=f;break;case"multiple":x=f;default:f!==C&&Le(e,t,d,f,l,C)}t=N,n=x,l=G,P!=null?an(e,!!n,P,!1):!!l!=!!n&&(t!=null?an(e,!!n,t,!0):an(e,!!n,n?[]:"",!1));return;case"textarea":G=P=null;for(N in n)if(d=n[N],n.hasOwnProperty(N)&&d!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Le(e,t,N,null,l,d)}for(x in l)if(d=l[x],f=n[x],l.hasOwnProperty(x)&&(d!=null||f!=null))switch(x){case"value":P=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==f&&Le(e,t,x,d,l,f)}lh(e,P,G);return;case"option":for(var re in n)if(P=n[re],n.hasOwnProperty(re)&&P!=null&&!l.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Le(e,t,re,null,l,P)}for(C in l)if(P=l[C],G=n[C],l.hasOwnProperty(C)&&P!==G&&(P!=null||G!=null))switch(C){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Le(e,t,C,P,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)P=n[ge],n.hasOwnProperty(ge)&&P!=null&&!l.hasOwnProperty(ge)&&Le(e,t,ge,null,l,P);for($ in l)if(P=l[$],G=n[$],l.hasOwnProperty($)&&P!==G&&(P!=null||G!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,t));break;default:Le(e,t,$,P,l,G)}return;default:if(Oo(t)){for(var Be in n)P=n[Be],n.hasOwnProperty(Be)&&P!==void 0&&!l.hasOwnProperty(Be)&&bu(e,t,Be,void 0,l,P);for(Y in l)P=l[Y],G=n[Y],!l.hasOwnProperty(Y)||P===G||P===void 0&&G===void 0||bu(e,t,Y,P,l,G);return}}for(var U in n)P=n[U],n.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Le(e,t,U,null,l,P);for(X in l)P=l[X],G=n[X],!l.hasOwnProperty(X)||P===G||P==null&&G==null||Le(e,t,X,P,l,G)}function hg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var d=n[l],f=d.transferSize,x=d.initiatorType,N=d.duration;if(f&&N&&hg(x)){for(x=0,N=d.responseEnd,l+=1;l<n.length;l++){var C=n[l],$=C.startTime;if($>N)break;var Y=C.transferSize,X=C.initiatorType;Y&&hg(X)&&(C=C.responseEnd,x+=Y*(C<N?1:(N-$)/(C-$)))}if(--l,t+=8*(f+x)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vu=null,yu=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=null;function my(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var gg=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,py=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(xy)}:gg;function xy(e){setTimeout(function(){throw e})}function os(e){return e==="head"}function xg(e,t){var n=t,l=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(d),Un(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Vr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Vr(n);for(var f=n.firstChild;f;){var x=f.nextSibling,N=f.nodeName;f[or]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=x}}else n==="body"&&Vr(e.ownerDocument.body);n=d}while(n);Un(t)}function bg(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nu(n),Co(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function by(e,t,n,l){for(;e.nodeType===1;){var d=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function vy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function vg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function _u(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eu=null;function yg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Qt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function wg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function jg(e,t,n){switch(t=Nl(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Co(e)}var Ft=new Map,Ng=new Set;function _l(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=ee.d;ee.d={f:wy,r:jy,D:Ny,C:_y,L:Sy,m:Ey,X:Cy,S:ky,M:Ay};function wy(){var e=Ua.f(),t=gl();return e||t}function jy(e){var t=Zs(e);t!==null&&t.tag===5&&t.type==="form"?If(t):Ua.r(e)}var On=typeof document>"u"?null:document;function _g(e,t,n){var l=On;if(l&&typeof t=="string"&&t){var d=$t(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof n=="string"&&(d+='[crossorigin="'+n+'"]'),Ng.has(d)||(Ng.add(d),e={rel:e,crossOrigin:n,href:t},l.querySelector(d)===null&&(t=l.createElement("link"),ut(t,"link",e),nt(t),l.head.appendChild(t)))}}function Ny(e){Ua.D(e),_g("dns-prefetch",e,null)}function _y(e,t){Ua.C(e,t),_g("preconnect",e,t)}function Sy(e,t,n){Ua.L(e,t,n);var l=On;if(l&&e&&t){var d='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(d+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(d+='[imagesizes="'+$t(n.imageSizes)+'"]')):d+='[href="'+$t(e)+'"]';var f=d;switch(t){case"style":f=Dn(e);break;case"script":f=Mn(e)}Ft.has(f)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ft.set(f,e),l.querySelector(d)!==null||t==="style"&&l.querySelector(Gr(f))||t==="script"&&l.querySelector(Yr(f))||(t=l.createElement("link"),ut(t,"link",e),nt(t),l.head.appendChild(t)))}}function Ey(e,t){Ua.m(e,t);var n=On;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Mn(e)}if(!Ft.has(f)&&(e=w({rel:"modulepreload",href:e},t),Ft.set(f,e),n.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yr(f)))return}l=n.createElement("link"),ut(l,"link",e),nt(l),n.head.appendChild(l)}}}function ky(e,t,n){Ua.S(e,t,n);var l=On;if(l&&e){var d=en(l).hoistableStyles,f=Dn(e);t=t||"default";var x=d.get(f);if(!x){var N={loading:0,preload:null};if(x=l.querySelector(Gr(f)))N.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ft.get(f))&&ku(e,n);var C=x=l.createElement("link");nt(C),ut(C,"link",e),C._p=new Promise(function($,Y){C.onload=$,C.onerror=Y}),C.addEventListener("load",function(){N.loading|=1}),C.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Sl(x,t,l)}x={type:"stylesheet",instance:x,count:1,state:N},d.set(f,x)}}}function Cy(e,t){Ua.X(e,t);var n=On;if(n&&e){var l=en(n).hoistableScripts,d=Mn(e),f=l.get(d);f||(f=n.querySelector(Yr(d)),f||(e=w({src:e,async:!0},t),(t=Ft.get(d))&&Cu(e,t),f=n.createElement("script"),nt(f),ut(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Ay(e,t){Ua.M(e,t);var n=On;if(n&&e){var l=en(n).hoistableScripts,d=Mn(e),f=l.get(d);f||(f=n.querySelector(Yr(d)),f||(e=w({src:e,async:!0,type:"module"},t),(t=Ft.get(d))&&Cu(e,t),f=n.createElement("script"),nt(f),ut(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Sg(e,t,n,l){var d=(d=oe.current)?_l(d):null;if(!d)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Dn(n.href),n=en(d).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Dn(n.href);var f=en(d).hoistableStyles,x=f.get(e);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=d.querySelector(Gr(e)))&&!f._p&&(x.instance=f,x.state.loading=5),Ft.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ft.set(e,n),f||Ty(d,e,n,x.state))),t&&l===null)throw Error(o(528,""));return x}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Mn(n),n=en(d).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Dn(e){return'href="'+$t(e)+'"'}function Gr(e){return'link[rel="stylesheet"]['+e+"]"}function Eg(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Ty(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ut(t,"link",n),nt(t),e.head.appendChild(t))}function Mn(e){return'[src="'+$t(e)+'"]'}function Yr(e){return"script[async]"+e}function kg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+$t(n.href)+'"]');if(l)return t.instance=l,nt(l),l;var d=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),nt(l),ut(l,"style",d),Sl(l,n.precedence,e),t.instance=l;case"stylesheet":d=Dn(n.href);var f=e.querySelector(Gr(d));if(f)return t.state.loading|=4,t.instance=f,nt(f),f;l=Eg(n),(d=Ft.get(d))&&ku(l,d),f=(e.ownerDocument||e).createElement("link"),nt(f);var x=f;return x._p=new Promise(function(N,C){x.onload=N,x.onerror=C}),ut(f,"link",l),t.state.loading|=4,Sl(f,n.precedence,e),t.instance=f;case"script":return f=Mn(n.src),(d=e.querySelector(Yr(f)))?(t.instance=d,nt(d),d):(l=n,(d=Ft.get(f))&&(l=w({},n),Cu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),nt(d),ut(d,"link",l),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Sl(l,n.precedence,e));return t.instance}function Sl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,x=0;x<l.length;x++){var N=l[x];if(N.dataset.precedence===t)f=N;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var El=null;function Cg(e,t,n){if(El===null){var l=new Map,d=El=new Map;d.set(n,l)}else d=El,l=d.get(n),l||(l=new Map,d.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),d=0;d<n.length;d++){var f=n[d];if(!(f[or]||f[it]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var N=l.get(x);N?N.push(f):l.set(x,[f])}}return l}function Ag(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ry(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Oy(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Dn(l.href),f=t.querySelector(Gr(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=kl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,nt(f);return}f=t.ownerDocument||t,l=Eg(l),(d=Ft.get(d))&&ku(l,d),f=f.createElement("link"),nt(f);var x=f;x._p=new Promise(function(N,C){x.onload=N,x.onerror=C}),ut(f,"link",l),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=kl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Au=0;function Dy(e,t){return e.stylesheets&&e.count===0&&Al(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Al(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*fy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Al(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Al(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cl=null;function Al(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cl=new Map,t.forEach(My,e),Cl=null,kl.call(e))}function My(e,t){if(!(t.state.loading&4)){var n=Cl.get(e);if(n)var l=n.get(null);else{n=new Map,Cl.set(e,n);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var x=d[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),l=x)}l&&n.set(null,l)}d=t.instance,x=d.getAttribute("data-precedence"),f=n.get(x)||l,f===l&&n.set(null,d),n.set(x,d),this.count++,l=kl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Kr={$$typeof:T,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Uy(e,t,n,l,d,f,x,N,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.hiddenUpdates=_o(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Rg(e,t,n,l,d,f,x,N,C,$,Y,X){return e=new Uy(e,t,n,x,C,$,Y,X,N),t=1,f===!0&&(t|=24),f=Ot(3,null,null,t),e.current=f,f.stateNode=e,t=oc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:n,cache:t},hc(f),e}function Og(e){return e?(e=dn,e):dn}function Dg(e,t,n,l,d,f){d=Og(d),l.context===null?l.context=d:l.pendingContext=d,l=Xa(t),l.payload={element:n},f=f===void 0?null:f,f!==null&&(l.callback=f),n=Wa(e,l,t),n!==null&&(Et(n,e,t),Sr(n,e,t))}function Mg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Mg(e,t),(e=e.alternate)&&Mg(e,t)}function Ug(e){if(e.tag===13||e.tag===31){var t=As(e,67108864);t!==null&&Et(t,e,67108864),Tu(e,67108864)}}function Lg(e){if(e.tag===13||e.tag===31){var t=Bt();t=So(t);var n=As(e,t);n!==null&&Et(n,e,t),Tu(e,t)}}var Tl=!0;function Ly(e,t,n,l){var d=O.T;O.T=null;var f=ee.p;try{ee.p=2,Ru(e,t,n,l)}finally{ee.p=f,O.T=d}}function By(e,t,n,l){var d=O.T;O.T=null;var f=ee.p;try{ee.p=8,Ru(e,t,n,l)}finally{ee.p=f,O.T=d}}function Ru(e,t,n,l){if(Tl){var d=Ou(l);if(d===null)xu(e,t,l,Rl,n),zg(e,l);else if(qy(d,e,t,n,l))l.stopPropagation();else if(zg(e,l),t&4&&-1<zy.indexOf(e)){for(;d!==null;){var f=Zs(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=_s(f.pendingLanes);if(x!==0){var N=f;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var C=1<<31-Tt(x);N.entanglements[1]|=C,x&=~C}ha(f),(Oe&6)===0&&(fl=he()+500,$r(0))}}break;case 31:case 13:N=As(f,2),N!==null&&Et(N,f,2),gl(),Tu(f,2)}if(f=Ou(l),f===null&&xu(e,t,l,Rl,n),f===d)break;d=f}d!==null&&l.stopPropagation()}else xu(e,t,l,null,n)}}function Ou(e){return e=Mo(e),Du(e)}var Rl=null;function Du(e){if(Rl=null,e=Ws(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rl=e,null}function Bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case pt:return 2;case No:return 8;case yi:case _b:return 32;case Yd:return 268435456;default:return 32}default:return 32}}var Mu=!1,cs=null,us=null,ds=null,Qr=new Map,Fr=new Map,hs=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zg(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Jr(e,t,n,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Zs(t),t!==null&&Ug(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function qy(e,t,n,l,d){switch(t){case"focusin":return cs=Jr(cs,e,t,n,l,d),!0;case"dragenter":return us=Jr(us,e,t,n,l,d),!0;case"mouseover":return ds=Jr(ds,e,t,n,l,d),!0;case"pointerover":var f=d.pointerId;return Qr.set(f,Jr(Qr.get(f)||null,e,t,n,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fr.set(f,Jr(Fr.get(f)||null,e,t,n,l,d)),!0}return!1}function qg(e){var t=Ws(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Wd(e.priority,function(){Lg(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Wd(e.priority,function(){Lg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ou(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Do=l,n.target.dispatchEvent(l),Do=null}else return t=Zs(n),t!==null&&Ug(t),e.blockedOn=n,!1;t.shift()}return!0}function Ig(e,t,n){Ol(e)&&n.delete(t)}function Iy(){Mu=!1,cs!==null&&Ol(cs)&&(cs=null),us!==null&&Ol(us)&&(us=null),ds!==null&&Ol(ds)&&(ds=null),Qr.forEach(Ig),Fr.forEach(Ig)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Iy)))}var Ml=null;function $g(e){Ml!==e&&(Ml=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ml===e&&(Ml=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],d=e[t+2];if(typeof l!="function"){if(Du(l||n)===null)continue;break}var f=Zs(n);f!==null&&(e.splice(t,3),t-=3,Oc(f,{pending:!0,data:d,method:n.method,action:l},l,d))}}))}function Un(e){function t(C){return Dl(C,e)}cs!==null&&Dl(cs,e),us!==null&&Dl(us,e),ds!==null&&Dl(ds,e),Qr.forEach(t),Fr.forEach(t);for(var n=0;n<hs.length;n++){var l=hs[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&hs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var d=n[l],f=n[l+1],x=d[yt]||null;if(typeof f=="function")x||$g(n);else if(x){var N=null;if(f&&f.hasAttribute("formAction")){if(d=f,x=f[yt]||null)N=x.formAction;else if(Du(d)!==null)continue}else N=x.action;typeof N=="function"?n[l+1]=N:(n.splice(l,3),l-=3),$g(n)}}}function Pg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Uu(e){this._internalRoot=e}Ul.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=Bt();Dg(n,l,e,t,null,null)},Ul.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dg(e.current,2,null,e,null,null),gl(),t[Xs]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hs.length&&t!==0&&t<hs[n].priority;n++);hs.splice(n,0,e),n===0&&qg(e)}};var Hg=s.version;if(Hg!=="19.2.0")throw Error(o(527,Hg,"19.2.0"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var $y={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{rr=Ll.inject($y),At=Ll}catch{}}return Wr.createRoot=function(e,t){if(!c(e))throw Error(o(299));var n=!1,l="",d=Jf,f=Xf,x=Wf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Rg(e,1,!1,null,null,n,l,null,d,f,x,Pg),e[Xs]=t.current,pu(e),new Uu(t)},Wr.hydrateRoot=function(e,t,n){if(!c(e))throw Error(o(299));var l=!1,d="",f=Jf,x=Xf,N=Wf,C=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=Rg(e,1,!0,t,n??null,l,d,C,f,x,N,Pg),t.context=Og(null),n=t.current,l=Bt(),l=So(l),d=Xa(l),d.callback=null,Wa(n,d,l),n=l,t.current.lanes=n,lr(t,n),ha(t),e[Xs]=t.current,pu(e),new Ul(t)},Wr.version="19.2.0",Wr}var Zg;function Zy(){if(Zg)return zu.exports;Zg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),zu.exports=Wy(),zu.exports}var e0=Zy();const t0=_d(e0);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ep="popstate";function a0(r={}){function s(o,c){let{pathname:u,search:h,hash:g}=o.location;return sd("",{pathname:u,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:ri(c)}return n0(s,i,null,r)}function Ve(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function ia(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function s0(){return Math.random().toString(36).substring(2,10)}function tp(r,s){return{usr:r.state,key:r.key,idx:s}}function sd(r,s,i=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof s=="string"?Xn(s):s,state:i,key:s&&s.key||o||s0()}}function ri({pathname:r="/",search:s="",hash:i=""}){return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Xn(r){let s={};if(r){let i=r.indexOf("#");i>=0&&(s.hash=r.substring(i),r=r.substring(0,i));let o=r.indexOf("?");o>=0&&(s.search=r.substring(o),r=r.substring(0,o)),r&&(s.pathname=r)}return s}function n0(r,s,i,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,h=c.history,g="POP",m=null,p=b();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function b(){return(h.state||{idx:null}).idx}function w(){g="POP";let y=b(),k=y==null?null:y-p;p=y,m&&m({action:g,location:E.location,delta:k})}function j(y,k){g="PUSH";let A=sd(E.location,y,k);p=b()+1;let T=tp(A,p),I=E.createHref(A);try{h.pushState(T,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;c.location.assign(I)}u&&m&&m({action:g,location:E.location,delta:1})}function _(y,k){g="REPLACE";let A=sd(E.location,y,k);p=b();let T=tp(A,p),I=E.createHref(A);h.replaceState(T,"",I),u&&m&&m({action:g,location:E.location,delta:0})}function v(y){return r0(y)}let E={get action(){return g},get location(){return r(c,h)},listen(y){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(ep,w),m=y,()=>{c.removeEventListener(ep,w),m=null}},createHref(y){return s(c,y)},createURL:v,encodeLocation(y){let k=v(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:j,replace:_,go(y){return h.go(y)}};return E}function r0(r,s=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(i,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:ri(r);return o=o.replace(/ $/,"%20"),!s&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function sx(r,s,i="/"){return i0(r,s,i,!1)}function i0(r,s,i,o){let c=typeof s=="string"?Xn(s):s,u=qa(c.pathname||"/",i);if(u==null)return null;let h=nx(r);l0(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let p=b0(u);g=p0(h[m],p,o)}return g}function nx(r,s=[],i=[],o="",c=!1){let u=(h,g,m=c,p)=>{let b={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(o)&&m)return;Ve(b.relativePath.startsWith(o),`Absolute route path "${b.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(o.length)}let w=za([o,b.relativePath]),j=i.concat(b);h.children&&h.children.length>0&&(Ve(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),nx(h.children,s,j,w,m)),!(h.path==null&&!h.index)&&s.push({path:w,score:m0(w,h.index),routesMeta:j})};return r.forEach((h,g)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,g);else for(let p of rx(h.path))u(h,g,!0,p)}),s}function rx(r){let s=r.split("/");if(s.length===0)return[];let[i,...o]=s,c=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let h=rx(o.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),c&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function l0(r){r.sort((s,i)=>s.score!==i.score?i.score-s.score:g0(s.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var o0=/^:[\w-]+$/,c0=3,u0=2,d0=1,h0=10,f0=-2,ap=r=>r==="*";function m0(r,s){let i=r.split("/"),o=i.length;return i.some(ap)&&(o+=f0),s&&(o+=u0),i.filter(c=>!ap(c)).reduce((c,u)=>c+(o0.test(u)?c0:u===""?d0:h0),o)}function g0(r,s){return r.length===s.length&&r.slice(0,-1).every((o,c)=>o===s[c])?r[r.length-1]-s[s.length-1]:0}function p0(r,s,i=!1){let{routesMeta:o}=r,c={},u="/",h=[];for(let g=0;g<o.length;++g){let m=o[g],p=g===o.length-1,b=u==="/"?s:s.slice(u.length)||"/",w=eo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},b),j=m.route;if(!w&&p&&i&&!o[o.length-1].route.index&&(w=eo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!w)return null;Object.assign(c,w.params),h.push({params:c,pathname:za([u,w.pathname]),pathnameBase:j0(za([u,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(u=za([u,w.pathnameBase]))}return h}function eo(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=x0(r.path,r.caseSensitive,r.end),c=s.match(i);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((p,{paramName:b,isOptional:w},j)=>{if(b==="*"){let v=g[j]||"";h=u.slice(0,u.length-v.length).replace(/(.)\/+$/,"$1")}const _=g[j];return w&&!_?p[b]=void 0:p[b]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function x0(r,s=!1,i=!0){ia(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(o.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),o]}function b0(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ia(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),r}}function qa(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}function v0(r,s="/"){let{pathname:i,search:o="",hash:c=""}=typeof r=="string"?Xn(r):r;return{pathname:i?i.startsWith("/")?i:y0(i,s):s,search:N0(o),hash:_0(c)}}function y0(r,s){let i=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Pu(r,s,i,o){return`Cannot include a '${r}' character in a manually specified \`to.${s}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w0(r){return r.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function Ed(r){let s=w0(r);return s.map((i,o)=>o===s.length-1?i.pathname:i.pathnameBase)}function kd(r,s,i,o=!1){let c;typeof r=="string"?c=Xn(r):(c={...r},Ve(!c.pathname||!c.pathname.includes("?"),Pu("?","pathname","search",c)),Ve(!c.pathname||!c.pathname.includes("#"),Pu("#","pathname","hash",c)),Ve(!c.search||!c.search.includes("#"),Pu("#","search","hash",c)));let u=r===""||c.pathname==="",h=u?"/":c.pathname,g;if(h==null)g=i;else{let w=s.length-1;if(!o&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),w-=1;c.pathname=j.join("/")}g=w>=0?s[w]:"/"}let m=v0(c,g),p=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||b)&&(m.pathname+="/"),m}var za=r=>r.join("/").replace(/\/\/+/g,"/"),j0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),N0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function S0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ix=["POST","PUT","PATCH","DELETE"];new Set(ix);var E0=["GET",...ix];new Set(E0);var Wn=S.createContext(null);Wn.displayName="DataRouter";var fo=S.createContext(null);fo.displayName="DataRouterState";S.createContext(!1);var lx=S.createContext({isTransitioning:!1});lx.displayName="ViewTransition";var k0=S.createContext(new Map);k0.displayName="Fetchers";var C0=S.createContext(null);C0.displayName="Await";var la=S.createContext(null);la.displayName="Navigation";var di=S.createContext(null);di.displayName="Location";var oa=S.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var Cd=S.createContext(null);Cd.displayName="RouteError";function A0(r,{relative:s}={}){Ve(Zn(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=S.useContext(la),{hash:c,pathname:u,search:h}=hi(r,{relative:s}),g=u;return i!=="/"&&(g=u==="/"?i:za([i,u])),o.createHref({pathname:g,search:h,hash:c})}function Zn(){return S.useContext(di)!=null}function $a(){return Ve(Zn(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(di).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cx(r){S.useContext(la).static||S.useLayoutEffect(r)}function ws(){let{isDataRoute:r}=S.useContext(oa);return r?H0():T0()}function T0(){Ve(Zn(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Wn),{basename:s,navigator:i}=S.useContext(la),{matches:o}=S.useContext(oa),{pathname:c}=$a(),u=JSON.stringify(Ed(o)),h=S.useRef(!1);return cx(()=>{h.current=!0}),S.useCallback((m,p={})=>{if(ia(h.current,ox),!h.current)return;if(typeof m=="number"){i.go(m);return}let b=kd(m,JSON.parse(u),c,p.relative==="path");r==null&&s!=="/"&&(b.pathname=b.pathname==="/"?s:za([s,b.pathname])),(p.replace?i.replace:i.push)(b,p.state,p)},[s,i,u,c,r])}S.createContext(null);function R0(){let{matches:r}=S.useContext(oa),s=r[r.length-1];return s?s.params:{}}function hi(r,{relative:s}={}){let{matches:i}=S.useContext(oa),{pathname:o}=$a(),c=JSON.stringify(Ed(i));return S.useMemo(()=>kd(r,JSON.parse(c),o,s==="path"),[r,c,o,s])}function O0(r,s){return ux(r,s)}function ux(r,s,i,o,c){var A;Ve(Zn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=S.useContext(la),{matches:h}=S.useContext(oa),g=h[h.length-1],m=g?g.params:{},p=g?g.pathname:"/",b=g?g.pathnameBase:"/",w=g&&g.route;{let T=w&&w.path||"";dx(p,!w||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let j=$a(),_;if(s){let T=typeof s=="string"?Xn(s):s;Ve(b==="/"||((A=T.pathname)==null?void 0:A.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=j;let v=_.pathname||"/",E=v;if(b!=="/"){let T=b.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=sx(r,{pathname:E});ia(w||y!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ia(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=B0(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:za([b,u.encodeLocation?u.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?b:za([b,u.encodeLocation?u.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),h,i,o,c);return s&&k?S.createElement(di.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function D0(){let r=P0(),s=S0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},s),i?S.createElement("pre",{style:c},i):null,h)}var M0=S.createElement(D0,null),U0=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){this.props.unstable_onError?this.props.unstable_onError(r,s):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?S.createElement(oa.Provider,{value:this.props.routeContext},S.createElement(Cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L0({routeContext:r,match:s,children:i}){let o=S.useContext(Wn);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),S.createElement(oa.Provider,{value:r},i)}function B0(r,s=[],i=null,o=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,h=i==null?void 0:i.errors;if(h!=null){let p=u.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);Ve(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let g=!1,m=-1;if(i)for(let p=0;p<u.length;p++){let b=u[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=p),b.route.id){let{loaderData:w,errors:j}=i,_=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||_){g=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((p,b,w)=>{let j,_=!1,v=null,E=null;i&&(j=h&&b.route.id?h[b.route.id]:void 0,v=b.route.errorElement||M0,g&&(m<0&&w===0?(dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):m===w&&(_=!0,E=b.route.hydrateFallbackElement||null)));let y=s.concat(u.slice(0,w+1)),k=()=>{let A;return j?A=v:_?A=E:b.route.Component?A=S.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=p,S.createElement(L0,{match:b,routeContext:{outlet:p,matches:y,isDataRoute:i!=null},children:A})};return i&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?S.createElement(U0,{location:i.location,revalidation:i.revalidation,component:v,error:j,children:k(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:o}):k()},null)}function Ad(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(r){let s=S.useContext(Wn);return Ve(s,Ad(r)),s}function q0(r){let s=S.useContext(fo);return Ve(s,Ad(r)),s}function I0(r){let s=S.useContext(oa);return Ve(s,Ad(r)),s}function Td(r){let s=I0(r),i=s.matches[s.matches.length-1];return Ve(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function $0(){return Td("useRouteId")}function P0(){var o;let r=S.useContext(Cd),s=q0("useRouteError"),i=Td("useRouteError");return r!==void 0?r:(o=s.errors)==null?void 0:o[i]}function H0(){let{router:r}=z0("useNavigate"),s=Td("useNavigate"),i=S.useRef(!1);return cx(()=>{i.current=!0}),S.useCallback(async(c,u={})=>{ia(i.current,ox),i.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:s,...u}))},[r,s])}var sp={};function dx(r,s,i){!s&&!sp[r]&&(sp[r]=!0,ia(!1,i))}S.memo(V0);function V0({routes:r,future:s,state:i,unstable_onError:o}){return ux(r,void 0,i,o,s)}function Yn({to:r,replace:s,state:i,relative:o}){Ve(Zn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(la);ia(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=S.useContext(oa),{pathname:h}=$a(),g=ws(),m=kd(r,Ed(u),h,o==="path"),p=JSON.stringify(m);return S.useEffect(()=>{g(JSON.parse(p),{replace:s,state:i,relative:o})},[g,p,o,s,i]),null}function aa(r){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G0({basename:r="/",children:s=null,location:i,navigationType:o="POP",navigator:c,static:u=!1}){Ve(!Zn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),g=S.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof i=="string"&&(i=Xn(i));let{pathname:m="/",search:p="",hash:b="",state:w=null,key:j="default"}=i,_=S.useMemo(()=>{let v=qa(m,h);return v==null?null:{location:{pathname:v,search:p,hash:b,state:w,key:j},navigationType:o}},[h,m,p,b,w,j,o]);return ia(_!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(la.Provider,{value:g},S.createElement(di.Provider,{children:s,value:_}))}function Y0({children:r,location:s}){return O0(nd(r),s)}function nd(r,s=[]){let i=[];return S.Children.forEach(r,(o,c)=>{if(!S.isValidElement(o))return;let u=[...s,c];if(o.type===S.Fragment){i.push.apply(i,nd(o.props.children,u));return}Ve(o.type===aa,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=nd(o.props.children,u)),i.push(h)}),i}var Jl="get",Xl="application/x-www-form-urlencoded";function mo(r){return r!=null&&typeof r.tagName=="string"}function K0(r){return mo(r)&&r.tagName.toLowerCase()==="button"}function Q0(r){return mo(r)&&r.tagName.toLowerCase()==="form"}function F0(r){return mo(r)&&r.tagName.toLowerCase()==="input"}function J0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function X0(r,s){return r.button===0&&(!s||s==="_self")&&!J0(r)}var Bl=null;function W0(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var Z0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hu(r){return r!=null&&!Z0.has(r)?(ia(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):r}function ew(r,s){let i,o,c,u,h;if(Q0(r)){let g=r.getAttribute("action");o=g?qa(g,s):null,i=r.getAttribute("method")||Jl,c=Hu(r.getAttribute("enctype"))||Xl,u=new FormData(r)}else if(K0(r)||F0(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(o=m?qa(m,s):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||Jl,c=Hu(r.getAttribute("formenctype"))||Hu(g.getAttribute("enctype"))||Xl,u=new FormData(g,r),!W0()){let{name:p,type:b,value:w}=r;if(b==="image"){let j=p?`${p}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else p&&u.append(p,w)}}else{if(mo(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Jl,o=null,c=Xl,h=r}return u&&c==="text/plain"&&(h=u,u=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rd(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function tw(r,s,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${i}`:s&&qa(o.pathname,s)==="/"?o.pathname=`${s.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function aw(r,s){if(r.id in s)return s[r.id];try{let i=await import(r.module);return s[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nw(r,s,i){let o=await Promise.all(r.map(async c=>{let u=s.routes[c.route.id];if(u){let h=await aw(u,i);return h.links?h.links():[]}return[]}));return ow(o.flat(1).filter(sw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function np(r,s,i,o,c,u){let h=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,g=(m,p)=>{var b;return i[p].pathname!==m.pathname||((b=i[p].route.path)==null?void 0:b.endsWith("*"))&&i[p].params["*"]!==m.params["*"]};return u==="assets"?s.filter((m,p)=>h(m,p)||g(m,p)):u==="data"?s.filter((m,p)=>{var w;let b=o.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(h(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let j=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function rw(r,s,{includeHydrateFallback:i}={}){return iw(r.map(o=>{let c=s.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function iw(r){return[...new Set(r)]}function lw(r){let s={},i=Object.keys(r).sort();for(let o of i)s[o]=r[o];return s}function ow(r,s){let i=new Set;return new Set(s),r.reduce((o,c)=>{let u=JSON.stringify(lw(c));return i.has(u)||(i.add(u),o.push({key:u,link:c})),o},[])}function hx(){let r=S.useContext(Wn);return Rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cw(){let r=S.useContext(fo);return Rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Od=S.createContext(void 0);Od.displayName="FrameworkContext";function fx(){let r=S.useContext(Od);return Rd(r,"You must render this element inside a <HydratedRouter> element"),r}function uw(r,s){let i=S.useContext(Od),[o,c]=S.useState(!1),[u,h]=S.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:b,onTouchStart:w}=s,j=S.useRef(null);S.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let E=k=>{k.forEach(A=>{h(A.isIntersecting)})},y=new IntersectionObserver(E,{threshold:.5});return j.current&&y.observe(j.current),()=>{y.disconnect()}}},[r]),S.useEffect(()=>{if(o){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[o]);let _=()=>{c(!0)},v=()=>{c(!1),h(!1)};return i?r!=="intent"?[u,j,{}]:[u,j,{onFocus:Zr(g,_),onBlur:Zr(m,v),onMouseEnter:Zr(p,_),onMouseLeave:Zr(b,v),onTouchStart:Zr(w,_)}]:[!1,j,{}]}function Zr(r,s){return i=>{r&&r(i),i.defaultPrevented||s(i)}}function dw({page:r,...s}){let{router:i}=hx(),o=S.useMemo(()=>sx(i.routes,r,i.basename),[i.routes,r,i.basename]);return o?S.createElement(fw,{page:r,matches:o,...s}):null}function hw(r){let{manifest:s,routeModules:i}=fx(),[o,c]=S.useState([]);return S.useEffect(()=>{let u=!1;return nw(r,s,i).then(h=>{u||c(h)}),()=>{u=!0}},[r,s,i]),o}function fw({page:r,matches:s,...i}){let o=$a(),{manifest:c,routeModules:u}=fx(),{basename:h}=hx(),{loaderData:g,matches:m}=cw(),p=S.useMemo(()=>np(r,s,m,c,o,"data"),[r,s,m,c,o]),b=S.useMemo(()=>np(r,s,m,c,o,"assets"),[r,s,m,c,o]),w=S.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let v=new Set,E=!1;if(s.forEach(k=>{var T;let A=c.routes[k.route.id];!A||!A.hasLoader||(!p.some(I=>I.route.id===k.route.id)&&k.route.id in g&&((T=u[k.route.id])!=null&&T.shouldRevalidate)||A.hasClientLoader?E=!0:v.add(k.route.id))}),v.size===0)return[];let y=tw(r,h,"data");return E&&v.size>0&&y.searchParams.set("_routes",s.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[y.pathname+y.search]},[h,g,o,c,p,s,r,u]),j=S.useMemo(()=>rw(b,c),[b,c]),_=hw(b);return S.createElement(S.Fragment,null,w.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...i})),j.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...i})),_.map(({key:v,link:E})=>S.createElement("link",{key:v,nonce:i.nonce,...E})))}function mw(...r){return s=>{r.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mx&&(window.__reactRouterVersion="7.9.5")}catch{}function gw({basename:r,children:s,window:i}){let o=S.useRef();o.current==null&&(o.current=a0({window:i,v5Compat:!0}));let c=o.current,[u,h]=S.useState({action:c.action,location:c.location}),g=S.useCallback(m=>{S.startTransition(()=>h(m))},[h]);return S.useLayoutEffect(()=>c.listen(g),[c,g]),S.createElement(G0,{basename:r,children:s,location:u.location,navigationType:u.action,navigator:c})}var gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=S.forwardRef(function({onClick:s,discover:i="render",prefetch:o="none",relative:c,reloadDocument:u,replace:h,state:g,target:m,to:p,preventScrollReset:b,viewTransition:w,...j},_){let{basename:v}=S.useContext(la),E=typeof p=="string"&&gx.test(p),y,k=!1;if(typeof p=="string"&&E&&(y=p,mx))try{let M=new URL(window.location.href),se=p.startsWith("//")?new URL(M.protocol+p):new URL(p),ce=qa(se.pathname,v);se.origin===M.origin&&ce!=null?p=ce+se.search+se.hash:k=!0}catch{ia(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=A0(p,{relative:c}),[T,I,L]=uw(o,j),J=vw(p,{replace:h,state:g,target:m,preventScrollReset:b,relative:c,viewTransition:w});function z(M){s&&s(M),M.defaultPrevented||J(M)}let te=S.createElement("a",{...j,...L,href:y||A,onClick:k||u?s:z,ref:mw(_,I),target:m,"data-discover":!E&&i==="render"?"true":void 0});return T&&!E?S.createElement(S.Fragment,null,te,S.createElement(dw,{page:A})):te});px.displayName="Link";var pw=S.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:o="",end:c=!1,style:u,to:h,viewTransition:g,children:m,...p},b){let w=hi(h,{relative:p.relative}),j=$a(),_=S.useContext(fo),{navigator:v,basename:E}=S.useContext(la),y=_!=null&&_w(w)&&g===!0,k=v.encodeLocation?v.encodeLocation(w).pathname:w.pathname,A=j.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(A=A.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&E&&(T=qa(T,E)||T);const I=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=A===k||!c&&A.startsWith(k)&&A.charAt(I)==="/",J=T!=null&&(T===k||!c&&T.startsWith(k)&&T.charAt(k.length)==="/"),z={isActive:L,isPending:J,isTransitioning:y},te=L?s:void 0,M;typeof o=="function"?M=o(z):M=[o,L?"active":null,J?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(z):u;return S.createElement(px,{...p,"aria-current":te,className:M,ref:b,style:se,to:h,viewTransition:g},typeof m=="function"?m(z):m)});pw.displayName="NavLink";var xw=S.forwardRef(({discover:r="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:c,state:u,method:h=Jl,action:g,onSubmit:m,relative:p,preventScrollReset:b,viewTransition:w,...j},_)=>{let v=jw(),E=Nw(g,{relative:p}),y=h.toLowerCase()==="get"?"get":"post",k=typeof g=="string"&&gx.test(g),A=T=>{if(m&&m(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,L=(I==null?void 0:I.getAttribute("formmethod"))||h;v(I||T.currentTarget,{fetcherKey:s,method:L,navigate:i,replace:c,state:u,relative:p,preventScrollReset:b,viewTransition:w})};return S.createElement("form",{ref:_,method:y,action:E,onSubmit:o?m:A,...j,"data-discover":!k&&r==="render"?"true":void 0})});xw.displayName="Form";function bw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xx(r){let s=S.useContext(Wn);return Ve(s,bw(r)),s}function vw(r,{target:s,replace:i,state:o,preventScrollReset:c,relative:u,viewTransition:h}={}){let g=ws(),m=$a(),p=hi(r,{relative:u});return S.useCallback(b=>{if(X0(b,s)){b.preventDefault();let w=i!==void 0?i:ri(m)===ri(p);g(r,{replace:w,state:o,preventScrollReset:c,relative:u,viewTransition:h})}},[m,g,p,i,o,s,r,c,u,h])}var yw=0,ww=()=>`__${String(++yw)}__`;function jw(){let{router:r}=xx("useSubmit"),{basename:s}=S.useContext(la),i=$0();return S.useCallback(async(o,c={})=>{let{action:u,method:h,encType:g,formData:m,body:p}=ew(o,s);if(c.navigate===!1){let b=c.fetcherKey||ww();await r.fetch(b,i,c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await r.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,s,i])}function Nw(r,{relative:s}={}){let{basename:i}=S.useContext(la),o=S.useContext(oa);Ve(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...hi(r||".",{relative:s})},h=$a();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(b=>b==="")){g.delete("index"),m.filter(w=>w).forEach(w=>g.append("index",w));let b=g.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:za([i,u.pathname])),ri(u)}function _w(r,{relative:s}={}){let i=S.useContext(lx);Ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=xx("useViewTransitionState"),c=hi(r,{relative:s});if(!i.isTransitioning)return!1;let u=qa(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=qa(i.nextLocation.pathname,o)||i.nextLocation.pathname;return eo(c.pathname,h)!=null||eo(c.pathname,u)!=null}const Sw=({className:r})=>a.jsxs("svg",{viewBox:"0 0 52 52",className:`animated-checkmark ${r}`,children:[a.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),a.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]}),Wt=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),bx=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),ii=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),gt=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),vx=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),Ew=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),go=({className:r})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9 9 0 00-9 9v-9a9 9 0 009-9h9a9 9 0 009 9v9a9 9 0 00-9-9z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.375 21.75h-6.75a.375.375 0 01-.375-.375v-3.75c0-.207.168-.375.375-.375h6.75c.207 0 .375.168.375.375v3.75a.375.375 0 01-.375.375z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 4.5V2.25a2.25 2.25 0 00-2.25-2.25h-4.5A2.25 2.25 0 007.5 2.25V4.5m10.5 0a3.75 3.75 0 01-3.75 3.75h-3a3.75 3.75 0 01-3.75-3.75m10.5 0h-10.5"})]}),li=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Kn=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3.75m-3.75 2.25h6.75m3-12.75V17.25a2.25 2.25 0 01-2.25 2.25H4.5A2.25 2.25 0 012.25 17.25V8.25A2.25 2.25 0 014.5 6h12.75a2.25 2.25 0 012.25 2.25z"})}),yx=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),Qn=({className:r})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.432 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),kw=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-3.75-.625m3.75.625V11.25"})}),Qs=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),rp=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),ip=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),bt=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),vs=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M5.625 13.5a6 6 0 100-3.375m-3.375 0a3 3 0 106 0 3 3 0 00-6 0"})}),Dd=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"})}),wx=({className:r})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-1.003 1.11-1.226.55-.223 1.19-.223 1.74 0 .55.223 1.02.684 1.11 1.226M13.5 21v-2.182c.54.223 1.09.333 1.62.333.53 0 1.08-.11 1.62-.333V21m-6 0v-2.182c-.54.223-1.09.333-1.62.333-.53 0-1.08-.11-1.62-.333V21m12-9.75l1.623 1.623a2.25 2.25 0 010 3.182l-1.623 1.623m0-6.806l-1.623-1.623a2.25 2.25 0 00-3.182 0l-1.623 1.623m6.806 0l-1.623 1.623m-4.5-1.623l-1.623 1.623a2.25 2.25 0 01-3.182 0l-1.623-1.623m6.806 0l-1.623 1.623"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6.75 6.75 0 100-13.5 6.75 6.75 0 000 13.5z"})]}),jx=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182.95-.715 2.16-1.11 3.396-1.11 1.236 0 2.445.396 3.396 1.11"})}),po=({className:r})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.075c0 1.313-.964 2.42-2.25 2.585-1.4.18-2.5.345-3.5.345-1 0-2.1-.165-3.5-.345-1.286-.165-2.25-1.272-2.25-2.585v-4.075a3.375 3.375 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 3h15A2.25 2.25 0 0121.75 5.25v9.319c0 .622-.266 1.205-.728 1.628a2.999 2.999 0 01-2.022.872 3.75 3.75 0 01-3-1.5 3.75 3.75 0 01-3 1.5 2.999 2.999 0 01-2.022-.872c-.463-.423-.728-1.006-.728-1.628V5.25A2.25 2.25 0 014.5 3z"})]}),er=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),ga=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),fi=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),ma=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Cw=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Nx=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),_x=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 17.25h.007v.008H3.75v-1.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Aw=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18"})}),Ia=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),xo=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5"})}),bo=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.31h5.418a.562.562 0 01.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.528 5.348a.562.562 0 01-.82.63l-4.803-3.22a.563.563 0 00-.64 0l-4.803 3.22a.562.562 0 01-.82-.63l1.528-5.347a.563.563 0 00-.182-.557l-4.204-3.602a.562.562 0 01.321-.988h5.418a.563.563 0 00.475-.31l2.125-5.11z"})}),pa=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 01-2.25 2.25h-1.5a2.25 2.25 0 01-2.25-2.25v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})}),vo=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a15.045 15.045 0 01-3.75 0M10.5 18.75v-3.375c0-1.423.895-2.684 2.182-3.223a9.041 9.041 0 011.135-.447M17.25 10.5a8.965 8.965 0 01-3.642 7.24M12 18.75a9.041 9.041 0 01-1.135-.447c-1.287-.54-2.182-1.8-2.182-3.223V15.375M12 18.75a9.043 9.043 0 01-3.642-7.24m6.5 1.649v-3.375c0-1.423-.895-2.684-2.182-3.223a9.041 9.041 0 00-1.135-.447M12 18.75a9.043 9.043 0 003.642-7.24"})}),Tw=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),Js=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),mi=({className:r})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.76 9.76 0 01-2.53-.388m-5.383-.948a.863.863 0 01.037.146l.695 1.453c.09.19.231.355.4.472l.45.27a.863.863 0 01.21.327c.074.16.096.335.053.502a.863.863 0 01-.33.472l-.45.27a.863.863 0 01-.4.122l-.695 1.453c-.09.19-.231.355-.4.472l-.45.27a.863.863 0 01-.21.327c-.074.16-.096.335-.053.502a.863.863 0 01.33.472l.45.27a.863.863 0 01.4.122l.695 1.453c.09.19.231.355.4.472l.45.27a.863.863 0 01.21.327c.074.16.096.335-.053.502a.863.863 0 01-.33.472l-.45.27a.863.863 0 01-.4.122l-1.39.278a.863.863 0 01-.818-.582A9.76 9.76 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})});var rd=function(r,s){return rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},rd(r,s)};function Sx(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");rd(r,s);function i(){this.constructor=r}r.prototype=s===null?Object.create(s):(i.prototype=s.prototype,new i)}var to=function(){return to=Object.assign||function(s){for(var i,o=1,c=arguments.length;o<c;o++){i=arguments[o];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(s[u]=i[u])}return s},to.apply(this,arguments)};function tr(r,s){var i={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(r);c<o.length;c++)s.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(r,o[c])&&(i[o[c]]=r[o[c]]);return i}function Ex(r,s,i,o){var c=arguments.length,u=c<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,s,i,o);else for(var g=r.length-1;g>=0;g--)(h=r[g])&&(u=(c<3?h(u):c>3?h(s,i,u):h(s,i))||u);return c>3&&u&&Object.defineProperty(s,i,u),u}function kx(r,s){return function(i,o){s(i,o,r)}}function Cx(r,s,i,o,c,u){function h(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var g=o.kind,m=g==="getter"?"get":g==="setter"?"set":"value",p=!s&&r?o.static?r:r.prototype:null,b=s||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),w,j=!1,_=i.length-1;_>=0;_--){var v={};for(var E in o)v[E]=E==="access"?{}:o[E];for(var E in o.access)v.access[E]=o.access[E];v.addInitializer=function(k){if(j)throw new TypeError("Cannot add initializers after decoration has completed");u.push(h(k||null))};var y=(0,i[_])(g==="accessor"?{get:b.get,set:b.set}:b[m],v);if(g==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(w=h(y.get))&&(b.get=w),(w=h(y.set))&&(b.set=w),(w=h(y.init))&&c.unshift(w)}else(w=h(y))&&(g==="field"?c.unshift(w):b[m]=w)}p&&Object.defineProperty(p,o.name,b),j=!0}function Ax(r,s,i){for(var o=arguments.length>2,c=0;c<s.length;c++)i=o?s[c].call(r,i):s[c].call(r);return o?i:void 0}function Tx(r){return typeof r=="symbol"?r:"".concat(r)}function Rx(r,s,i){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:i?"".concat(i," ",s):s})}function Ox(r,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,s)}function le(r,s,i,o){function c(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function g(b){try{p(o.next(b))}catch(w){h(w)}}function m(b){try{p(o.throw(b))}catch(w){h(w)}}function p(b){b.done?u(b.value):c(b.value).then(g,m)}p((o=o.apply(r,s||[])).next())})}function Dx(r,s){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=g(0),h.throw=g(1),h.return=g(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(p){return function(b){return m([p,b])}}function m(p){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(i=0)),i;)try{if(o=1,c&&(u=p[0]&2?c.return:p[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,p[1])).done)return u;switch(c=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,c=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){i.label=p[1];break}if(p[0]===6&&i.label<u[1]){i.label=u[1],u=p;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(p);break}u[2]&&i.ops.pop(),i.trys.pop();continue}p=s.call(r,i)}catch(b){p=[6,b],c=0}finally{o=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var yo=Object.create?(function(r,s,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(s,i);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,c)}):(function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]});function Mx(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&yo(s,r,i)}function ao(r){var s=typeof Symbol=="function"&&Symbol.iterator,i=s&&r[s],o=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function Md(r,s){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var o=i.call(r),c,u=[],h;try{for(;(s===void 0||s-- >0)&&!(c=o.next()).done;)u.push(c.value)}catch(g){h={error:g}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(h)throw h.error}}return u}function Ux(){for(var r=[],s=0;s<arguments.length;s++)r=r.concat(Md(arguments[s]));return r}function Lx(){for(var r=0,s=0,i=arguments.length;s<i;s++)r+=arguments[s].length;for(var o=Array(r),c=0,s=0;s<i;s++)for(var u=arguments[s],h=0,g=u.length;h<g;h++,c++)o[c]=u[h];return o}function Bx(r,s,i){if(i||arguments.length===2)for(var o=0,c=s.length,u;o<c;o++)(u||!(o in s))&&(u||(u=Array.prototype.slice.call(s,0,o)),u[o]=s[o]);return r.concat(u||Array.prototype.slice.call(s))}function Fn(r){return this instanceof Fn?(this.v=r,this):new Fn(r)}function zx(r,s,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(r,s||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(_){return function(v){return Promise.resolve(v).then(_,w)}}function g(_,v){o[_]&&(c[_]=function(E){return new Promise(function(y,k){u.push([_,E,y,k])>1||m(_,E)})},v&&(c[_]=v(c[_])))}function m(_,v){try{p(o[_](v))}catch(E){j(u[0][3],E)}}function p(_){_.value instanceof Fn?Promise.resolve(_.value.v).then(b,w):j(u[0][2],_)}function b(_){m("next",_)}function w(_){m("throw",_)}function j(_,v){_(v),u.shift(),u.length&&m(u[0][0],u[0][1])}}function qx(r){var s,i;return s={},o("next"),o("throw",function(c){throw c}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(c,u){s[c]=r[c]?function(h){return(i=!i)?{value:Fn(r[c](h)),done:!1}:u?u(h):h}:u}}function Ix(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r[Symbol.asyncIterator],i;return s?s.call(r):(r=typeof ao=="function"?ao(r):r[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(u){i[u]=r[u]&&function(h){return new Promise(function(g,m){h=r[u](h),c(g,m,h.done,h.value)})}}function c(u,h,g,m){Promise.resolve(m).then(function(p){u({value:p,done:g})},h)}}function $x(r,s){return Object.defineProperty?Object.defineProperty(r,"raw",{value:s}):r.raw=s,r}var Rw=Object.create?(function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}):function(r,s){r.default=s},id=function(r){return id=Object.getOwnPropertyNames||function(s){var i=[];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[i.length]=o);return i},id(r)};function Px(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var i=id(r),o=0;o<i.length;o++)i[o]!=="default"&&yo(s,r,i[o]);return Rw(s,r),s}function Hx(r){return r&&r.__esModule?r:{default:r}}function Vx(r,s,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?r!==s||!o:!s.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:s.get(r)}function Gx(r,s,i,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?r!==s||!c:!s.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(r,i):c?c.value=i:s.set(r,i),i}function Yx(r,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?s===r:r.has(s)}function Kx(r,s,i){if(s!=null){if(typeof s!="object"&&typeof s!="function")throw new TypeError("Object expected.");var o,c;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=s[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=s[Symbol.dispose],i&&(c=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");c&&(o=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),r.stack.push({value:s,dispose:o,async:i})}else i&&r.stack.push({async:!0});return s}var Ow=typeof SuppressedError=="function"?SuppressedError:function(r,s,i){var o=new Error(i);return o.name="SuppressedError",o.error=r,o.suppressed=s,o};function Qx(r){function s(u){r.error=r.hasError?new Ow(u,r.error,"An error was suppressed during disposal."):u,r.hasError=!0}var i,o=0;function c(){for(;i=r.stack.pop();)try{if(!i.async&&o===1)return o=0,r.stack.push(i),Promise.resolve().then(c);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return o|=2,Promise.resolve(u).then(c,function(h){return s(h),c()})}else o|=1}catch(h){s(h)}if(o===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return c()}function Fx(r,s){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,o,c,u,h){return o?s?".jsx":".js":c&&(!u||!h)?i:c+u+"."+h.toLowerCase()+"js"}):r}const Dw={__extends:Sx,__assign:to,__rest:tr,__decorate:Ex,__param:kx,__esDecorate:Cx,__runInitializers:Ax,__propKey:Tx,__setFunctionName:Rx,__metadata:Ox,__awaiter:le,__generator:Dx,__createBinding:yo,__exportStar:Mx,__values:ao,__read:Md,__spread:Ux,__spreadArrays:Lx,__spreadArray:Bx,__await:Fn,__asyncGenerator:zx,__asyncDelegator:qx,__asyncValues:Ix,__makeTemplateObject:$x,__importStar:Px,__importDefault:Hx,__classPrivateFieldGet:Vx,__classPrivateFieldSet:Gx,__classPrivateFieldIn:Yx,__addDisposableResource:Kx,__disposeResources:Qx,__rewriteRelativeImportExtension:Fx},Mw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Kx,get __assign(){return to},__asyncDelegator:qx,__asyncGenerator:zx,__asyncValues:Ix,__await:Fn,__awaiter:le,__classPrivateFieldGet:Vx,__classPrivateFieldIn:Yx,__classPrivateFieldSet:Gx,__createBinding:yo,__decorate:Ex,__disposeResources:Qx,__esDecorate:Cx,__exportStar:Mx,__extends:Sx,__generator:Dx,__importDefault:Hx,__importStar:Px,__makeTemplateObject:$x,__metadata:Ox,__param:kx,__propKey:Tx,__read:Md,__rest:tr,__rewriteRelativeImportExtension:Fx,__runInitializers:Ax,__setFunctionName:Rx,__spread:Ux,__spreadArray:Bx,__spreadArrays:Lx,__values:ao,default:Dw},Symbol.toStringTag,{value:"Module"})),Uw=r=>r?(...s)=>r(...s):(...s)=>fetch(...s);class Ud extends Error{constructor(s,i="FunctionsError",o){super(s),this.name=i,this.context=o}}class Lw extends Ud{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class lp extends Ud{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class op extends Ud{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var ld;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ld||(ld={}));class Bw{constructor(s,{headers:i={},customFetch:o,region:c=ld.Any}={}){this.url=s,this.headers=i,this.region=c,this.fetch=Uw(o)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return le(this,arguments,void 0,function*(i,o={}){var c;let u,h;try{const{headers:g,method:m,body:p,signal:b,timeout:w}=o;let j={},{region:_}=o;_||(_=this.region);const v=new URL(`${this.url}/${i}`);_&&_!=="any"&&(j["x-region"]=_,v.searchParams.set("forceFunctionRegion",_));let E;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(j["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(j["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let y=b;w&&(h=new AbortController,u=setTimeout(()=>h.abort(),w),b?(y=h.signal,b.addEventListener("abort",()=>h.abort())):y=h.signal);const k=yield this.fetch(v.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),g),body:E,signal:y}).catch(L=>{throw new Lw(L)}),A=k.headers.get("x-relay-error");if(A&&A==="true")throw new lp(k);if(!k.ok)throw new op(k);let T=((c=k.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),I;return T==="application/json"?I=yield k.json():T==="application/octet-stream"||T==="application/pdf"?I=yield k.blob():T==="text/event-stream"?I=k:T==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null,response:k}}catch(g){return{data:null,error:g,response:g instanceof op||g instanceof lp?g.context:void 0}}finally{u&&clearTimeout(u)}})}}var ft={};const ar=Vy(Mw);var zl={},ql={},Il={},$l={},Pl={},Hl={},cp;function Jx(){if(cp)return Hl;cp=1,Object.defineProperty(Hl,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Hl.default=r,Hl}var up;function Xx(){if(up)return Pl;up=1,Object.defineProperty(Pl,"__esModule",{value:!0});const s=ar.__importDefault(Jx());class i{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,b,w,j;let _=null,v=null,E=null,y=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?v=L:v=JSON.parse(L))}const T=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),I=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&I&&I.length>1&&(E=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(_={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,E=null,y=406,k="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const T=await m.text();try{_=JSON.parse(T),Array.isArray(_)&&m.status===404&&(v=[],_=null,y=200,k="OK")}catch{m.status===404&&T===""?(y=204,k="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((j=_==null?void 0:_.details)===null||j===void 0)&&j.includes("0 rows"))&&(_=null,y=200,k="OK"),_&&this.shouldThrowOnError)throw new s.default(_)}return{error:_,data:v,count:E,status:y,statusText:k}});return this.shouldThrowOnError||(g=g.catch(m=>{var p,b,w;return{error:{message:`${(p=m==null?void 0:m.name)!==null&&p!==void 0?p:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(b=m==null?void 0:m.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=m==null?void 0:m.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,u)}returns(){return this}overrideTypes(){return this}}return Pl.default=i,Pl}var dp;function Wx(){if(dp)return $l;dp=1,Object.defineProperty($l,"__esModule",{value:!0});const s=ar.__importDefault(Xx());class i extends s.default{select(c){let u=!1;const h=(c??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:g,referencedTable:m=g}={}){const p=m?`${m}.order`:"order",b=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${b?`${b},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:g=h}={}){const m=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(m,`${c}`),this.url.searchParams.set(p,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:g=!1,wal:m=!1,format:p="text"}={}){var b;const w=[c?"analyze":null,u?"verbose":null,h?"settings":null,g?"buffers":null,m?"wal":null].filter(Boolean).join("|"),j=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${j}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return $l.default=i,$l}var hp;function Ld(){if(hp)return Il;hp=1,Object.defineProperty(Il,"__esModule",{value:!0});const s=ar.__importDefault(Wx()),i=new RegExp("[,()]");class o extends s.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const g=Array.from(new Set(h)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${g})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:g,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const b=g===void 0?"":`(${g})`;return this.url.searchParams.append(u,`${p}fts${b}.${h}`),this}match(u){return Object.entries(u).forEach(([h,g])=>{this.url.searchParams.append(h,`eq.${g}`)}),this}not(u,h,g){return this.url.searchParams.append(u,`not.${h}.${g}`),this}or(u,{foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,h,g){return this.url.searchParams.append(u,`${h}.${g}`),this}}return Il.default=o,Il}var fp;function Zx(){if(fp)return ql;fp=1,Object.defineProperty(ql,"__esModule",{value:!0});const s=ar.__importDefault(Ld());class i{constructor(c,{headers:u={},schema:h,fetch:g}){this.url=c,this.headers=new Headers(u),this.schema=h,this.fetch=g}select(c,u){const{head:h=!1,count:g}=u??{},m=h?"HEAD":"GET";let p=!1;const b=(c??"*").split("").map(w=>/\s/.test(w)&&!p?"":(w==='"'&&(p=!p),w)).join("");return this.url.searchParams.set("select",b),g&&this.headers.append("Prefer",`count=${g}`),new s.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:h=!0}={}){var g;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const p=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(p.length>0){const b=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new s.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:g,defaultToNull:m=!0}={}){var p;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),g&&this.headers.append("Prefer",`count=${g}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((j,_)=>j.concat(Object.keys(_)),[]);if(w.length>0){const j=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",j.join(","))}}return new s.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(c,{count:u}={}){var h;const g="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var u;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ql.default=i,ql}var mp;function zw(){if(mp)return zl;mp=1,Object.defineProperty(zl,"__esModule",{value:!0});const r=ar,s=r.__importDefault(Zx()),i=r.__importDefault(Ld());class o{constructor(u,{headers:h={},schema:g,fetch:m}={}){this.url=u,this.headers=new Headers(h),this.schemaName=g,this.fetch=m}from(u){const h=new URL(`${this.url}/${u}`);return new s.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:g=!1,get:m=!1,count:p}={}){var b;let w;const j=new URL(`${this.url}/rpc/${u}`);let _;g||m?(w=g?"HEAD":"GET",Object.entries(h).filter(([E,y])=>y!==void 0).map(([E,y])=>[E,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([E,y])=>{j.searchParams.append(E,y)})):(w="POST",_=h);const v=new Headers(this.headers);return p&&v.set("Prefer",`count=${p}`),new i.default({method:w,url:j,headers:v,schema:this.schemaName,body:_,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return zl.default=o,zl}var gp;function qw(){if(gp)return ft;gp=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const r=ar,s=r.__importDefault(zw());ft.PostgrestClient=s.default;const i=r.__importDefault(Zx());ft.PostgrestQueryBuilder=i.default;const o=r.__importDefault(Ld());ft.PostgrestFilterBuilder=o.default;const c=r.__importDefault(Wx());ft.PostgrestTransformBuilder=c.default;const u=r.__importDefault(Xx());ft.PostgrestBuilder=u.default;const h=r.__importDefault(Jx());return ft.PostgrestError=h.default,ft.default={PostgrestClient:s.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},ft}var eb=qw();const tb=_d(eb),Iw=Hy({__proto__:null,default:tb},[eb]),{PostgrestClient:$w,PostgrestQueryBuilder:V1,PostgrestFilterBuilder:G1,PostgrestTransformBuilder:Y1,PostgrestBuilder:K1,PostgrestError:Q1}=tb||Iw;class Pw{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const o=i.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let i=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(i+=`

Suggested solution: ${s.workaround}`),new Error(i)}static createWebSocket(s,i){const o=this.getWebSocketConstructor();return new o(s,i)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Hw="2.81.0",Vw=`realtime-js/${Hw}`,ab="1.0.0",Gw="2.0.0",pp=ab,od=1e4,Yw=1e3,Kw=100;var Gs;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Gs||(Gs={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var Xt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Xt||(Xt={}));var cd;(function(r){r.websocket="websocket"})(cd||(cd={}));var Ys;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ys||(Ys={}));class Qw{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(s,i){if(this._isArrayBuffer(s.payload))return i(this._binaryEncodePush(s));if(s.event===this.BROADCAST&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(s));let o=[s.join_ref,s.ref,s.topic,s.event,s.payload];return i(JSON.stringify(o))}_binaryEncodePush(s){const{join_ref:i,ref:o,event:c,topic:u,payload:h}=s,g=this.META_LENGTH+i.length+o.length+u.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(m),b=0;p.setUint8(b++,this.KINDS.push),p.setUint8(b++,i.length),p.setUint8(b++,o.length),p.setUint8(b++,u.length),p.setUint8(b++,c.length),Array.from(i,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(o,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(u,j=>p.setUint8(b++,j.charCodeAt(0))),Array.from(c,j=>p.setUint8(b++,j.charCodeAt(0)));var w=new Uint8Array(m.byteLength+h.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(h),m.byteLength),w.buffer}_binaryEncodeUserBroadcastPush(s){var i;return this._isArrayBuffer((i=s.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var i,o;const{join_ref:c,ref:u,topic:h}=s,g=s.payload.event,m=(o=(i=s.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+h.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(b),j=0;w.setUint8(j++,this.KINDS.userBroadcastPush),w.setUint8(j++,c.length),w.setUint8(j++,u.length),w.setUint8(j++,h.length),w.setUint8(j++,g.length),w.setUint8(j++,this.BINARY_ENCODING),Array.from(c,v=>w.setUint8(j++,v.charCodeAt(0))),Array.from(u,v=>w.setUint8(j++,v.charCodeAt(0))),Array.from(h,v=>w.setUint8(j++,v.charCodeAt(0))),Array.from(g,v=>w.setUint8(j++,v.charCodeAt(0)));var _=new Uint8Array(b.byteLength+m.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(m),b.byteLength),_.buffer}_encodeJsonUserBroadcastPush(s){var i,o;const{join_ref:c,ref:u,topic:h}=s,g=s.payload.event,m=(o=(i=s.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},b=new TextEncoder().encode(JSON.stringify(m)).buffer,w=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+h.length+g.length,j=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(j),v=0;_.setUint8(v++,this.KINDS.userBroadcastPush),_.setUint8(v++,c.length),_.setUint8(v++,u.length),_.setUint8(v++,h.length),_.setUint8(v++,g.length),_.setUint8(v++,this.JSON_ENCODING),Array.from(c,y=>_.setUint8(v++,y.charCodeAt(0))),Array.from(u,y=>_.setUint8(v++,y.charCodeAt(0))),Array.from(h,y=>_.setUint8(v++,y.charCodeAt(0))),Array.from(g,y=>_.setUint8(v++,y.charCodeAt(0)));var E=new Uint8Array(j.byteLength+b.byteLength);return E.set(new Uint8Array(j),0),E.set(new Uint8Array(b),j.byteLength),E.buffer}decode(s,i){if(this._isArrayBuffer(s)){let o=this._binaryDecode(s);return i(o)}if(typeof s=="string"){const o=JSON.parse(s),[c,u,h,g,m]=o;return i({join_ref:c,ref:u,topic:h,event:g,payload:m})}return i({})}_binaryDecode(s){const i=new DataView(s),o=i.getUint8(0),c=new TextDecoder;switch(o){case this.KINDS.push:return this._decodePush(s,i,c);case this.KINDS.reply:return this._decodeReply(s,i,c);case this.KINDS.broadcast:return this._decodeBroadcast(s,i,c);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,i,c)}}_decodePush(s,i,o){const c=i.getUint8(1),u=i.getUint8(2),h=i.getUint8(3);let g=this.HEADER_LENGTH+this.META_LENGTH-1;const m=o.decode(s.slice(g,g+c));g=g+c;const p=o.decode(s.slice(g,g+u));g=g+u;const b=o.decode(s.slice(g,g+h));g=g+h;const w=JSON.parse(o.decode(s.slice(g,s.byteLength)));return{join_ref:m,ref:null,topic:p,event:b,payload:w}}_decodeReply(s,i,o){const c=i.getUint8(1),u=i.getUint8(2),h=i.getUint8(3),g=i.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const p=o.decode(s.slice(m,m+c));m=m+c;const b=o.decode(s.slice(m,m+u));m=m+u;const w=o.decode(s.slice(m,m+h));m=m+h;const j=o.decode(s.slice(m,m+g));m=m+g;const _=JSON.parse(o.decode(s.slice(m,s.byteLength))),v={status:j,response:_};return{join_ref:p,ref:b,topic:w,event:Xt.reply,payload:v}}_decodeBroadcast(s,i,o){const c=i.getUint8(1),u=i.getUint8(2);let h=this.HEADER_LENGTH+2;const g=o.decode(s.slice(h,h+c));h=h+c;const m=o.decode(s.slice(h,h+u));h=h+u;const p=JSON.parse(o.decode(s.slice(h,s.byteLength)));return{join_ref:null,ref:null,topic:g,event:m,payload:p}}_decodeUserBroadcast(s,i,o){const c=i.getUint8(1),u=i.getUint8(2),h=i.getUint8(3),g=i.getUint8(4);let m=this.HEADER_LENGTH+4;const p=o.decode(s.slice(m,m+c));m=m+c;const b=o.decode(s.slice(m,m+u));m=m+u;const w=o.decode(s.slice(m,m+h));m=m+h;const j=s.slice(m,s.byteLength),_=g===this.JSON_ENCODING?JSON.parse(o.decode(j)):j,v={type:this.BROADCAST,event:b,payload:_};return h>0&&(v.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:v}}_isArrayBuffer(s){var i;return s instanceof ArrayBuffer||((i=s==null?void 0:s.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class sb{constructor(s,i){this.callback=s,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ie||(Ie={}));const xp=(r,s,i={})=>{var o;const c=(o=i.skipTypes)!==null&&o!==void 0?o:[];return s?Object.keys(s).reduce((u,h)=>(u[h]=Fw(h,r,s,c),u),{}):{}},Fw=(r,s,i,o)=>{const c=s.find(g=>g.name===r),u=c==null?void 0:c.type,h=i[r];return u&&!o.includes(u)?nb(u,h):ud(h)},nb=(r,s)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Zw(s,i)}switch(r){case Ie.bool:return Jw(s);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Xw(s);case Ie.json:case Ie.jsonb:return Ww(s);case Ie.timestamp:return ej(s);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return ud(s);default:return ud(s)}},ud=r=>r,Jw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Xw=r=>{if(typeof r=="string"){const s=parseFloat(r);if(!Number.isNaN(s))return s}return r},Ww=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(s){return console.log(`JSON parse error: ${s}`),r}return r},Zw=(r,s)=>{if(typeof r!="string")return r;const i=r.length-1,o=r[i];if(r[0]==="{"&&o==="}"){let u;const h=r.slice(1,i);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(g=>nb(s,g))}return r},ej=r=>typeof r=="string"?r.replace(" ","T"):r,rb=r=>{const s=new URL(r);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Vu{constructor(s,i,o={},c=od){this.channel=s,this.event=i,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,i){var o;return this._hasReceived(s)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:s,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:i}){this.recHooks.filter(o=>o.status===s).forEach(o=>o.callback(i))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var bp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(bp||(bp={}));class ai{constructor(s,i){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:u,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,c,u,h),this.pendingDiffs.forEach(m=>{this.state=ai.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ai.syncDiff(this.state,c,u,h),g())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,i,o,c){const u=this.cloneDeep(s),h=this.transformState(i),g={},m={};return this.map(u,(p,b)=>{h[p]||(m[p]=b)}),this.map(h,(p,b)=>{const w=u[p];if(w){const j=b.map(y=>y.presence_ref),_=w.map(y=>y.presence_ref),v=b.filter(y=>_.indexOf(y.presence_ref)<0),E=w.filter(y=>j.indexOf(y.presence_ref)<0);v.length>0&&(g[p]=v),E.length>0&&(m[p]=E)}else g[p]=b}),this.syncDiff(u,{joins:g,leaves:m},o,c)}static syncDiff(s,i,o,c){const{joins:u,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(u,(g,m)=>{var p;const b=(p=s[g])!==null&&p!==void 0?p:[];if(s[g]=this.cloneDeep(m),b.length>0){const w=s[g].map(_=>_.presence_ref),j=b.filter(_=>w.indexOf(_.presence_ref)<0);s[g].unshift(...j)}o(g,b,m)}),this.map(h,(g,m)=>{let p=s[g];if(!p)return;const b=m.map(w=>w.presence_ref);p=p.filter(w=>b.indexOf(w.presence_ref)<0),s[g]=p,c(g,p,m),p.length===0&&delete s[g]}),s}static map(s,i){return Object.getOwnPropertyNames(s).map(o=>i(o,s[o]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((i,o)=>{const c=s[o];return"metas"in c?i[o]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[o]=c,i},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(vp||(vp={}));var si;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(si||(si={}));var La;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class Bd{constructor(s,i={config:{}},o){var c,u;if(this.topic=s,this.params=i,this.socket=o,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new sb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new ai(this),this.broadcastEndpointURL=rb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,i=this.timeout){var o,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:h,presence:g,private:m}}=this.params,p=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},j={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>s==null?void 0:s(La.CHANNEL_ERROR,_)),this._onClose(()=>s==null?void 0:s(La.CLOSED)),this.updateJoinPayload(Object.assign({config:j},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var v;if(this.socket.setAuth(),_===void 0){s==null||s(La.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,y=(v=E==null?void 0:E.length)!==null&&v!==void 0?v:0,k=[];for(let A=0;A<y;A++){const T=E[A],{filter:{event:I,schema:L,table:J,filter:z}}=T,te=_&&_[A];if(te&&te.event===I&&te.schema===L&&te.table===J&&te.filter===z)k.push(Object.assign(Object.assign({},T),{id:te.id}));else{this.unsubscribe(),this.state=st.errored,s==null||s(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,s&&s(La.SUBSCRIBED);return}}).receive("error",_=>{this.state=st.errored,s==null||s(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,i={}){return await this.send({type:"presence",event:"track",payload:s},i.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,i,o){return this.state===st.joined&&s===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,i,o)}async httpSend(s,i,o={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(s,i={}){var o,c;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=s,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,g,m;const p=this._push(s.type,s,i.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=st.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Vu(this,Xt.leave,{},s),o.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(s,i,o){const c=new AbortController,u=setTimeout(()=>c.abort(),o),h=await this.socket.fetch(s,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(u),h}_push(s,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Vu(this,s,i,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Kw){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(s,i,o){return i}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,i,o){var c,u;const h=s.toLocaleLowerCase(),{close:g,error:m,leave:p,join:b}=Xt;if(o&&[g,m,p,b].indexOf(h)>=0&&o!==this._joinRef())return;let j=this._onMessage(h,i,o);if(i&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(_=>{var v,E,y;return((v=_.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(E=_.filter)===null||E===void 0?void 0:E.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===h}).map(_=>_.callback(j,o)):(u=this.bindings[h])===null||u===void 0||u.filter(_=>{var v,E,y,k,A,T;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in _){const I=_.id,L=(v=_.filter)===null||v===void 0?void 0:v.event;return I&&((E=i.ids)===null||E===void 0?void 0:E.includes(I))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((y=i.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const I=(A=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return I==="*"||I===((T=i==null?void 0:i.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===h}).map(_=>{if(typeof j=="object"&&"ids"in j){const v=j.data,{schema:E,table:y,commit_timestamp:k,type:A,errors:T}=v;j=Object.assign(Object.assign({},{schema:E,table:y,commit_timestamp:k,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(v))}_.callback(j,o)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,i,o){const c=s.toLocaleLowerCase(),u={type:c,filter:i,callback:o};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(s,i){const o=s.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Bd.isEqual(c.filter,i))})),this}static isEqual(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const o in s)if(s[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Xt.close,{},s)}_onError(s){this._on(Xt.error,{},i=>s(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const i={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(i.new=xp(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(i.old=xp(s.columns,s.old_record)),i}}const Gu=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tj=[1e3,2e3,5e3,1e4],aj=1e4,sj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nj{constructor(s,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=od,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gu,this.ref=0,this.reconnectTimer=null,this.vsn=pp,this.logger=Gu,this.conn=null,this.sendBuffer=[],this.serializer=new Qw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${s}/${cd.websocket}`,this.httpEndpoint=rb(s),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pw.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const i=s.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},s?this.conn.close(s,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const i=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const s=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,i,o){this.logger(s,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Ys.Connecting;case Gs.open:return Ys.Open;case Gs.closing:return Ys.Closing;default:return Ys.Closed}}isConnected(){return this.connectionState()===Ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,i={config:{}}){const o=`realtime:${s}`,c=this.getChannels().find(u=>u.topic===o);if(c)return c;{const u=new Bd(`realtime:${s}`,i,this);return this.channels.push(u),u}}push(s){const{topic:i,event:o,payload:c,ref:u}=s,h=()=>{this.encode(s,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${i} ${o} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Yw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let i=this.channels.find(o=>o.topic===s&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${s}"`),i.unsubscribe())}_remove(s){this.channels=this.channels.filter(i=>i.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:u,ref:h}=i,g=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${c} ${g}`.trim(),u),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(c,u,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(s){var i;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gs.open||this.conn.readyState===Gs.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var i;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Xt.error))}_appendParams(s,i){if(Object.keys(i).length===0)return s;const o=s.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${s}${o}${c}`}_workerObjectUrl(s){let i;if(s)i=s;else{const o=new Blob([sj],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(s,i=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(s=null){let i;s?i=s:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:Vw};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Xt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${s}`,i)})}_triggerStateCallbacks(s,i){try{this.stateChangeCallbacks[s].forEach(o=>{try{o(i)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(o){this.log("error",`error triggering ${s} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new sb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var i,o,c,u,h,g,m,p,b,w,j,_;switch(this.transport=(i=s==null?void 0:s.transport)!==null&&i!==void 0?i:null,this.timeout=(o=s==null?void 0:s.timeout)!==null&&o!==void 0?o:od,this.heartbeatIntervalMs=(c=s==null?void 0:s.heartbeatIntervalMs)!==null&&c!==void 0?c:Vl.HEARTBEAT_INTERVAL,this.worker=(u=s==null?void 0:s.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=s==null?void 0:s.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=s==null?void 0:s.heartbeatCallback)!==null&&g!==void 0?g:Gu,this.vsn=(m=s==null?void 0:s.vsn)!==null&&m!==void 0?m:pp,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=s==null?void 0:s.reconnectAfterMs)!==null&&p!==void 0?p:(v=>tj[v-1]||aj),this.vsn){case ab:this.encode=(b=s==null?void 0:s.encode)!==null&&b!==void 0?b:((v,E)=>E(JSON.stringify(v))),this.decode=(w=s==null?void 0:s.decode)!==null&&w!==void 0?w:((v,E)=>E(JSON.parse(v)));break;case Gw:this.encode=(j=s==null?void 0:s.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(_=s==null?void 0:s.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class zd extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function Ge(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class rj extends zd{constructor(s,i,o){super(s),this.name="StorageApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dd extends zd{constructor(s,i){super(s),this.name="StorageUnknownError",this.originalError=i}}const qd=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),ij=()=>Response,hd=r=>{if(Array.isArray(r))return r.map(i=>hd(i));if(typeof r=="function"||r!==Object(r))return r;const s={};return Object.entries(r).forEach(([i,o])=>{const c=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));s[c]=hd(o)}),s},lj=r=>{if(typeof r!="object"||r===null)return!1;const s=Object.getPrototypeOf(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Yu=r=>{var s;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(s=r.error)===null||s===void 0?void 0:s.message)||JSON.stringify(r)},oj=(r,s,i)=>le(void 0,void 0,void 0,function*(){const o=yield ij();r instanceof o&&!(i!=null&&i.noResolveJson)?r.json().then(c=>{const u=r.status||500,h=(c==null?void 0:c.statusCode)||u+"";s(new rj(Yu(c),u,h))}).catch(c=>{s(new dd(Yu(c),c))}):s(new dd(Yu(r),r))}),cj=(r,s,i,o)=>{const c={method:r,headers:(s==null?void 0:s.headers)||{}};return r==="GET"||!o?c:(lj(o)?(c.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),c.body=JSON.stringify(o)):c.body=o,s!=null&&s.duplex&&(c.duplex=s.duplex),Object.assign(Object.assign({},c),i))};function gi(r,s,i,o,c,u){return le(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(i,cj(s,o,c,u)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>oj(m,g,o))})})}function oi(r,s,i,o){return le(this,void 0,void 0,function*(){return gi(r,"GET",s,i,o)})}function ra(r,s,i,o,c){return le(this,void 0,void 0,function*(){return gi(r,"POST",s,o,c,i)})}function fd(r,s,i,o,c){return le(this,void 0,void 0,function*(){return gi(r,"PUT",s,o,c,i)})}function uj(r,s,i,o){return le(this,void 0,void 0,function*(){return gi(r,"HEAD",s,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function Id(r,s,i,o,c){return le(this,void 0,void 0,function*(){return gi(r,"DELETE",s,o,c,i)})}class dj{constructor(s,i){this.downloadFn=s,this.shouldThrowOnError=i}then(s,i){return this.execute().then(s,i)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}}var ib;class hj{constructor(s,i){this.downloadFn=s,this.shouldThrowOnError=i,this[ib]="BlobDownloadBuilder",this.promise=null}asStream(){return new dj(this.downloadFn,this.shouldThrowOnError)}then(s,i){return this.getPromise().then(s,i)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}}ib=Symbol.toStringTag;const fj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mj{constructor(s,i={},o,c){this.shouldThrowOnError=!1,this.url=s,this.headers=i,this.bucketId=o,this.fetch=qd(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,i,o,c){return le(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},yp),c);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=o,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),c!=null&&c.headers&&(g=Object.assign(Object.assign({},g),c.headers));const p=this._removeEmptyFolders(i),b=this._getFinalPath(p),w=yield(s=="PUT"?fd:ra)(this.fetch,`${this.url}/object/${b}`,u,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}upload(s,i,o){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,i,o)})}uploadToSignedUrl(s,i,o,c){return le(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(s),h=this._getFinalPath(u),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",i);try{let m;const p=Object.assign({upsert:yp.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",p.cacheControl)):(m=o,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const w=yield fd(this.fetch,g.toString(),m,{headers:b});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ge(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(s,i){return le(this,void 0,void 0,function*(){try{let o=this._getFinalPath(s);const c=Object.assign({},this.headers);i!=null&&i.upsert&&(c["x-upsert"]="true");const u=yield ra(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),h=new URL(this.url+u.url),g=h.searchParams.get("token");if(!g)throw new zd("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:g},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}update(s,i,o){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,i,o)})}move(s,i,o){return le(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}copy(s,i,o){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrl(s,i,o){return le(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),u=yield ra(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrls(s,i,o){return le(this,void 0,void 0,function*(){try{const c=yield ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:s},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}download(s,i){const c=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),h=u?`?${u}`:"",g=this._getFinalPath(s),m=()=>oi(this.fetch,`${this.url}/${c}/${g}${h}`,{headers:this.headers,noResolveJson:!0});return new hj(m,this.shouldThrowOnError)}info(s){return le(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{const o=yield oi(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:hd(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}exists(s){return le(this,void 0,void 0,function*(){const i=this._getFinalPath(s);try{return yield uj(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o)&&o instanceof dd){const c=o.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:o}}throw o}})}getPublicUrl(s,i){const o=this._getFinalPath(s),c=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&c.push(u);const g=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});m!==""&&c.push(m);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${o}${p}`)}}}remove(s){return le(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}list(s,i,o){return le(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},fj),i),{prefix:s||""});return{data:yield ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}listV2(s,i){return le(this,void 0,void 0,function*(){try{const o=Object.assign({},s);return{data:yield ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const i=[];return s.width&&i.push(`width=${s.width}`),s.height&&i.push(`height=${s.height}`),s.resize&&i.push(`resize=${s.resize}`),s.format&&i.push(`format=${s.format}`),s.quality&&i.push(`quality=${s.quality}`),i.join("&")}}const lb="2.81.0",ob={"X-Client-Info":`storage-js/${lb}`};class gj{constructor(s,i={},o,c){this.shouldThrowOnError=!1;const u=new URL(s);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),i),this.fetch=qd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(s){return le(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(s);return{data:yield oi(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}getBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}createBucket(s){return le(this,arguments,void 0,function*(i,o={public:!1}){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}updateBucket(s,i){return le(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ge(o))return{data:null,error:o};throw o}})}emptyBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}deleteBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(s){const i={};return s&&("limit"in s&&(i.limit=String(s.limit)),"offset"in s&&(i.offset=String(s.offset)),s.search&&(i.search=s.search),s.sortColumn&&(i.sortColumn=s.sortColumn),s.sortOrder&&(i.sortOrder=s.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class pj{constructor(s,i={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),i),this.fetch=qd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{name:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}listBuckets(s){return le(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&i.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&i.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&i.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&i.set("sortOrder",s.sortOrder),s!=null&&s.search&&i.set("search",s.search);const o=i.toString(),c=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield oi(this.fetch,c,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}deleteBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ge(i))return{data:null,error:i};throw i}})}}const $d={"X-Client-Info":`storage-js/${lb}`,"Content-Type":"application/json"};class cb extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Ku extends cb{constructor(s,i,o){super(s),this.name="StorageVectorsApiError",this.status=i,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xj extends cb{constructor(s,i){super(s),this.name="StorageVectorsUnknownError",this.originalError=i}}var wp;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wp||(wp={}));const Pd=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),bj=r=>{if(typeof r!="object"||r===null)return!1;const s=Object.getPrototypeOf(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},jp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),vj=(r,s,i)=>le(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(i!=null&&i.noResolveJson)){const c=r.status||500,u=r;if(typeof u.json=="function")u.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";s(new Ku(jp(h),c,g))}).catch(()=>{const h=c+"",g=u.statusText||`HTTP ${c} error`;s(new Ku(g,c,h))});else{const h=c+"",g=u.statusText||`HTTP ${c} error`;s(new Ku(g,c,h))}}else s(new xj(jp(r),r))}),yj=(r,s,i,o)=>{const c={method:r,headers:(s==null?void 0:s.headers)||{}};return o?(bj(o)?(c.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),c.body=JSON.stringify(o)):c.body=o,Object.assign(Object.assign({},c),i)):c};function wj(r,s,i,o,c,u){return le(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(i,yj(s,o,c,u)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>vj(m,g,o))})})}function qt(r,s,i,o,c){return le(this,void 0,void 0,function*(){return wj(r,"POST",s,o,c,i)})}class jj{constructor(s,i={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$d),i),this.fetch=Pd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(s){return le(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/CreateIndex`,s,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getIndex(s,i){return le(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:s,indexName:i},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}listIndexes(s){return le(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/ListIndexes`,s,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteIndex(s,i){return le(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:s,indexName:i},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}}class Nj{constructor(s,i={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$d),i),this.fetch=Pd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(s){return le(this,void 0,void 0,function*(){try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qt(this.fetch,`${this.url}/PutVectors`,s,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getVectors(s){return le(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetVectors`,s,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listVectors(s){return le(this,void 0,void 0,function*(){try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:yield qt(this.fetch,`${this.url}/ListVectors`,s,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}queryVectors(s){return le(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/QueryVectors`,s,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteVectors(s){return le(this,void 0,void 0,function*(){try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qt(this.fetch,`${this.url}/DeleteVectors`,s,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}}class _j{constructor(s,i={},o){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$d),i),this.fetch=Pd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return le(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}getBucket(s){return le(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listBuckets(){return le(this,arguments,void 0,function*(s={}){try{return{data:yield qt(this.fetch,`${this.url}/ListVectorBuckets`,s,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}deleteBucket(s){return le(this,void 0,void 0,function*(){try{return{data:(yield qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}}class Sj extends _j{constructor(s,i={}){super(s,i.headers||{},i.fetch)}from(s){return new Ej(this.url,this.headers,s,this.fetch)}}class Ej extends jj{constructor(s,i,o,c){super(s,i,c),this.vectorBucketName=o}createIndex(s){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const s=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(i={}){return s.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(s){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,s)})}deleteIndex(s){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,s)})}index(s){return new kj(this.url,this.headers,this.vectorBucketName,s,this.fetch)}}class kj extends Nj{constructor(s,i,o,c,u){super(s,i,u),this.vectorBucketName=o,this.indexName=c}putVectors(s){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(s){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const s=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(i={}){return s.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(s){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(s){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cj extends gj{constructor(s,i={},o,c){super(s,i,o,c)}from(s){return new mj(this.url,this.headers,s,this.fetch)}get vectors(){return new Sj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pj(this.url+"/iceberg",this.headers,this.fetch)}}const Aj="2.81.0";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const Tj={"X-Client-Info":`supabase-js-${ti}/${Aj}`},Rj={headers:Tj},Oj={schema:"public"},Dj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mj={},Uj=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),Lj=()=>Headers,Bj=(r,s,i)=>{const o=Uj(i),c=Lj();return async(u,h)=>{var g;const m=(g=await s())!==null&&g!==void 0?g:r;let p=new c(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},h),{headers:p}))}};function zj(r){return r.endsWith("/")?r:r+"/"}function qj(r,s){var i,o;const{db:c,auth:u,realtime:h,global:g}=r,{db:m,auth:p,realtime:b,global:w}=s,j={db:Object.assign(Object.assign({},m),c),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),g),{headers:Object.assign(Object.assign({},(i=w==null?void 0:w.headers)!==null&&i!==void 0?i:{}),(o=g==null?void 0:g.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?j.accessToken=r.accessToken:delete j.accessToken,j}function Ij(r){const s=r==null?void 0:r.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zj(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ub="2.81.0",Pn=30*1e3,md=3,Qu=md*Pn,$j="http://localhost:9999",Pj="supabase.auth.token",Hj={"X-Client-Info":`gotrue-js/${ub}`},gd="X-Supabase-Api-Version",db={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gj=600*1e3;class ci extends Error{constructor(s,i,o){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ue(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Yj extends ci{constructor(s,i,o){super(s,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function Kj(r){return ue(r)&&r.name==="AuthApiError"}class Ks extends ci{constructor(s,i){super(s),this.name="AuthUnknownError",this.originalError=i}}class js extends ci{constructor(s,i,o,c){super(s,o,c),this.name=i,this.status=o}}class sa extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qj(r){return ue(r)&&r.name==="AuthSessionMissingError"}class Ln extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends js{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends js{constructor(s,i=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fj(r){return ue(r)&&r.name==="AuthImplicitGrantRedirectError"}class Np extends js{constructor(s,i=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pd extends js{constructor(s,i){super(s,"AuthRetryableFetchError",i,void 0)}}function Fu(r){return ue(r)&&r.name==="AuthRetryableFetchError"}class _p extends js{constructor(s,i,o){super(s,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class xd extends js{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),Jj=(()=>{const r=new Array(128);for(let s=0;s<r.length;s+=1)r[s]=-1;for(let s=0;s<Sp.length;s+=1)r[Sp[s].charCodeAt(0)]=-2;for(let s=0;s<so.length;s+=1)r[so[s].charCodeAt(0)]=s;return r})();function Ep(r,s,i){if(r!==null)for(s.queue=s.queue<<8|r,s.queuedBits+=8;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;i(so[o]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;i(so[o]),s.queuedBits-=6}}function hb(r,s,i){const o=Jj[r];if(o>-1)for(s.queue=s.queue<<6|o,s.queuedBits+=6;s.queuedBits>=8;)i(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function kp(r){const s=[],i=h=>{s.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{Zj(h,o,i)};for(let h=0;h<r.length;h+=1)hb(r.charCodeAt(h),c,u);return s.join("")}function Xj(r,s){if(r<=127){s(r);return}else if(r<=2047){s(192|r>>6),s(128|r&63);return}else if(r<=65535){s(224|r>>12),s(128|r>>6&63),s(128|r&63);return}else if(r<=1114111){s(240|r>>18),s(128|r>>12&63),s(128|r>>6&63),s(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Wj(r,s){for(let i=0;i<r.length;i+=1){let o=r.charCodeAt(i);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}Xj(o,s)}}function Zj(r,s,i){if(s.utf8seq===0){if(r<=127){i(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){s.utf8seq=o;break}if(s.utf8seq===2)s.codepoint=r&31;else if(s.utf8seq===3)s.codepoint=r&15;else if(s.utf8seq===4)s.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|r&63,s.utf8seq-=1,s.utf8seq===0&&i(s.codepoint)}}function Gn(r){const s=[],i={queue:0,queuedBits:0},o=c=>{s.push(c)};for(let c=0;c<r.length;c+=1)hb(r.charCodeAt(c),i,o);return new Uint8Array(s)}function e2(r){const s=[];return Wj(r,i=>s.push(i)),new Uint8Array(s)}function Fs(r){const s=[],i={queue:0,queuedBits:0},o=c=>{s.push(c)};return r.forEach(c=>Ep(c,i,o)),Ep(null,i,o),s.join("")}function t2(r){return Math.round(Date.now()/1e3)+r}function a2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const s=Math.random()*16|0;return(r=="x"?s:s&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Ps={tested:!1,writable:!1},fb=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ps.tested)return Ps.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ps.tested=!0,Ps.writable=!0}catch{Ps.tested=!0,Ps.writable=!1}return Ps.writable};function s2(r){const s={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,u)=>{s[u]=c})}catch{}return i.searchParams.forEach((o,c)=>{s[c]=o}),s}const mb=r=>r?(...s)=>r(...s):(...s)=>fetch(...s),n2=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Hn=async(r,s,i)=>{await r.setItem(s,JSON.stringify(i))},Hs=async(r,s)=>{const i=await r.getItem(s);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ms=async(r,s)=>{await r.removeItem(s)};class wo{constructor(){this.promise=new wo.promiseConstructor((s,i)=>{this.resolve=s,this.reject=i})}}wo.promiseConstructor=Promise;function Ju(r){const s=r.split(".");if(s.length!==3)throw new xd("Invalid JWT structure");for(let o=0;o<s.length;o++)if(!Vj.test(s[o]))throw new xd("JWT not in base64url format");return{header:JSON.parse(kp(s[0])),payload:JSON.parse(kp(s[1])),signature:Gn(s[2]),raw:{header:s[0],payload:s[1]}}}async function r2(r){return await new Promise(s=>{setTimeout(()=>s(null),r)})}function i2(r,s){return new Promise((o,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await r(u);if(!s(u,null,h)){o(h);return}}catch(h){if(!s(u,h)){c(h);return}}})()})}function l2(r){return("0"+r.toString(16)).substr(-2)}function o2(){const s=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let c="";for(let u=0;u<56;u++)c+=i.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(s),Array.from(s,l2).join("")}async function c2(r){const i=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(o);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function u2(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await c2(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(r,s,i=!1){const o=o2();let c=o;i&&(c+="/PASSWORD_RECOVERY"),await Hn(r,`${s}-code-verifier`,c);const u=await u2(o);return[u,o===u?"plain":"s256"]}const d2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h2(r){const s=r.headers.get(gd);if(!s||!s.match(d2))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function f2(r){if(!r)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(r<=s)throw new Error("JWT has expired")}function m2(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zn(r){if(!g2.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const r={};return new Proxy(r,{get:(s,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p2(r,s){return new Proxy(r,{get:(i,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,c)}return!s.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(i,o,c)}})}function Cp(r){return JSON.parse(JSON.stringify(r))}const Vs=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),x2=[502,503,504];async function Ap(r){var s;if(!n2(r))throw new pd(Vs(r),0);if(x2.includes(r.status))throw new pd(Vs(r),r.status);let i;try{i=await r.json()}catch(u){throw new Ks(Vs(u),u)}let o;const c=h2(r);if(c&&c.getTime()>=db["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new _p(Vs(i),r.status,((s=i.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(o==="session_not_found")throw new sa}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new _p(Vs(i),r.status,i.weak_password.reasons);throw new Yj(Vs(i),r.status||500,o)}const b2=(r,s,i,o)=>{const c={method:r,headers:(s==null?void 0:s.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),i))};async function pe(r,s,i,o){var c;const u=Object.assign({},o==null?void 0:o.headers);u[gd]||(u[gd]=db["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(c=o==null?void 0:o.query)!==null&&c!==void 0?c:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await v2(r,s,i+g,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function v2(r,s,i,o,c,u){const h=b2(s,o,c,u);let g;try{g=await r(i,Object.assign({},h))}catch(m){throw console.error(m),new pd(Vs(m),0)}if(g.ok||await Ap(g),o!=null&&o.noResolveJson)return g;try{return await g.json()}catch(m){await Ap(m)}}function na(r){var s;let i=null;j2(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=t2(r.expires_in)));const o=(s=r.user)!==null&&s!==void 0?s:r;return{data:{session:i,user:o},error:null}}function Tp(r){const s=na(r);return!s.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(s.data.weak_password=r.weak_password),s}function bs(r){var s;return{data:{user:(s=r.user)!==null&&s!==void 0?s:r},error:null}}function y2(r){return{data:r,error:null}}function w2(r){const{action_link:s,email_otp:i,hashed_token:o,redirect_to:c,verification_type:u}=r,h=tr(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:i,hashed_token:o,redirect_to:c,verification_type:u},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function Rp(r){return r}function j2(r){return r.access_token&&r.refresh_token&&r.expires_in}const Wu=["global","local","others"];class N2{constructor({url:s="",headers:i={},fetch:o}){this.url=s,this.headers=i,this.fetch=mb(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,i=Wu[0]){if(Wu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}}async inviteUserByEmail(s,i={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:bs})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async generateLink(s){try{const{options:i}=s,o=tr(s,["options"]),c=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(c.new_email=o==null?void 0:o.newEmail,delete c.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:w2,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:bs})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(s){var i,o,c,u,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=s==null?void 0:s.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=s==null?void 0:s.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rp});if(b.error)throw b.error;const w=await b.json(),j=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(v=>{const E=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);p[`${y}Page`]=E}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(s){zn(s);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:bs})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(s,i){zn(s);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:i,headers:this.headers,xform:bs})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async deleteUser(s,i=!1){zn(s);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:i},xform:bs})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async _listFactors(s){zn(s.userId);try{const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:o}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(s){zn(s.userId),zn(s.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _listOAuthClients(s){var i,o,c,u,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=s==null?void 0:s.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=s==null?void 0:s.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Rp});if(b.error)throw b.error;const w=await b.json(),j=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(v=>{const E=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);p[`${y}Page`]=E}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(ue(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _getOAuthClient(s){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _updateOAuthClient(s,i){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(s){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}}function Op(r={}){return{getItem:s=>r[s]||null,setItem:(s,i)=>{r[s]=i},removeItem:s=>{delete r[s]}}}const qn={debug:!!(globalThis&&fb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gb extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class _2 extends gb{}async function S2(r,s,i){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,s);const o=new globalThis.AbortController;return s>0&&setTimeout(()=>{o.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(s===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _2(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(qn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function E2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pb(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function k2(r){return parseInt(r,16)}function C2(r){const s=new TextEncoder().encode(r);return"0x"+Array.from(s,o=>o.toString(16).padStart(2,"0")).join("")}function A2(r){var s;const{chainId:i,domain:o,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:g,requestId:m,resources:p,scheme:b,uri:w,version:j}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((s=r.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const _=pb(r.address),v=b?`${b}://${o}`:o,E=r.statement?`${r.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${_}

${E}`;let k=`URI: ${w}
Version: ${j}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(k+=`
Expiration Time: ${c.toISOString()}`),g&&(k+=`
Not Before: ${g.toISOString()}`),m&&(k+=`
Request ID: ${m}`),p){let A=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);A+=`
- ${T}`}k+=A}return`${y}
${k}`}class et extends Error{constructor({message:s,code:i,cause:o,name:c}){var u;super(s,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=c??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class no extends et{constructor(s,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:s}),this.name="WebAuthnUnknownError",this.originalError=i}}function T2({error:r,options:s}){var i,o,c;const{publicKey:u}=s;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(s.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(s.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new et({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(xb(h)){if(u.rp.id!==h)return new et({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function R2({error:r,options:s}){const{publicKey:i}=s;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(s.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new et({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(xb(o)){if(i.rpId!==o)return new et({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class O2{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const D2=new O2;function M2(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:s,user:i,excludeCredentials:o}=r,c=tr(r,["challenge","user","excludeCredentials"]),u=Gn(s).buffer,h=Object.assign(Object.assign({},i),{id:Gn(i.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:u,user:h});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const p=o[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Gn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function U2(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:s,allowCredentials:i}=r,o=tr(r,["challenge","allowCredentials"]),c=Gn(s).buffer,u=Object.assign(Object.assign({},o),{challenge:c});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];u.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Gn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return u}function L2(r){var s;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Fs(new Uint8Array(r.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(s=i.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function B2(r){var s;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,o=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Fs(new Uint8Array(c.authenticatorData)),clientDataJSON:Fs(new Uint8Array(c.clientDataJSON)),signature:Fs(new Uint8Array(c.signature)),userHandle:c.userHandle?Fs(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(s=i.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function xb(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Dp(){var r,s;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function z2(r){try{const s=await navigator.credentials.create(r);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new no("Browser returned unexpected credential type",s)}:{data:null,error:new no("Empty credential response",s)}}catch(s){return{data:null,error:T2({error:s,options:r})}}}async function q2(r){try{const s=await navigator.credentials.get(r);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new no("Browser returned unexpected credential type",s)}:{data:null,error:new no("Empty credential response",s)}}catch(s){return{data:null,error:R2({error:s,options:r})}}}const I2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ro(...r){const s=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of r)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))o[u]=h;else if(i(h))o[u]=h;else if(s(h)){const g=o[u];s(g)?o[u]=ro(g,h):o[u]=ro(h)}else o[u]=h}return o}function P2(r,s){return ro(I2,r,s||{})}function H2(r,s){return ro($2,r,s||{})}class V2{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:i,friendlyName:o,signal:c},u){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:s,webauthn:i});if(!h)return{data:null,error:g};const m=c??D2.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${o}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=P2(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:b,error:w}=await z2({publicKey:p,signal:m});return b?{data:{factorId:s,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const p=H2(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:b,error:w}=await q2(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:m}));return b?{data:{factorId:s,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Ks("Unexpected error in challenge",h)}}}async _verify({challengeId:s,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:s,webauthn:o})}async _authenticate({factorId:s,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!i)return{data:null,error:new ci("rpId is required for WebAuthn authentication")};try{if(!Dp())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:s,webauthn:{rpId:i,rpOrigins:o},signal:c},{request:u});if(!h)return{data:null,error:g};const{webauthn:m}=h;return this._verify({factorId:s,challengeId:h.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Ks("Unexpected error in authenticate",h)}}}async _register({friendlyName:s,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!i)return{data:null,error:new ci("rpId is required for WebAuthn registration")};try{if(!Dp())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:s});if(!h)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===s&&j.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:c},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new Ks("Unexpected error in register",h)}}}}E2();const G2={url:$j,storageKey:Pj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mp(r,s,i){return await i()}const In={};class ui{get jwks(){var s,i;return(i=(s=In[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(s){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,i;return(i=(s=In[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){In[this.storageKey]=Object.assign(Object.assign({},In[this.storageKey]),{cachedAt:s})}constructor(s){var i,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},G2),s);if(this.storageKey=u.storageKey,this.instanceID=(i=ui.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&mt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new N2({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=mb(u.fetch),this.lock=u.lock||Mp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:mt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=S2:this.lock=Mp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:fb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Op(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Op(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ub}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let i={},o="none";if(mt()&&(i=s2(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),mt()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:u}=await this._getSessionFromURL(i,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Fj(u)){const m=(s=u.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?this._returnResult({error:i}):this._returnResult({error:new Ks("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var i,o,c;try{const u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=s==null?void 0:s.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=s==null?void 0:s.options)===null||c===void 0?void 0:c.captchaToken}},xform:na}),{data:h,error:g}=u;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(s){var i,o,c;try{let u;if("email"in s){const{email:b,password:w,options:j}=s;let _=null,v=null;this.flowType==="pkce"&&([_,v]=await Bn(this.storage,this.storageKey)),u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:b,password:w,data:(i=j==null?void 0:j.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_,code_challenge_method:v},xform:na})}else if("phone"in s){const{phone:b,password:w,options:j}=s;u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(o=j==null?void 0:j.data)!==null&&o!==void 0?o:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:na})}else throw new Gl("You must provide either an email or phone number and a password");const{data:h,error:g}=u;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(s){try{let i;if("email"in s){const{email:u,password:h,options:g}=s;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Tp})}else if("phone"in s){const{phone:u,password:h,options:g}=s;i=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Tp})}else throw new Gl("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const u=new Ln;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(s){var i,o,c,u;return await this._handleProviderSignIn(s.provider,{redirectTo:(i=s.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=s.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:i}=s;switch(i){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(s){var i,o,c,u,h,g,m,p,b,w,j;let _,v;if("message"in s)_=s.message,v=s.signature;else{const{chain:E,wallet:y,statement:k,options:A}=s;let T;if(mt())if(typeof y=="object")T=y;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")T=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const I=new URL((i=A==null?void 0:A.url)!==null&&i!==void 0?i:window.location.href),L=await T.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=pb(L[0]);let z=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!z){const M=await T.request({method:"eth_chainId"});z=k2(M)}const te={domain:I.host,address:J,statement:k,uri:I.href,version:"1",chainId:z,nonce:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=A==null?void 0:A.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=A==null?void 0:A.signInWithEthereum)===null||b===void 0?void 0:b.resources};_=A2(te),v=await T.request({method:"personal_sign",params:[C2(_),J]})}try{const{data:E,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:v},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=s.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:na});if(y)throw y;if(!E||!E.session||!E.user){const k=new Ln;return this._returnResult({data:{user:null,session:null},error:k})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:y})}catch(E){if(ue(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(s){var i,o,c,u,h,g,m,p,b,w,j,_;let v,E;if("message"in s)v=s.message,E=s.signature;else{const{chain:y,wallet:k,statement:A,options:T}=s;let I;if(mt())if(typeof k=="object")I=k;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))I=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const L=new URL((i=T==null?void 0:T.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in I&&I.signIn){const J=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),A?{statement:A}:null));let z;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")z=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)z=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)v=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),E=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${L.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(c=(o=T==null?void 0:T.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((w=(b=T==null?void 0:T.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...T.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const J=await I.signMessage(new TextEncoder().encode(v),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=J}}try{const{data:y,error:k}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Fs(E)},!((j=s.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(_=s.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:na});if(k)throw k;if(!y||!y.session||!y.user){const A=new Ln;return this._returnResult({data:{user:null,session:null},error:A})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:k})}catch(y){if(ue(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(s){const i=await Hs(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(i??"").split("/");try{const{data:u,error:h}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:o},xform:na});if(await ms(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const g=new Ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(ue(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(s){try{const{options:i,provider:o,token:c,access_token:u,nonce:h}=s,g=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:na}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const b=new Ln;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(s){var i,o,c,u,h;try{if("email"in s){const{email:g,options:m}=s;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Bn(this.storage,this.storageKey));const{error:w}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in s){const{phone:g,options:m}=s,{data:p,error:b}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new Gl("You must provide either an email or phone number.")}catch(g){if(ue(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(s){var i,o;try{let c,u;"options"in s&&(c=(i=s.options)===null||i===void 0?void 0:i.redirectTo,u=(o=s.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:g}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:na});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,p=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(s){var i,o,c;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Bn(this.storage,this.storageKey));const g=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(o=(i=s.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=s==null?void 0:s.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:y2});return this._returnResult(g)}catch(u){if(ue(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;if(o)throw o;if(!i)throw new sa;const{error:c}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const i=`${this.url}/resend`;if("email"in s){const{email:o,type:c,options:u}=s,{error:h}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in s){const{phone:o,type:c,options:u}=s,{data:h,error:g}=await pe(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new Gl("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(s,i){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await s(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const i=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?s=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const o=s.expires_at?s.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",s.expires_at),!o){if(this.userStorage){const h=await Hs(this.userStorage,this.storageKey+"-user");h!=null&&h.user?s.user=h.user:s.user=Xu()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};s.user=p2(s.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:bs}):await this._useSession(async i=>{var o,c,u;const{data:h,error:g}=i;if(g)throw g;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:bs})})}catch(i){if(ue(i))return Qj(i)&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(s,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,i))}async _updateUser(s,i={}){try{return await this._useSession(async o=>{const{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new sa;const h=c.session;let g=null,m=null;this.flowType==="pkce"&&s.email!=null&&([g,m]=await Bn(this.storage,this.storageKey));const{data:p,error:b}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:bs});if(b)throw b;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(ue(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new sa;const i=Date.now()/1e3;let o=i,c=!0,u=null;const{payload:h}=Ju(s.access_token);if(h.exp&&(o=h.exp,c=o<=i),c){const{data:g,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:m}=await this._getUser(s.access_token);if(m)throw m;u={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async i=>{var o;if(!s){const{data:h,error:g}=i;if(g)throw g;s=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(s!=null&&s.refresh_token))throw new sa;const{data:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(s,i){try{if(!mt())throw new Yl("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Yl(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Np("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Np("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(s.code);if(T)throw T;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:g,expires_at:m,token_type:p}=s;if(!u||!g||!h||!p)throw new Yl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(g);let j=b+w;m&&(j=parseInt(m));const _=j-b;_*1e3<=Pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const v=j-w;b-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,j,b):b-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,j,b);const{data:E,error:y}=await this._getUser(u);if(y)throw y;const k={provider_token:o,provider_refresh_token:c,access_token:u,expires_in:w,expires_at:j,refresh_token:h,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:s.type},error:null})}catch(o){if(ue(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const i=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&i)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:c,error:u}=i;if(u)return this._returnResult({error:u});const h=(o=c.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:g}=await this.admin.signOut(h,s);if(g&&!(Kj(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return s!=="others"&&(await this._removeSession(),await ms(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const i=a2(),o={id:i,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(s){return await this._useSession(async i=>{var o,c;try{const{data:{session:u},error:h}=i;if(h)throw h;await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",s,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",u),console.error(u)}})}async resetPasswordForEmail(s,i={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Bn(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(ue(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var s;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(s=i.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var i;try{const{data:o,error:c}=await this._useSession(async u=>{var h,g,m,p,b;const{data:w,error:j}=u;if(j)throw j;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",_,{headers:this.headers,jwt:(b=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return mt()&&!(!((i=s.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:s.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ue(o))return this._returnResult({data:{provider:s.provider,url:null},error:o});throw o}}async linkIdentityIdToken(s){return await this._useSession(async i=>{var o;try{const{error:c,data:{session:u}}=i;if(c)throw c;const{options:h,provider:g,token:m,access_token:p,nonce:b}=s,w=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:m,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:na}),{data:j,error:_}=w;return _?this._returnResult({data:{user:null,session:null},error:_}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Ln}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:_}))}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(s){try{return await this._useSession(async i=>{var o,c;const{data:u,error:h}=i;if(h)throw h;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(s){const i=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await i2(async c=>(c>0&&await r2(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:na})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Fu(u)&&Date.now()+h-o<Pn})}catch(o){if(this._debug(i,"error",o),ue(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",i,"url",o),mt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:s,url:o},error:null}}async _recoverAndRefresh(){var s,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await Hs(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Hn(this.userStorage,this.storageKey+"-user",h)),c.user=(s=h==null?void 0:h.user)!==null&&s!==void 0?s:Xu()}else if(c&&!c.user&&!c.user){const h=await Hs(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await ms(this.storage,this.storageKey+"-user"),await Hn(this.storage,this.storageKey,c)):c.user=Xu()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const u=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Qu;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Qu}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Fu(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(s){var i,o;if(!s)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new wo;const{data:u,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!u.session)throw new sa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={data:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(c,"error",u),ue(u)){const h={data:null,error:u};return Fu(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,i,o=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:s,session:i});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,i)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const i=Object.assign({},s),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Hn(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const u=Cp(c);await Hn(this.storage,this.storageKey,u)}else{const c=Cp(i);await Hn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ms(this.storage,this.storageKey),await ms(this.storage,this.storageKey+"-code-verifier"),await ms(this.storage,this.storageKey+"-user"),this.userStorage&&await ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Pn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-s)/Pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Pn}ms, refresh threshold is ${md} ticks`),c<=md&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof gb)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const i=`#_onVisibilityChanged(${s})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,i,o){const c=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await Bn(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);c.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async i=>{var o;const{data:c,error:u}=i;return u?this._returnResult({data:null,error:u}):await pe(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(s){try{return await this._useSession(async i=>{var o,c;const{data:u,error:h}=i;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:m,error:p}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(s.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:c,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?L2(s.webauthn.credential_response):B2(s.webauthn.credential_response)})}:{code:s.code}),{data:g,error:m}=await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:c,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:M2(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:U2(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(s){const{data:i,error:o}=await this._challenge({factorId:s.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:s.factorId,challengeId:i.id,code:s.code})}async _listFactors(){var s;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(s=i==null?void 0:i.factors)!==null&&s!==void 0?s:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var s,i;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ju(o.access_token);let h=null;u.aal&&(h=u.aal);let g=h;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const p=u.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;return c?this._returnResult({data:null,error:c}):o?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new sa})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(s,i){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new sa});const h=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&mt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(s,i){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new sa});const h=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&mt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(s,i={keys:[]}){let o=i.keys.find(g=>g.kid===s);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(g=>g.kid===s),o&&this.jwks_cached_at+Gj>c)return o;const{data:u,error:h}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,o=u.keys.find(g=>g.kid===s),!o)?null:o}async getClaims(s,i={}){try{let o=s;if(!o){const{data:_,error:v}=await this.getSession();if(v||!_.session)return this._returnResult({data:null,error:v});o=_.session.access_token}const{header:c,payload:u,signature:h,raw:{header:g,payload:m}}=Ju(o);i!=null&&i.allowExpired||f2(u.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:_}=await this.getUser(o);if(_)throw _;return{data:{claims:u,header:c,signature:h},error:null}}const b=m2(c.alg),w=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,h,e2(`${g}.${m}`)))throw new xd("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}}ui.nextInstanceID={};const Y2=ui;class K2 extends Y2{constructor(s){super(s)}}class Q2{constructor(s,i,o){var c,u,h;this.supabaseUrl=s,this.supabaseKey=i;const g=Ij(s);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,p={db:Oj,realtime:Mj,auth:Object.assign(Object.assign({},Dj),{storageKey:m}),global:Rj},b=qj(o??{},p);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=Bj(i,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new $w(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Cj(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Bw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,i={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,i,o)}channel(s,i={config:{}}){return this.realtime.channel(s,i)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s,i;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:i,detectSessionInUrl:o,storage:c,userStorage:u,storageKey:h,flowType:g,lock:m,debug:p,throwOnError:b},w,j){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K2({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),w),storageKey:h,autoRefreshToken:s,persistSession:i,detectSessionInUrl:o,storage:c,userStorage:u,flowType:g,lock:m,debug:p,throwOnError:b,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new nj(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(s,i,o){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F2=(r,s,i)=>new Q2(r,s,i);function J2(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}J2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hd=void 0,X2=void 0;console.log("[Supabase config]",{supabaseUrl:JSON.stringify(Hd),anonKeyLength:0});console.error(" Missing Supabase env vars",{supabaseUrl:Hd,supabaseAnonKeyPresent:!1});const ve=F2(Hd,X2),W2=["Bronze","Silver","Gold","Founding Member","Platinum"],Z2=r=>r!=null&&W2.includes(r),eN=r=>{if(!r)return;const s=new Date(r);if(!Number.isNaN(s.getTime()))return s.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},tN=(r,s)=>{var h,g,m,p,b,w;if(!s.membership_tier&&!s.next_billing_date)return r;const i=Z2(s.membership_tier)?s.membership_tier:((h=r.plan)==null?void 0:h.name)??r.package,o=eN(s.next_billing_date)??((g=r.plan)==null?void 0:g.renewalDate)??((p=(m=r.billing)==null?void 0:m.subscription)==null?void 0:p.renewalDate),c=r.plan?{...r.plan,name:i,renewalDate:o??r.plan.renewalDate}:{name:i,billingCycle:"Billed monthly",price:((b=r.plan)==null?void 0:b.price)??"$0/month",renewalDate:o??"",rating:((w=r.plan)==null?void 0:w.rating)??"A+"},u=r.billing?{...r.billing,subscription:{...r.billing.subscription,planName:i,renewalDate:o??r.billing.subscription.renewalDate}}:r.billing;return{...r,package:i,plan:c,billing:u}},aN=()=>{if(!(typeof window>"u"))return window.location.origin},bb=S.createContext(void 0),sN=[{title:"SEO Blog Posts",description:"Professionally written articles to boost your site's search engine ranking.",icon:"NewspaperIcon",quota:2,used:1},{title:"Quarterly Website Review",description:"Our experts will review your site for SEO and conversion improvements.",icon:"ChartBarIcon",nextDate:"August 15, 2024"},{title:"Trust Badge & Network Listing",description:"Display your verified status and get listed in our trusted network.",icon:"ShieldCheckIcon",status:"Active"},{title:"Priority Support",description:"Get faster response times from our dedicated member support team.",icon:"ChatBubbleOvalLeftEllipsisIcon",isIncluded:!0}],Zu=(r,s,i)=>{var h;const o=r.user.email??"",c=((h=r.user.user_metadata)==null?void 0:h.full_name)||o||"Member",u=i&&i.email===o?i:null;return{id:(u==null?void 0:u.id)??Date.now(),name:c,email:o,role:s,package:(u==null?void 0:u.package)??"Gold",profile:(u==null?void 0:u.profile)??{contactNumber:"",address:"",description:"",dbaName:"",yearsInBusiness:void 0,websiteUrl:"",logoUrl:"",serviceAreas:[],specialties:[],socialLinks:{}},usage:(u==null?void 0:u.usage)??{blogPostsUsed:1,blogPostsTotal:2},plan:(u==null?void 0:u.plan)??{name:"Gold",billingCycle:"Billed annually",price:"$229/month",renewalDate:"Mar 15, 2025",rating:"A+"},benefits:(u==null?void 0:u.benefits)??sN.map(g=>({...g})),billing:(u==null?void 0:u.billing)??{subscription:{planName:"Gold",price:"$229 / month",billingCycle:"Monthly",status:"Active",renewalDate:"Mar 15, 2025",startedAt:"Oct 1, 2024"},paymentMethod:{brand:"Visa",last4:"4242",expiry:"04 / 27",cardholder:c},invoices:[]},account:(u==null?void 0:u.account)??{ownerName:c,ownerEmail:o,role:s==="admin"?"Administrator":"Owner",companyName:""},notifications:(u==null?void 0:u.notifications)??{documentStatus:!0,verificationStatus:!0,requestUpdates:!0,benefitDelivery:!0,billingUpdates:!0,communityUpdates:!0,emailFrequency:"real-time"}}},tt=()=>{const r=S.useContext(bb);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},nN=({children:r})=>{const[s,i]=S.useState({session:null,user:null,isAdmin:!1,loading:!0}),[o,c]=S.useState(null),{session:u,user:h,isAdmin:g,loading:m}=s;S.useEffect(()=>{let v=!0;(async()=>{const{data:k,error:A}=await ve.auth.getSession();if(v){if(A){console.error("Failed to fetch Supabase session",A),i({session:null,user:null,isAdmin:!1,loading:!1});return}i(T=>{var I;return{...T,session:k.session??null,user:((I=k.session)==null?void 0:I.user)??null,loading:!!k.session}})}})().catch(k=>{v&&(console.error("Unexpected Supabase session error",k),i({session:null,user:null,isAdmin:!1,loading:!1}))});const{data:y}=ve.auth.onAuthStateChange((k,A)=>{v&&i({session:A??null,user:(A==null?void 0:A.user)??null,isAdmin:!1,loading:A!==null})});return()=>{v=!1,y.subscription.unsubscribe()}},[]),S.useEffect(()=>{if(!u||!h){c(null),i(y=>({...y,isAdmin:!1,loading:!1}));return}let v=!0;return i(y=>({...y,loading:!0})),(async()=>{try{const{data:y,error:k}=await ve.from("admin_profiles").select("id").eq("id",h.id).eq("is_active",!0).maybeSingle();if(!v)return;k&&k.code!=="PGRST116"&&console.error("Failed to determine admin status",k);const A=!!y;let T=null;const{data:I,error:L}=await ve.from("profiles").select("membership_tier, next_billing_date").eq("id",h.id).maybeSingle();if(!v)return;L&&L.code!=="PGRST116"?console.error("Failed to load profile membership data",L):I&&(T=I),i(J=>({...J,isAdmin:A,loading:!1})),c(J=>{const z=Zu(u,A?"admin":"member",J);return T?tN(z,T):z})}catch(y){if(!v)return;console.error("Unexpected error determining admin status",y),i(k=>({...k,isAdmin:!1,loading:!1})),c(k=>Zu(u,"member",k))}})().catch(y=>{v&&(console.error("Unexpected admin status resolution error",y),i(k=>({...k,isAdmin:!1,loading:!1})),c(k=>Zu(u,"member",k)))}),()=>{v=!1}},[u,h]);const p=S.useCallback(async v=>{const E=aN(),{error:y}=await ve.auth.signInWithOtp({email:v,options:{shouldCreateUser:!1,emailRedirectTo:E||`${window.location.origin}/member`}});if(y)throw new Error("We couldn't find a member with that email. Please use the email you joined with.")},[]),b=S.useCallback(async(v,E)=>{try{const{data:y,error:k}=await ve.auth.signInWithPassword({email:v,password:E});if(k||!y.user)return{success:!1,error:"Invalid email or password"};const{data:A,error:T}=await ve.from("admin_profiles").select("id, role, is_active").eq("id",y.user.id).eq("is_active",!0).maybeSingle();return T&&T.code!=="PGRST116"?(await ve.auth.signOut(),{success:!1,error:"Access verification failed"}):A?{success:!0}:(await ve.auth.signOut(),{success:!1,error:"Access denied. You do not have admin privileges."})}catch(y){return console.error("Admin login error:",y),{success:!1,error:"An unexpected error occurred"}}},[]),w=S.useCallback(async()=>{const{error:v}=await ve.auth.signOut();v&&console.error("Failed to sign out from Supabase",v),i({session:null,user:null,isAdmin:!1,loading:!1}),c(null)},[]),j=S.useCallback(v=>{c(v)},[]),_=S.useMemo(()=>({session:u,user:h,isAdmin:g,loading:m,isLoading:m,currentUser:o,login:p,adminLogin:b,logout:w,updateUser:j}),[u,h,g,m,o,p,b,w,j]);return a.jsx(bb.Provider,{value:_,children:r})},Up=({isOpen:r,onClose:s,onSubmit:i,title:o,message:c,confirmButtonText:u="Confirm",confirmButtonClass:h="bg-error text-white hover:bg-red-600"})=>r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray hover:text-charcoal",children:a.jsx(gt,{className:"w-7 h-7"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h2",{className:"font-sora text-2xl font-bold text-charcoal",children:o}),a.jsx("p",{className:"text-gray mt-2",children:c})]}),a.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[a.jsx("button",{onClick:s,className:"py-2.5 px-6 bg-gray-light text-charcoal font-semibold rounded-lg shadow-sm border border-gray-border hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:i,className:`py-2.5 px-6 font-bold rounded-lg shadow-lg transition-colors ${h}`,children:u})]})]})}):null,gs={totalMembers:128,activeMembers:112,pendingVerifications:9,openRequests:14,mrr:12450,monthlyChurnRate:2.3},rN=[{id:5,businessName:"All-State Clean Up",tier:"Founding Member",badgeRating:"B+",issue:"Docs missing"},{id:12,businessName:"Evergreen Environmental",tier:"Silver",badgeRating:"A",issue:"Past due"},{id:23,businessName:"Coastal Recovery Inc.",tier:"Gold",badgeRating:"A+",issue:"High churn risk"},{id:8,businessName:"Pioneer Restoration",tier:"Bronze",badgeRating:"A",issue:"Docs missing"},{id:15,businessName:"Metro Damage Control",tier:"Silver",badgeRating:"A+",issue:"Past due"}],iN=[{id:"REQ-1023",date:"Jul 28",businessName:"Acme Restoration",requestType:"Badge support",status:"Open",assignedTo:"Admin"},{id:"REQ-1024",date:"Jul 27",businessName:"Summit Clean & Dry",requestType:"SEO post",status:"In progress",assignedTo:"C. Team"},{id:"REQ-1025",date:"Jul 27",businessName:"Pioneer Restoration",requestType:"Spotlight article",status:"Open",assignedTo:"Unassigned"},{id:"REQ-1026",date:"Jul 26",businessName:"Metro Damage Control",requestType:"SEO post",status:"In progress",assignedTo:"C. Team"},{id:"REQ-1027",date:"Jul 25",businessName:"Coastal Recovery Inc.",requestType:"Badge support",status:"Open",assignedTo:"Admin"}],bd=[{id:"mem_001",businessName:"Acme Restoration",city:"Dallas, TX",email:"owner@acmerestoration.com",tier:"Gold",rating:"A+",status:"Active",renewalDate:"2025-03-15",joinDate:"2024-01-10",mrr:497,pendingDocs:0,openRequests:2,documents:[{name:"Contractor License",status:"Approved"},{name:"Liability Insurance",status:"Approved"}],activityLog:[{event:'Request "Badge Support" created',date:"2024-07-28"},{event:"Plan changed to Gold",date:"2024-03-15"}],billingInfo:{stripeId:"cus_abc123",lastPayment:"2024-07-15",plan:"Gold Monthly"},stats:{profileViews:132,badgeClicks:24},badge:{status:"ACTIVE",badgeLabel:"Gold  A+",imageLightUrl:"https://example.com/acme-gold-a-plus-light.svg",imageDarkUrl:"https://example.com/acme-gold-a-plus-dark.svg",profileUrl:"https://restorationexpertise.com/profile/acme-restoration"}},{id:"mem_002",businessName:"Summit Clean & Dry",city:"Denver, CO",email:"contact@summitclean.com",tier:"Silver",rating:"A",status:"Active",renewalDate:"2025-08-20",joinDate:"2024-02-20",mrr:229,pendingDocs:0,openRequests:1,documents:[{name:"Contractor License",status:"Approved"},{name:"Liability Insurance",status:"Approved"}],activityLog:[{event:'Request "SEO Post" created',date:"2024-07-27"},{event:"Initial verification approved",date:"2024-02-22"}],billingInfo:{stripeId:"cus_def456",lastPayment:"2024-07-20",plan:"Silver Monthly"},stats:{profileViews:88,badgeClicks:12},badge:{status:"ACTIVE",badgeLabel:"Silver  A",imageLightUrl:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertise_badge_3d_layingtra_shadow.webp",profileUrl:"https://restorationexpertise.com/profile/summit-clean-and-dry"}},{id:"mem_003",businessName:"Coastal Recovery Inc.",city:"Miami, FL",email:"dispatch@coastalrecovery.net",tier:"Gold",rating:"A+",status:"Suspended",renewalDate:"2025-06-01",joinDate:"2023-06-01",mrr:497,pendingDocs:1,openRequests:0,documents:[{name:"Contractor License",status:"Approved"},{name:"Liability Insurance",status:"Rejected"}],activityLog:[{event:"Account suspended due to failed payment.",date:"2024-07-25"}],billingInfo:{stripeId:"cus_ghi789",lastPayment:"2024-06-01",plan:"Gold Monthly"},stats:{profileViews:250,badgeClicks:45},badge:{status:"REVOKED",badgeLabel:"Gold  A+",imageLightUrl:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertise_badge_3d_layingtra_shadow.webp",profileUrl:"https://restorationexpertise.com/profile/coastal-recovery-inc"}},{id:"mem_004",businessName:"Pioneer Restoration",city:"Austin, TX",email:"info@pioneertx.com",tier:"Bronze",rating:"B+",status:"Active",renewalDate:"2025-09-12",joinDate:"2024-03-12",mrr:159,pendingDocs:0,openRequests:0,documents:[{name:"Contractor License",status:"Approved"},{name:"Liability Insurance",status:"Approved"}],activityLog:[{event:"Profile updated",date:"2024-06-15"}],billingInfo:{stripeId:"cus_jkl012",lastPayment:"2024-07-12",plan:"Bronze Monthly"},stats:{profileViews:45,badgeClicks:5}},{id:"mem_005",businessName:"Evergreen Environmental",city:"Seattle, WA",email:"support@evergreenenv.com",tier:"Founding Member",rating:"A+",status:"Pending",renewalDate:"2025-01-30",joinDate:"2024-07-28",mrr:199,pendingDocs:2,openRequests:0,documents:[{name:"Contractor License",status:"Pending"},{name:"Liability Insurance",status:"Pending"}],activityLog:[{event:"Account created",date:"2024-07-28"}],billingInfo:{stripeId:"cus_mno345",lastPayment:"2024-07-28",plan:"Founding Monthly"},stats:{profileViews:0,badgeClicks:0},badge:{status:"PENDING",badgeLabel:"Founding Member  A+",imageLightUrl:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertise_badge_3d_layingtra_shadow.webp",profileUrl:"https://restorationexpertise.com/profile/evergreen-environmental"}},{id:"mem_006",businessName:"Midwest Damage Repair",city:"Chicago, IL",email:"claims@midwestdr.com",tier:"Silver",rating:"A",status:"Canceled",renewalDate:"2024-07-31",joinDate:"2023-08-01",mrr:0,pendingDocs:0,openRequests:0,documents:[{name:"Contractor License",status:"Approved"},{name:"Liability Insurance",status:"Approved"}],activityLog:[{event:"Subscription canceled by user",date:"2024-07-10"}],billingInfo:{stripeId:"cus_pqr678",lastPayment:"2024-06-30",plan:"Silver Monthly"},stats:{profileViews:60,badgeClicks:8}}],vd=new Date;vd.setDate(vd.getDate()+29);const yd=new Date;yd.setDate(yd.getDate()-60);vd.toISOString().split("T")[0],yd.toISOString().split("T")[0];const ys=new Date,io=new Date(ys);io.setDate(io.getDate()-1);const wd=new Date(ys);wd.setDate(wd.getDate()-5);const lo=new Date(ys);lo.setDate(lo.getDate()+7);const jd=new Date(ys);jd.setDate(jd.getDate()+14);lo.toISOString().split("T")[0],io.toISOString().split("T")[0],lo.toISOString().split("T")[0],`${io.toISOString().split("T")[0]}`,ys.toISOString().split("T")[0],jd.toISOString().split("T")[0],`${ys.toISOString().split("T")[0]}`,wd.toISOString().split("T")[0];const lN=ys.getMonth(),oN=ys.getFullYear();Math.round(2500/12),new Date(oN,lN,2).toISOString().split("T")[0];const cN=[{id:"admin_001",name:"Max Bauer",email:"max@restorationexpertise.com",role:"Superadmin",status:"Active",lastLogin:"2025-02-20 14:32"},{id:"admin_002",name:"Sarah Lee",email:"sarah@restorationexpertise.com",role:"Support",status:"Active",lastLogin:"2025-02-19 09:12"},{id:"admin_003",name:"Alex King",email:"alex@restorationexpertise.com",role:"Content",status:"Suspended",lastLogin:"2025-01-31 17:45"}],uN=[{id:1,title:"Get your legal basics in place",level:"Foundation",chapter:"Business Setup",status:"completed",effort:"Deep work",details:{why:"Ensures your business is compliant from day one, protecting you from legal risks.",checklist:[{text:"Register business name"},{text:"Apply for EIN"},{text:"Open a business bank account"}]}},{id:2,title:"Define your service area",level:"Foundation",chapter:"Business Setup",status:"in_progress",effort:"Quick win",details:{why:"Focuses your marketing efforts and operational logistics, preventing overextension.",checklist:[{text:"Map primary 30-mile radius"},{text:"List target zip codes"}]}},{id:3,title:"Set up core software stack",level:"Foundation",chapter:"Operations",status:"completed",effort:"Deep work",details:{why:"The right software streamlines everything from job management to billing, saving you time and reducing errors.",checklist:[{text:"Choose a CRM"},{text:"Set up accounting software (e.g., QuickBooks)"},{text:"Establish file sharing (e.g., Google Drive)"}]}},{id:4,title:"Create initial pricing structure",level:"Foundation",chapter:"Finance",status:"not_started",effort:"Deep work",details:{why:"Clear pricing ensures profitability and simplifies the quoting process for your team and customers.",checklist:[{text:"Research competitor rates"},{text:"Create a price book for common services"}]}},{id:5,title:"Establish your brand identity",level:"Foundation",chapter:"Marketing",status:"completed",effort:"Quick win",details:{why:"A strong brand builds recognition and trust with potential customers.",checklist:[{text:"Design a professional logo"},{text:"Define brand colors and fonts"}]}},{id:6,title:"Launch your professional website",level:"Acceleration",chapter:"Marketing",status:"in_progress",effort:"Deep work",details:{why:"Your website is your digital storefront. It's often the first impression a customer has of your business.",checklist:[{text:"Buy a domain name"},{text:"Build essential pages (Home, About, Services, Contact)"},{text:"Ensure it is mobile-friendly"}]}},{id:7,title:"Optimize your Google Business Profile",level:"Acceleration",chapter:"Marketing",status:"not_started",effort:"Quick win",details:{why:"This is the most important tool for local SEO, driving phone calls and website visits from nearby customers.",checklist:[{text:"Fill out all sections completely"},{text:"Add high-quality photos"},{text:"Get your first 5 reviews"}]}},{id:8,title:"Implement a customer review system",level:"Acceleration",chapter:"Marketing",status:"not_started",effort:"Quick win",details:{why:"Consistent, positive reviews build social proof and are a major factor in customer decision-making.",checklist:[{text:"Choose a review request tool"},{text:"Create an email/SMS template"}]}},{id:9,title:"Start your first local SEO campaign",level:"Acceleration",chapter:"Marketing",status:"not_started",effort:"Deep work",details:{why:"SEO is a long-term investment that generates high-quality leads for free once it's established.",checklist:[{text:"Identify 10 primary keywords"},{text:"Optimize website service pages"}]}},{id:10,title:"Hire your first technician",level:"Acceleration",chapter:"Team",status:"not_started",effort:"Deep work",details:{why:"Hiring allows you to scale your operations and step away from doing all the hands-on work yourself.",checklist:[{text:"Write a detailed job description"},{text:"Post on relevant job boards"},{text:"Develop an onboarding plan"}]}},{id:11,title:"Develop a franchise model",level:"Empire & Legacy",chapter:"Scaling",status:"not_started",effort:"Deep work",details:{why:"Franchising allows for rapid expansion using other people's capital and management.",checklist:[{text:"Create a Franchise Disclosure Document (FDD)"},{text:"Systemize all operations into a playbook"}]}},{id:12,title:"Build a leadership team",level:"Empire & Legacy",chapter:"Team",status:"not_started",effort:"Deep work",details:{why:"A strong leadership team enables you to work ON the business, not IN it.",checklist:[{text:"Define key roles (Ops Manager, Sales Manager)"},{text:"Create a compensation and incentive plan"}]}},{id:13,title:"Expand to a second location",level:"Empire & Legacy",chapter:"Scaling",status:"not_started",effort:"Deep work",details:{why:"Expansion into new markets is a direct path to significant revenue growth.",checklist:[{text:"Conduct market research on a new territory"},{text:"Develop a launch plan and budget"}]}}];new Date(Date.now()-2880*60*1e3).toISOString(),new Date(Date.now()-7200*60*1e3).toISOString(),new Date(Date.now()-3600*1e3).toISOString();const dN=(r=1024)=>{const[s,i]=S.useState(window.innerWidth<r);return S.useEffect(()=>{const o=()=>{i(window.innerWidth<r)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r]),s},oo=({children:r,className:s="",onClick:i})=>a.jsx("div",{onClick:i,className:`bg-[var(--bg-card)] p-6 rounded-2xl shadow-lg border border-[var(--border-subtle)] ${s} ${i?"cursor-pointer transition-transform duration-200 hover:-translatey-1":""}`,children:r}),Lp=99,Bp=({completedCount:r})=>{const s=Math.round(r/Lp*100),[i,o]=S.useState(0);S.useEffect(()=>{const u=setTimeout(()=>o(s),100);return()=>clearTimeout(u)},[s]);const c=()=>s===100?"Blueprint Master":s>=75?"Restoration Leader":s>=50?"Trusted Operator":s>=25?"Emerging Pro":"Getting Organized";return a.jsxs(oo,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:"Your Progress"}),a.jsxs("p",{className:"text-lg text-[var(--text-main)]",children:[a.jsxs("span",{className:"font-bold",children:[r," of ",Lp]})," steps completed  ",s,"%"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-muted)]",children:"Mastery Level"}),a.jsx("p",{className:"font-bold text-lg text-[var(--accent-dark)]",children:c()})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-4",children:a.jsx("div",{className:"bg-[var(--accent)] h-4 rounded-full transition-all duration-1000 ease-out",style:{width:`${i}%`}})}),a.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:a.jsxs("p",{children:["This week: ",a.jsx("span",{className:"font-bold",children:"3"})," steps completed (demo)"]})})]})},zp=({groupedSteps:r,steps:s,selectedStepId:i,onSelectStep:o})=>{const[c,u]=S.useState({Foundation:!0}),h=p=>{u(b=>({...b,[p]:!b[p]}))},g={not_started:"bg-gray-200 text-gray-dark",in_progress:"bg-info/20 text-blue-800",completed:"bg-success/20 text-green-800"},m={"Quick win":"border-gold text-gold-dark","Deep work":"border-charcoal text-charcoal"};return a.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([p,b])=>{const w=s.filter(v=>v.level===p),j=w.filter(v=>v.status==="completed").length,_=w.length>0?j/w.length*100:0;return a.jsxs(oo,{className:"p-0 overflow-hidden",children:[a.jsxs("button",{onClick:()=>h(p),className:"w-full p-4 flex justify-between items-center text-left",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:p}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:[j," of ",w.length," steps completed"]})]}),a.jsx(Js,{className:`w-6 h-6 text-[var(--text-muted)] transition-transform ${c[p]?"rotate-180":""}`})]}),c[p]&&a.jsxs("div",{className:"px-4 pb-4 animate-fade-in",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-4",children:a.jsx("div",{className:"bg-[var(--accent)] h-1.5 rounded-full",style:{width:`${_}%`}})}),Object.entries(b).map(([v,E])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-bold text-sm uppercase text-[var(--text-muted)] tracking-wider pb-1 mb-2 border-b border-[var(--border-subtle)]",children:v}),a.jsx("div",{className:"space-y-2",children:E.map(y=>a.jsxs("div",{onClick:()=>o(y.id),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 flex items-start gap-3 ${i===y.id?"bg-[var(--accent-bg-subtle)] shadow-inner":"hover:bg-[var(--bg-subtle)]"}`,children:[a.jsx("div",{className:`w-6 h-6 rounded-full shrink-0 flex items-center justify-center font-bold text-xs mt-0.5 ${y.status==="completed"?"bg-[var(--accent)] text-[var(--accent-text)]":"bg-gray-200 text-gray-dark"}`,children:y.status==="completed"?a.jsx(ii,{className:"w-4 h-4"}):y.id}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-[var(--text-main)] leading-tight",children:y.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded-full ${g[y.status]}`,children:y.status.replace("_"," ")}),a.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded-full border ${m[y.effort]}`,children:y.effort})]})]})]},y.id))})]},v))]})]},p)})})},qp=({step:r,onUpdateStep:s})=>{const[i,o]=S.useState(""),[c,u]=S.useState({});if(S.useEffect(()=>{if(r){o("");const g=r.details.checklist.reduce((m,p)=>({...m,[p.text]:!1}),{});u(g)}},[r]),!r)return a.jsx(oo,{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Dd,{className:"w-16 h-16 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-2 text-xl font-bold text-[var(--text-main)]",children:"Select a step"}),a.jsx("p",{className:"mt-1 text-[var(--text-muted)]",children:"Choose a step from the list to see details and track your progress."})]})});const h=["not_started","in_progress","completed"];return a.jsxs(oo,{children:[a.jsxs("p",{className:"text-sm font-bold text-[var(--accent-dark)]",children:[r.level," / ",r.chapter]}),a.jsxs("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)] mt-1",children:["Step ",r.id,": ",r.title]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-muted)] mb-2",children:"Set status:"}),a.jsx("div",{className:"flex bg-[var(--bg-subtle)] p-1 rounded-lg",children:h.map(g=>a.jsx("button",{onClick:()=>s(r.id,g),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${r.status===g?"bg-[var(--accent)] text-[var(--accent-text)] shadow-sm":"text-[var(--text-muted)] hover:bg-white/50"}`,children:g.replace("_"," ")},g))})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[a.jsx("h4",{className:"font-bold text-[var(--text-main)] mb-2",children:"Why this matters"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm",children:r.details.why})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[a.jsx("h4",{className:"font-bold text-[var(--text-main)] mb-2",children:"Checklist"}),a.jsx("div",{className:"space-y-2",children:r.details.checklist.map(g=>a.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-md hover:bg-[var(--bg-subtle)]",children:[a.jsx("input",{type:"checkbox",checked:c[g.text]||!1,onChange:m=>u({...c,[g.text]:m.target.checked}),className:"h-5 w-5 rounded border-gray-300 text-[var(--accent)] focus:ring-[var(--accent)]"}),a.jsx("span",{className:`text-sm ${c[g.text]?"line-through text-[var(--text-muted)]":"text-[var(--text-main)]"}`,children:g.text})]},g.text))})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[a.jsx("h4",{className:"font-bold text-[var(--text-main)] mb-2",children:"My notes for this step"}),a.jsx("textarea",{value:i,onChange:g=>o(g.target.value),rows:4,className:"w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",placeholder:"Add any personal notes, reminders, or links here..."}),a.jsx("div",{className:"text-right mt-2",children:a.jsx("button",{className:"py-2 px-4 bg-[var(--accent)] text-[var(--accent-text)] font-bold text-sm rounded-lg shadow-sm",children:"Save Note"})})]})]})},hN=({isOpen:r,onClose:s,children:i})=>(S.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[r]),r?a.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-end",role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-[var(--bg-overlay)] animate-fade-in",onClick:s}),a.jsxs("div",{className:"relative w-full bg-[var(--bg-main)] rounded-t-2xl shadow-2xl h-[85vh] flex flex-col animate-slide-up-drawer",children:[a.jsxs("div",{className:"shrink-0 p-4 border-b border-[var(--border-subtle)] bg-[var(--bg-card)] rounded-t-2xl",children:[a.jsx("div",{className:"w-12 h-1.5 bg-[var(--border-subtle)] rounded-full mx-auto mb-2"}),a.jsx("button",{onClick:s,className:"absolute top-3 right-3 p-1 text-[var(--text-muted)] hover:text-[var(--text-main)]",children:a.jsx(gt,{className:"w-7 h-7"})})]}),a.jsx("div",{className:"flex-grow overflow-y-auto p-4",children:i})]})]}):null),fN=({onNavigate:r})=>{const s=dN(),[i,o]=S.useState(uN),[c,u]=S.useState(null),h=S.useMemo(()=>i.filter(_=>_.status==="completed").length,[i]),g=S.useMemo(()=>i.reduce((_,v)=>(_[v.level]||(_[v.level]={}),_[v.level][v.chapter]||(_[v.level][v.chapter]=[]),_[v.level][v.chapter].push(v),_),{}),[i]),m=(_,v)=>{o(E=>E.map(y=>y.id===_?{...y,status:v}:y))},p=_=>{u(_)},b=()=>{u(null)},w=S.useMemo(()=>i.find(_=>_.id===c)||null,[i,c]),j=s&&c!==null;return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"99 Steps Blueprint"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Your step-by-step roadmap to building a dominant restoration business."})]}),s?a.jsxs(a.Fragment,{children:[a.jsx(zp,{groupedSteps:g,steps:i,selectedStepId:c,onSelectStep:p}),a.jsx("div",{className:"mt-8",children:a.jsx(Bp,{completedCount:h})}),a.jsx(hN,{isOpen:j,onClose:b,children:a.jsx(qp,{step:w,onUpdateStep:m})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bp,{completedCount:h}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start mt-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(zp,{groupedSteps:g,steps:i,selectedStepId:c,onSelectStep:p})}),a.jsx("div",{className:"lg:col-span-2 sticky top-8",children:a.jsx(qp,{step:w,onUpdateStep:m})})]})]})]})},vb=S.createContext(null),mN=()=>{if(typeof window<"u"){const r=window.localStorage.getItem("re_theme");if(r==="light"||r==="dark")return r;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},gN=({children:r})=>{const[s,i]=S.useState(mN);S.useEffect(()=>{document.documentElement.setAttribute("data-theme",s),localStorage.setItem("re_theme",s)},[s]);const o=S.useMemo(()=>({theme:s,setTheme:i}),[s]);return a.jsx(vb.Provider,{value:o,children:r})},pN=()=>{const r=S.useContext(vb);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},co=({variant:r})=>{const{theme:s,setTheme:i}=pN(),o=()=>{i(s==="light"?"dark":"light")};return r==="icon"?a.jsx("button",{onClick:o,className:"p-2 rounded-full text-[var(--text-muted)] hover:bg-[var(--bg-subtle)]","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?a.jsx(ip,{className:"w-5 h-5"}):a.jsx(rp,{className:"w-5 h-5"})}):r==="row"?a.jsxs("div",{className:"px-4",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] mb-2",children:"Appearance"}),a.jsxs("div",{className:"flex bg-[var(--bg-subtle)] p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>i("light"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md flex items-center justify-center gap-2 transition-colors ${s==="light"?"bg-[var(--bg-card)] text-[var(--text-main)] shadow-sm":"text-[var(--text-muted)]"}`,children:[a.jsx(rp,{className:"w-4 h-4"})," Light"]}),a.jsxs("button",{onClick:()=>i("dark"),className:`flex-1 py-1.5 text-sm font-semibold rounded-md flex items-center justify-center gap-2 transition-colors ${s==="dark"?"bg-[var(--bg-card)] text-[var(--text-main)] shadow-sm":"text-[var(--text-muted)]"}`,children:[a.jsx(ip,{className:"w-4 h-4"})," Dark"]})]})]}):null},fa=({icon:r,label:s,isActive:i,onClick:o,attention:c})=>a.jsxs("button",{onClick:o,className:`flex items-center w-full px-4 py-3 rounded-lg text-left transition-colors duration-200 relative ${i?"bg-[var(--accent-bg-subtle)] text-[var(--accent-dark)] font-bold":"text-[var(--text-muted)] hover:bg-[var(--bg-subtle)] hover:text-[var(--text-main)]"}`,children:[i&&a.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-[var(--accent)] rounded-r-full"}),a.jsx("div",{className:`ml-2 ${i?"text-[var(--accent-dark)]":""}`,children:r}),a.jsx("span",{className:"ml-3",children:s}),c&&a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-2 h-2 bg-error rounded-full animate-pulse"})]}),xe=({children:r,className:s="",onClick:i})=>a.jsx("div",{onClick:i,className:`bg-[var(--bg-card)] p-6 rounded-2xl shadow-lg border border-[var(--border-subtle)] ${s} ${i?"cursor-pointer transition-transform duration-200 hover:-translate-y-1":""}`,children:r}),xN={NewspaperIcon:xo,MagnifyingGlassIcon:er,ShieldCheckIcon:bt,ArrowDownTrayIcon:Ia,ArrowTrendingUpIcon:kw,StarIcon:bo,CreditCardIcon:Kn,CheckCircleIcon:Wt,ClockIcon:fi,ExclamationTriangleIcon:ga,ChartBarIcon:bx,ChatBubbleOvalLeftEllipsisIcon:mi,ClipboardIcon:pa,LightBulbIcon:vo,BriefcaseIcon:po,KeyIcon:Nx},Ip=r=>{if(!r)return null;if(typeof r=="object")return r;if(typeof r=="string")try{return JSON.parse(r)}catch(s){return console.warn("Failed to parse JSON payload",s),null}return null},Jn=r=>{if(!r)return null;const s=new Date(r);return Number.isNaN(s.getTime())?r:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Wl=r=>{if(!r)return null;const s=new Date(r);return Number.isNaN(s.getTime())?r:s.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})},ed=r=>{if(!r)return"Just now";const s=new Date(r);if(Number.isNaN(s.getTime()))return r;const i=Date.now()-s.getTime(),o=Math.floor(i/(1e3*60));if(o<1)return"Just now";if(o<60)return`${o} minute${o===1?"":"s"} ago`;const c=Math.floor(o/60);if(c<24)return`${c} hour${c===1?"":"s"} ago`;const u=Math.floor(c/24);return u<7?`${u} day${u===1?"":"s"} ago`:Jn(r)??r},bN=r=>{if(r==null)return null;if(typeof r=="number")return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r);const s=Number(r);return Number.isNaN(s)?r:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)},Vd=r=>{if(r==null)return null;if(typeof r=="string"){const c=Number(r);return Number.isNaN(c)?r:Vd(c)}if(r===0)return"0 B";const s=["B","KB","MB","GB"],i=Math.min(Math.floor(Math.log(r)/Math.log(1024)),s.length-1),o=r/1024**i;return`${o.toFixed(o>=10?0:1)} ${s[i]}`},$p=r=>!!(r&&typeof r=="object"&&"code"in r),Pp={business_license:"Business License",license:"Business License",liability_insurance:"Proof of Liability Insurance",insurance:"Proof of Liability Insurance",w9:"W-9 Form",other:"Supporting Document"},vN=r=>{if(!r)return"Document";const s=r.toLowerCase();return Pp[s]?Pp[s]:r.replace(/[-_]+/g," ").replace(/\b\w/g,i=>i.toUpperCase())},yN=r=>{const s=r==null?void 0:r.toLowerCase();return s?s.includes("active")||s.includes("verified")?"active":s.includes("action")||s.includes("needs")?"actionRequired":"pending":"pending"},wN=r=>{const s=r==null?void 0:r.toLowerCase();return s?s.includes("approve")||s.includes("valid")?"approved":s.includes("review")||s.includes("pending")?"underReview":s.includes("reject")||s.includes("declin")?"rejected":s.includes("replace")||s.includes("expire")||s.includes("update")?"needsReplacement":"notUploaded":"notUploaded"},yb=r=>{const s=(r==null?void 0:r.toLowerCase())??"";return s.includes("progress")?"in_progress":s.includes("complete")||s.includes("done")?"completed":s.includes("cancel")?"canceled":"open"},wb=r=>{const s=(r==null?void 0:r.toLowerCase())??"";return s.includes("high")?"high":s.includes("low")?"low":"medium"},xs={open:"Open",in_progress:"In progress",completed:"Completed",canceled:"Canceled"},uo={low:"Low",medium:"Medium",high:"High"},jN=r=>{const s=yb(r);return xs[s]},td=r=>r?xN[r]??bt:bt,ho=r=>{if(!r)return pa;const s=r.toLowerCase();return s.includes("blog")?xo:s.includes("spotlight")?bo:s.includes("review")?er:s.includes("badge")?bt:s.includes("consult")?mi:pa},NN=r=>{const s=r.uploaded_at??r.created_at??r.updated_at??null,i=r.doc_type??r.document_type??null,o=r.document_name??vN(i??void 0),c=r.file_url??null,u=r.file_name??(c?c.split("/").pop()??null:null);return{id:r.id,name:o,docType:i,docTypeLabel:o,status:wN(r.status),uploadDate:Jn(s),adminNote:r.admin_note??null,fileName:u??o,fileSize:Vd(r.file_size),uploadTimestamp:Wl(s),rawTimestamp:s,fileUrl:c,storagePath:c,createdAt:r.created_at??null,updatedAt:r.updated_at??null,statusText:r.status??null}},_N=r=>{const s=wb(r.priority);return{id:String(r.id),service:r.request_type??r.service??"Service Request",title:r.title??"Untitled Request",status:jN(r.status),createdAt:r.created_at??r.updated_at??null,priority:uo[s]}},SN=r=>({id:String(r.id),profileId:r.profile_id??"",requestType:r.request_type??r.service??"Service Request",title:r.title??"Untitled Request",description:r.description??null,priority:wb(r.priority),status:yb(r.status),adminNotes:r.admin_notes??null,assignedAdminId:r.assigned_admin_id!==null&&r.assigned_admin_id!==void 0?String(r.assigned_admin_id):null,createdAt:r.created_at??new Date().toISOString(),updatedAt:r.updated_at??null}),EN=r=>({id:String(r.id),serviceRequestId:String(r.service_request_id??""),actorUserId:r.actor_user_id??null,action:r.action??null,description:r.description??null,createdAt:r.created_at??new Date().toISOString(),actorName:r.actor_name??null}),Vn={open:"bg-gray-200 text-gray-800",in_progress:"bg-info/20 text-blue-800",completed:"bg-success/20 text-green-800",canceled:"bg-gray-200 text-gray-500"},Nd={low:"bg-gray-100 text-gray-700",medium:"bg-gray-200 text-gray-800",high:"bg-error/20 text-error"},kN=({status:r,verificationValidUntil:s,verificationRating:i,onNavigate:o})=>{const h={active:{title:"Verified Restoration Expertise Member",text:"Your badge is live and visible to homeowners.",subtext:[s?`Valid until: ${s}`:null,i?`Rating: ${i}`:null].filter(Boolean).join("  ")||null,buttonText:"View Badge",buttonAction:()=>o("badge"),Icon:Wt,color:"success"},pending:{title:"Verification in Progress",text:"We are reviewing your documents. This typically takes 1 to 3 business days.",subtext:null,buttonText:"View Documents",buttonAction:()=>o("documents"),Icon:fi,color:"warning"},actionRequired:{title:"Action required to get verified",text:"Some documents or profile details are missing.",subtext:null,buttonText:"Complete Profile",buttonAction:()=>o("profile"),Icon:ga,color:"error"}}[r],m={success:{bg:"bg-success/5",border:"border-success/20",text:"text-success",iconBg:"bg-success/10"},warning:{bg:"bg-warning/5",border:"border-warning/20",text:"text-warning",iconBg:"bg-warning/10"},error:{bg:"bg-error/5",border:"border-error/20",text:"text-error",iconBg:"bg-error/10"}}[h.color];return a.jsxs("div",{className:`p-6 rounded-2xl shadow-md border ${m.bg} ${m.border} flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-6`,children:[a.jsx("div",{className:`p-3 rounded-full ${m.iconBg} ${m.text}`,children:a.jsx(h.Icon,{className:"w-8 h-8"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h2",{className:"font-playfair text-xl sm:text-2xl font-bold text-[var(--text-main)]",children:h.title}),a.jsx("p",{className:"text-[var(--text-muted)] mt-1",children:h.text}),h.subtext&&a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:h.subtext})]}),a.jsx("button",{onClick:h.buttonAction,className:"w-full sm:w-auto mt-2 sm:mt-0 py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)] transition-transform transform hover:scale-105",children:h.buttonText})]})},Kl=({icon:r,title:s,value:i,label:o})=>a.jsxs(xe,{className:"transition-transform transform hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center text-[var(--accent-dark)] mb-2",children:[r,a.jsx("h3",{className:"ml-2 text-sm font-semibold uppercase tracking-wide text-[var(--text-muted)]",children:s})]}),a.jsx("p",{className:"font-playfair text-3xl sm:text-4xl font-bold text-[var(--text-main)]",children:i}),o&&a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:o})]}),CN=({data:r,onNavigate:s,onNewRequest:i})=>{const o=({icon:h,label:g,onClick:m})=>a.jsxs("button",{onClick:m,className:"bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg p-4 flex flex-col items-center justify-center text-center transition-colors hover:bg-[var(--accent-dark)] h-28",children:[a.jsx(h,{className:"w-8 h-8 mb-2"}),a.jsx("span",{className:"text-sm",children:g})]}),c=r??{status:"pending",verificationValidUntil:null,verificationRating:null,stats:{profileViewsValue:null,profileViewsPeriod:null,badgeClicksValue:null,badgeClicksPeriod:null,planName:null,planPrice:null,nextRenewal:null},benefits:{description:null,items:[]},activityLog:[]},u=h=>h==null?"0":typeof h=="number"?h.toLocaleString():h;return a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsx(kN,{status:c.status,verificationValidUntil:c.verificationValidUntil,verificationRating:c.verificationRating,onNavigate:s}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Kl,{icon:a.jsx(Qn,{className:"w-5 h-5"}),title:"Profile Views",value:u(c.stats.profileViewsValue),label:c.stats.profileViewsPeriod??"Last 30 days"}),a.jsx(Kl,{icon:a.jsx(go,{className:"w-5 h-5"}),title:"Badge Clicks",value:u(c.stats.badgeClicksValue),label:c.stats.badgeClicksPeriod??"Last 30 days"}),a.jsx(Kl,{icon:a.jsx(Kn,{className:"w-5 h-5"}),title:"Current Plan",value:c.stats.planName??"",label:c.stats.planPrice??""}),a.jsx(Kl,{icon:a.jsx(Aw,{className:"w-5 h-5"}),title:"Next Renewal",value:c.stats.nextRenewal??""})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs(xe,{className:"lg:col-span-2",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-1",children:"Your Benefits"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:c.benefits.description??"Your current plan gives you access to premium features to boost your online presence and credibility."}),a.jsxs("ul",{className:"space-y-4",children:[c.benefits.items.map((h,g)=>{const m=h.Icon??bt;return a.jsxs("li",{className:"flex items-center",children:[a.jsx("div",{className:"bg-[var(--accent-bg-subtle)] text-[var(--accent-dark)] p-2 rounded-full mr-4",children:a.jsx(m,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:h.name}),h.progress&&a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:h.progress})]})]},g)}),c.benefits.items.length===0&&a.jsx("li",{className:"text-[var(--text-muted)]",children:"No benefits found for your membership yet."})]}),a.jsx("div",{className:"text-right mt-6",children:a.jsx("button",{onClick:()=>s("benefits"),className:"font-semibold text-[var(--accent-dark)] hover:underline",children:"View full benefits "})})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-6",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(o,{icon:Ia,label:"Download Badge",onClick:()=>s("badge")}),a.jsx(o,{icon:ma,label:"Edit Profile",onClick:()=>s("profile")}),a.jsx(o,{icon:Kn,label:"Manage Billing",onClick:()=>s("billing")}),a.jsx(o,{icon:Cw,label:"Request Service",onClick:i})]})]})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Recent Activity"}),a.jsxs("ul",{className:"divide-y divide-[var(--border-subtle)]",children:[c.activityLog.map((h,g)=>{const m=h.Icon??pa;return a.jsxs("li",{className:"py-4 flex items-center",children:[a.jsx("div",{className:"bg-[var(--bg-subtle)] p-3 rounded-full mr-4 text-[var(--text-muted)]",children:a.jsx(m,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex-grow",children:a.jsx("p",{className:"text-[var(--text-main)]",children:h.description})}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] ml-4 text-right whitespace-nowrap",children:h.timestamp})]},g)}),c.activityLog.length===0&&a.jsx("li",{className:"py-4 text-[var(--text-muted)]",children:"No recent activity yet. Start by submitting a service request or uploading documents."})]})]})]})},AN=({onNewRequest:r,showToast:s,refreshKey:i})=>{var K;const{session:o}=tt(),[c,u]=S.useState([]),[h,g]=S.useState({}),[m,p]=S.useState(!1),[b,w]=S.useState(null),[j,_]=S.useState(""),[v,E]=S.useState("all"),[y,k]=S.useState("All"),[A,T]=S.useState(null),I=[{value:"all",label:"All statuses"},{value:"open",label:xs.open},{value:"in_progress",label:xs.in_progress},{value:"completed",label:xs.completed},{value:"canceled",label:xs.canceled}],L=S.useMemo(()=>{const H=new Set;return c.forEach(Q=>{Q.requestType&&H.add(Q.requestType)}),["All",...Array.from(H)]},[c]),J=S.useMemo(()=>c.reduce((H,Q)=>(H[Q.status]=(H[Q.status]??0)+1,H),{open:0,in_progress:0,completed:0,canceled:0}),[c]),z=S.useMemo(()=>{const H=j.trim().toLowerCase();return c.filter(Q=>{const O=H.length===0||Q.title.toLowerCase().includes(H)||Q.id.toLowerCase().includes(H),ee=v==="all"||Q.status===v,ae=y==="All"||Q.requestType===y;return O&&ee&&ae})},[c,j,v,y]),te=S.useMemo(()=>A?c.find(H=>H.id===A)??null:null,[c,A]),M=te?h[te.id]??[]:[],se=S.useCallback(async()=>{var H;if(!((H=o==null?void 0:o.user)!=null&&H.id)){u([]),g({});return}p(!0);try{const{data:Q,error:O}=await ve.from("service_requests").select("id, profile_id, request_type, service, title, description, priority, status, admin_notes, assigned_admin_id, created_at, updated_at").eq("profile_id",o.user.id).order("created_at",{ascending:!1});if(O)throw O;const ee=Q??[],ae=Array.from(new Set(ee.map(Z=>Z.assigned_admin_id).filter(Z=>Z!=null))).map(Z=>String(Z));let me=[];if(ae.length>0){const{data:Z,error:ne}=await ve.from("admin_profiles").select("id, user_id, display_name, email").in("id",ae);ne?console.error("Failed to load assigned admin details",ne):me=Z??[]}const je=new Map(me.map(Z=>[String(Z.id),Z.display_name??Z.email??String(Z.id)])),R=new Map(me.filter(Z=>!!Z.user_id).map(Z=>[Z.user_id,Z.display_name??Z.email??Z.user_id])),V=ee.map(Z=>{const ne=SN(Z);return{...ne,assignedAdminName:ne.assignedAdminId?je.get(String(ne.assignedAdminId))??null:null}});u(V);const W=ee.map(Z=>Z.id).filter(Z=>Z!=null);if(W.length>0){const{data:Z,error:ne}=await ve.from("service_request_activity").select("*").in("service_request_id",W).order("created_at",{ascending:!1});if(ne)console.error("Failed to load service request activity",ne),g({});else{const oe=Z??[],de=new Set;if(oe.forEach(Se=>{const ze=Se.actor_user_id;ze&&!R.has(ze)&&de.add(ze)}),de.size>0){const{data:Se,error:ze}=await ve.from("admin_profiles").select("user_id, display_name, email").in("user_id",Array.from(de));ze?console.error("Failed to load activity actor details",ze):(Se??[]).forEach(Ct=>{Ct.user_id&&R.set(Ct.user_id,Ct.display_name??Ct.email??Ct.user_id)})}const Ce={};oe.forEach(Se=>{const ze=EN(Se);if(!ze.actorName&&ze.actorUserId){const kt=R.get(ze.actorUserId);kt&&(ze.actorName=kt)}ze.serviceRequestId&&(Ce[ze.serviceRequestId]||(Ce[ze.serviceRequestId]=[]),Ce[ze.serviceRequestId].push(ze))}),g(Ce)}}else g({});w(null)}catch(Q){console.error("Failed to load service requests",Q),w("We were unable to load your service requests. Please try again."),u([]),g({})}finally{p(!1)}},[(K=o==null?void 0:o.user)==null?void 0:K.id]);S.useEffect(()=>{se()},[se,i]);const ce=H=>{(H==="all"||H==="open"||H==="in_progress"||H==="completed"||H==="canceled")&&E(H)},B=()=>{se()};return a.jsxs(a.Fragment,{children:[te&&a.jsx(KN,{request:te,activities:M,onClose:()=>T(null)}),a.jsxs("div",{className:"animate-fade-in space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"My Service Requests"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Track every request you have submitted and see updates from our team in one place."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[a.jsx("button",{onClick:B,className:"py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"Refresh"}),a.jsx("button",{onClick:r,className:"py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)] whitespace-nowrap",children:"New Request"})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] p-3 rounded-xl shadow-md border border-[var(--border-subtle)] flex flex-wrap items-center justify-center sm:justify-start gap-x-6 gap-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:"Open:"}),a.jsx("span",{className:`px-2.5 py-1 text-sm font-bold rounded-full ${Vn.open}`,children:J.open})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:"In Progress:"}),a.jsx("span",{className:`px-2.5 py-1 text-sm font-bold rounded-full ${Vn.in_progress}`,children:J.in_progress})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:"Completed:"}),a.jsx("span",{className:`px-2.5 py-1 text-sm font-bold rounded-full ${Vn.completed}`,children:J.completed})]})]}),a.jsxs(xe,{className:"p-4 space-y-4",children:[b&&a.jsx("div",{className:"rounded-lg border border-error/40 bg-error/10 px-4 py-3 text-sm text-error",children:b}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative md:col-span-1",children:[a.jsx(er,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--text-muted)]"}),a.jsx("input",{type:"text",placeholder:"Search by title or request ID...",value:j,onChange:H=>_(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-subtle)] focus:ring-[var(--accent)] focus:border-[var(--accent)]"})]}),a.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("select",{value:v,onChange:H=>ce(H.target.value),className:"w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-subtle)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:I.map(H=>a.jsx("option",{value:H.value,children:H.label},H.value))}),a.jsx("select",{value:y,onChange:H=>k(H.target.value),className:"w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-subtle)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:L.map(H=>a.jsx("option",{value:H,children:H},H))})]})]})]}),m&&c.length===0?a.jsx(xe,{children:a.jsxs("div",{className:"flex items-center justify-center gap-3 py-12 text-[var(--text-muted)]",children:[a.jsx("span",{className:"h-3 w-3 animate-pulse rounded-full bg-[var(--accent)]"}),"Loading your service requests..."]})}):z.length>0?a.jsxs(xe,{className:"p-0 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-[var(--bg-subtle)]",children:a.jsxs("tr",{className:"border-b border-[var(--border-subtle)]",children:[a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Created"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Request"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Status"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Priority"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Admin Notes"}),a.jsx("th",{className:"py-3 px-4 text-right text-sm font-semibold text-[var(--text-muted)]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-subtle)]",children:z.map(H=>{const Q=ho(H.requestType);return a.jsxs("tr",{className:"cursor-pointer hover:bg-[var(--bg-subtle)]",onClick:()=>T(H.id),children:[a.jsx("td",{className:"py-3 px-4 text-[var(--text-main)] whitespace-nowrap",children:Jn(H.createdAt)??""}),a.jsx("td",{className:"py-3 px-4 text-[var(--text-main)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{className:"w-5 h-5 text-[var(--text-muted)]"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:H.title}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:H.requestType})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${Vn[H.status]}`,children:xs[H.status]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${Nd[H.priority]}`,children:uo[H.priority]})}),a.jsx("td",{className:"py-3 px-4 text-sm text-[var(--text-muted)] max-w-xs truncate",children:H.adminNotes??""}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("button",{onClick:O=>{O.stopPropagation(),T(H.id)},className:"p-2 text-[var(--text-muted)] hover:text-[var(--accent-dark)]",children:a.jsx(Qn,{className:"w-5 h-5"})})})]},H.id)})})]})}),a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-subtle)]",children:z.map(H=>{const Q=ho(H.requestType);return a.jsxs("div",{className:"p-4 space-y-3",onClick:()=>T(H.id),children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--text-main)]",children:[a.jsx(Q,{className:"w-5 h-5 text-[var(--text-muted)]"}),H.requestType]}),a.jsx("p",{className:"mt-2 font-bold text-lg text-[var(--text-main)]",children:H.title})]}),a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${Vn[H.status]}`,children:xs[H.status]})]}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Jn(H.createdAt)??""}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] line-clamp-2",children:H.adminNotes??"No admin notes yet."}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-[var(--text-muted)]",children:[a.jsx("span",{className:`px-2 py-1 rounded-full ${Nd[H.priority]} font-semibold`,children:uo[H.priority]}),a.jsx("button",{className:"font-semibold text-[var(--accent-dark)] hover:underline",children:"View details "})]})]},H.id)})})]}):a.jsx(xe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(pa,{className:"w-16 h-16 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-[var(--text-main)]",children:"No requests yet"}),a.jsx("p",{className:"mt-1 text-[var(--text-muted)]",children:j||v!=="all"||y!=="All"?"Try adjusting your filters to see more results.":"Submit your first request to get help from our team."}),a.jsx("button",{onClick:r,className:"mt-6 py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Create a request"})]})})]})]})},TN=({showToast:r})=>{const{currentUser:s,updateUser:i}=tt(),o=S.useRef(null);if(!s)return null;const c=(v,E)=>{const y={...s};E&&(y.name=E),y.profile={...s.profile,...v},i(y),r("Changes saved successfully.","success")},u=S.useMemo(()=>{const v=[s.name,s.profile.contactNumber,s.profile.address,s.profile.logoUrl,s.profile.description,s.profile.yearsInBusiness,s.profile.serviceAreas,s.profile.specialties],E=v.filter(y=>Array.isArray(y)?y.length>0:!!y).length;return Math.round(E/v.length*100)},[s]),h=["Water Damage","Fire Restoration","Mold Remediation","Storm Damage","Reconstruction","Biohazard Cleanup"],g=({value:v})=>a.jsxs(xe,{className:"mb-8",children:[a.jsxs("h2",{className:"font-playfair text-xl font-bold text-[var(--text-main)] mb-2",children:["Profile Completeness: ",v,"%"]}),a.jsx("div",{className:"w-full bg-[var(--bg-subtle)] rounded-full h-2.5",children:a.jsx("div",{className:"bg-[var(--accent)] h-2.5 rounded-full",style:{width:`${v}%`}})}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:"Complete your profile to increase your visibility in our network."})]}),m=()=>{const[v,E]=S.useState(!1),[y,k]=S.useState({name:s.name,dbaName:s.profile.dbaName||"",yearsInBusiness:s.profile.yearsInBusiness||1,description:s.profile.description||""}),A=()=>{const{name:I,...L}=y;c(L,I),E(!1)},T=()=>{k({name:s.name,dbaName:s.profile.dbaName||"",yearsInBusiness:s.profile.yearsInBusiness||1,description:s.profile.description||""}),E(!1)};return a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Business Information"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"This information appears on your public profile and badge."})]}),!v&&a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg shadow-sm font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] text-sm",children:[a.jsx(ma,{className:"w-4 h-4"})," Edit"]})]}),v?a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Business Name"}),a.jsx("input",{type:"text",value:y.name,onChange:I=>k({...y,name:I.target.value}),className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"DBA / Brand Name (optional)"}),a.jsx("input",{type:"text",value:y.dbaName,onChange:I=>k({...y,dbaName:I.target.value}),className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Years in Business"}),a.jsx("input",{type:"number",value:y.yearsInBusiness,onChange:I=>k({...y,yearsInBusiness:parseInt(I.target.value)||0}),className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:I=>k({...y,description:I.target.value}),rows:4,className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[a.jsx("button",{onClick:T,className:"py-2 px-5 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{onClick:A,className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Business Name"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"DBA / Brand Name"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.profile.dbaName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Years in Business"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.profile.yearsInBusiness||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Description"}),a.jsx("p",{className:"text-[var(--text-main)] whitespace-pre-wrap",children:s.profile.description||"N/A"})]})]})]})},p=()=>{const[v,E]=S.useState(!1),[y,k]=S.useState({contactNumber:s.profile.contactNumber||"",address:s.profile.address||"",websiteUrl:s.profile.websiteUrl||""}),[A,T]=S.useState({}),I=()=>{const J={};return y.contactNumber||(J.contactNumber="Phone number is required."),y.address||(J.address="Address is required."),y.websiteUrl&&!/^https?:\/\//.test(y.websiteUrl)&&(J.websiteUrl="Please enter a valid URL (e.g., https://...)."),T(J),Object.keys(J).length===0},L=()=>{I()?(c(y),E(!1)):r("Please complete required fields.","error")};return a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Contact Details"})}),!v&&a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg shadow-sm font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] text-sm",children:[a.jsx(ma,{className:"w-4 h-4"})," Edit"]})]}),v?a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Email (read-only)"}),a.jsx("p",{className:"mt-1 block w-full p-2 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg text-[var(--text-muted)]",children:s.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Phone"}),a.jsx("input",{type:"tel",value:y.contactNumber,onChange:J=>k({...y,contactNumber:J.target.value}),className:`mt-1 block w-full p-2 border rounded-lg bg-[var(--bg-input)] ${A.contactNumber?"border-error":"border-[var(--border-subtle)]"}`}),A.contactNumber&&a.jsx("p",{className:"text-xs text-error mt-1",children:A.contactNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Address"}),a.jsx("input",{type:"text",value:y.address,onChange:J=>k({...y,address:J.target.value}),className:`mt-1 block w-full p-2 border rounded-lg bg-[var(--bg-input)] ${A.address?"border-error":"border-[var(--border-subtle)]"}`}),A.address&&a.jsx("p",{className:"text-xs text-error mt-1",children:A.address})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Website URL"}),a.jsx("input",{type:"url",value:y.websiteUrl,onChange:J=>k({...y,websiteUrl:J.target.value}),className:`mt-1 block w-full p-2 border rounded-lg bg-[var(--bg-input)] ${A.websiteUrl?"border-error":"border-[var(--border-subtle)]"}`}),A.websiteUrl&&a.jsx("p",{className:"text-xs text-error mt-1",children:A.websiteUrl})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[a.jsx("button",{onClick:()=>E(!1),className:"py-2 px-5 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{onClick:L,className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Email"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Phone"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.profile.contactNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Address"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:s.profile.address||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Website URL"}),a.jsx("p",{className:"font-semibold text-[var(--accent-dark)] hover:underline cursor-pointer",children:s.profile.websiteUrl||"N/A"})]})]})]})},b=()=>{var z,te;const[v,E]=S.useState(!1),[y,k]=S.useState({serviceAreas:s.profile.serviceAreas||[],specialties:s.profile.specialties||[]}),[A,T]=S.useState(""),I=()=>{A&&!y.serviceAreas.includes(A)&&(k(M=>({...M,serviceAreas:[...M.serviceAreas,A]})),T(""))},L=M=>{k(se=>({...se,serviceAreas:se.serviceAreas.filter(ce=>ce!==M)}))},J=M=>{k(se=>({...se,specialties:se.specialties.includes(M)?se.specialties.filter(ce=>ce!==M):[...se.specialties,M]}))};return a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Service Areas & Specialties"})}),!v&&a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg shadow-sm font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] text-sm",children:[a.jsx(ma,{className:"w-4 h-4"})," Edit"]})]}),v?a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Service Areas"}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("input",{type:"text",value:A,onChange:M=>T(M.target.value),placeholder:"e.g., Dallas",className:"flex-grow p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"}),a.jsx("button",{onClick:I,className:"py-2 px-4 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Add"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.serviceAreas.map(M=>a.jsxs("div",{className:"bg-gray-200 text-charcoal px-3 py-1 rounded-full flex items-center gap-2 text-sm",children:[M,a.jsx("button",{onClick:()=>L(M),children:a.jsx(gt,{className:"w-4 h-4"})})]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Specialties"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(M=>a.jsx("button",{onClick:()=>J(M),className:`px-4 py-2 rounded-full font-semibold transition-colors text-sm ${y.specialties.includes(M)?"bg-[var(--accent)] text-[var(--accent-text)]":"bg-gray-200 text-gray-dark"}`,children:M},M))})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[a.jsx("button",{onClick:()=>E(!1),className:"py-2 px-5 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{onClick:()=>{c(y),E(!1)},className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Service Areas"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:((z=s.profile.serviceAreas)==null?void 0:z.map(M=>a.jsx("span",{className:"bg-[var(--bg-subtle)] px-3 py-1 rounded-full text-sm font-medium",children:M},M)))||a.jsx("p",{className:"text-[var(--text-main)]",children:"N/A"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Specialties"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:((te=s.profile.specialties)==null?void 0:te.map(M=>a.jsx("span",{className:"bg-gold/20 text-gold-dark px-3 py-1 rounded-full text-sm font-bold",children:M},M)))||a.jsx("p",{className:"text-[var(--text-main)]",children:"N/A"})})]})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-4",children:"These will appear on your public profile and affect homeowner search results."})]})},w=()=>{var I,L,J,z,te;const[v,E]=S.useState(!1),[y,k]=S.useState({logoUrl:s.profile.logoUrl||"",socialLinks:s.profile.socialLinks||{}}),A=M=>{const{name:se,value:ce}=M.target;k(B=>({...B,socialLinks:{...B.socialLinks,[se]:ce}}))},T=({icon:M,name:se,value:ce})=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-dark text-sm shrink-0",children:M}),a.jsx("input",{type:"url",placeholder:"https://...",name:se,value:ce,onChange:A,className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]});return a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Branding & Social Links"})}),!v&&a.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg shadow-sm font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] text-sm",children:[a.jsx(ma,{className:"w-4 h-4"})," Edit"]})]}),v?a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:s.profile.logoUrl||"https://via.placeholder.com/150",alt:"Business Logo",className:"w-32 h-32 rounded-full object-cover mb-4 border-4 border-white shadow-md"}),a.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/png, image/jpeg"}),a.jsx("button",{onClick:()=>{var M;return(M=o.current)==null?void 0:M.click()},className:"py-2 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm",children:"Upload new logo"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Recommended: 400x400 PNG with transparent background."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(T,{icon:"G",name:"google",value:((I=y.socialLinks)==null?void 0:I.google)||""}),a.jsx(T,{icon:"f",name:"facebook",value:((L=y.socialLinks)==null?void 0:L.facebook)||""}),a.jsx(T,{icon:"ig",name:"instagram",value:((J=y.socialLinks)==null?void 0:J.instagram)||""}),a.jsx(T,{icon:"in",name:"linkedin",value:((z=y.socialLinks)==null?void 0:z.linkedin)||""}),a.jsx(T,{icon:"Y",name:"yelp",value:((te=y.socialLinks)==null?void 0:te.yelp)||""})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[a.jsx("button",{onClick:()=>E(!1),className:"py-2 px-5 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{onClick:()=>{c(y),E(!1)},className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8",children:[a.jsx("img",{src:s.profile.logoUrl||"https://via.placeholder.com/150",alt:"Business Logo",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg shrink-0"}),a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Social Links"}),Object.entries(s.profile.socialLinks||{}).map(([M,se])=>se?a.jsxs("p",{className:"text-sm truncate",children:[a.jsxs("span",{className:"font-semibold capitalize",children:[M,":"]})," ",a.jsx("a",{href:se,className:"text-[var(--accent-dark)] hover:underline",children:se})]},M):null)]})]})]})},j=()=>{var v,E,y;return a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Public Profile Preview"}),a.jsx("a",{href:"#",className:"font-semibold text-[var(--accent-dark)] hover:underline text-sm",children:"View live profile "})]}),a.jsxs("div",{className:"bg-[var(--bg-subtle)] p-6 rounded-xl border border-[var(--border-subtle)]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[a.jsx("img",{src:s.profile.logoUrl||"https://via.placeholder.com/150",alt:"Logo",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-md shrink-0"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-2xl font-bold text-[var(--text-main)]",children:s.name}),a.jsx("span",{className:"bg-success text-white px-3 py-1 text-xs font-bold rounded-full",children:((v=s.plan)==null?void 0:v.rating)??"A+"})]}),a.jsxs("p",{className:"text-[var(--text-muted)] font-medium",children:[s.profile.address,"  ",s.profile.yearsInBusiness," years in business"]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-subtle)]",children:[a.jsxs("p",{className:"font-semibold text-[var(--text-main)]",children:["Serving: ",a.jsx("span",{className:"font-normal text-[var(--text-muted)]",children:(E=s.profile.serviceAreas)==null?void 0:E.join("  ")})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(y=s.profile.specialties)==null?void 0:y.map(k=>a.jsx("span",{className:"bg-gold/20 text-gold-dark px-3 py-1 rounded-full text-xs font-bold",children:k},k))})]}),a.jsx("p",{className:"mt-4 text-[var(--text-main)]",children:s.profile.description}),a.jsxs("div",{className:"mt-6 flex items-center gap-2 text-sm font-semibold text-[var(--text-muted)]",children:[a.jsx(bt,{className:"w-5 h-5 text-success"}),"Verified by Restoration Expertise"]})]})]})},_=()=>{var ce,B,K,H;const[v,E]=S.useState("light"),[y,k]=S.useState("medium"),[A,T]=S.useState(!0),I=!!s.profile.logoUrl&&!!s.profile.address,L=()=>{r("Download will be available in the full version.","success")},J=()=>{const Q=s.name.toLowerCase().replace(/\s+/g,"-"),O=`<a href="https://restorationexpertise.com/profile/${Q}" target="_blank" rel="noopener noreferrer">
  <img src="https://restorationexpertise.com/cards/${Q}.png" alt="Restoration Expertise Verified Member - ${s.name}" />
</a>`;navigator.clipboard.writeText(O),r("Embed code copied!","success")},z=((ce=s.profile.address)==null?void 0:ce.split(",").slice(1).join(",").trim())||"",te=((B=s.profile.description)==null?void 0:B.substring(0,80))+(s.profile.description&&s.profile.description.length>80?"...":""),M={small:"scale-90",medium:"scale-100",large:"scale-110"},se=()=>a.jsx("div",{className:`w-12 h-12 p-0.5 rounded-md grid grid-cols-5 grid-rows-5 gap-px ${v==="light"?"bg-gray-200":"bg-gray-dark"}`,children:Array.from({length:25}).map((Q,O)=>a.jsx("div",{className:`${Math.random()>.5?v==="light"?"bg-charcoal":"bg-white":""}`},O))});return a.jsxs(xe,{className:"mt-8",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Public Profile Card"}),a.jsx("p",{className:"mt-1 text-[var(--text-muted)]",children:"Generate a shareable card for your website, proposals or social media."}),I?a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[a.jsx("div",{className:"flex justify-center items-center min-h-[280px]",children:a.jsx("div",{className:`origin-center transition-transform duration-300 ${M[y]}`,children:a.jsxs("div",{className:`w-[350px] h-[200px] rounded-xl shadow-2xl p-4 flex flex-col justify-between transition-colors ${v==="light"?"bg-white":"bg-charcoal-dark"}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:s.profile.logoUrl,alt:"Logo",className:"w-12 h-12 rounded-full object-cover border-2 border-white/50"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold text-lg leading-tight ${v==="light"?"text-charcoal":"text-white"}`,children:s.name}),a.jsxs("p",{className:`text-xs font-semibold ${v==="light"?"text-gold-dark":"text-gold-light"}`,children:["Verified  ",((K=s.plan)==null?void 0:K.name)??"Member","  ",((H=s.plan)==null?void 0:H.rating)??"A+"]})]})]}),A&&a.jsxs("div",{className:"text-center",children:[a.jsx(se,{}),a.jsx("p",{className:`text-[8px] mt-1 ${v==="light"?"text-gray-dark":"text-gray"}`,children:"Scans to your public profile"})]})]}),a.jsxs("div",{className:"pr-16",children:[a.jsx("p",{className:`text-sm truncate ${v==="light"?"text-gray-dark":"text-gray"}`,children:te}),a.jsx("p",{className:`text-xs font-semibold mt-1 ${v==="light"?"text-charcoal":"text-white"}`,children:z})]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[a.jsx(bt,{className:`w-4 h-4 ${v==="light"?"text-success":"text-gold"}`}),a.jsxs("p",{className:`font-semibold ${v==="light"?"text-gray-dark":"text-gray"}`,children:["Verified by ",a.jsx("span",{className:"font-bold",children:"Restoration Expertise"})]})]})]})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"space-y-4 p-4 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-card)]",children:[a.jsx("h4",{className:"font-bold text-[var(--text-main)]",children:"Options"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-muted)] mb-1",children:"Theme"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>E("light"),className:`px-3 py-1.5 rounded-md text-sm font-semibold flex-1 ${v==="light"?"bg-[var(--accent)] text-[var(--accent-text)]":"bg-[var(--bg-card)] border hover:bg-[var(--bg-subtle)]"}`,children:"Light"}),a.jsx("button",{onClick:()=>E("dark"),className:`px-3 py-1.5 rounded-md text-sm font-semibold flex-1 ${v==="dark"?"bg-[var(--accent)] text-[var(--accent-text)]":"bg-charcoal text-white border border-charcoal-light hover:bg-charcoal"}`,children:"Dark"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",htmlFor:"card-size",children:"Preview Size"}),a.jsxs("select",{id:"card-size",value:y,onChange:Q=>k(Q.target.value),className:"w-full mt-1 p-2 border border-[var(--border-subtle)] rounded-lg text-sm bg-[var(--bg-card)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:[a.jsx("option",{value:"small",children:"Small"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"large",children:"Large"})]})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-[var(--text-muted)] cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A,onChange:Q=>T(Q.target.checked),className:"h-4 w-4 rounded border-[var(--border-subtle)] text-[var(--accent)] focus:ring-[var(--accent)]"}),"Show QR code"]})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:L,className:"py-2 px-4 bg-[var(--bg-card)] text-[var(--text-main)] font-bold rounded-lg shadow-md border border-[var(--border-subtle)] hover:bg-[var(--bg-subtle)] flex items-center justify-center gap-2",children:[a.jsx(Ia,{className:"w-5 h-5"})," PNG"]}),a.jsxs("button",{onClick:L,className:"py-2 px-4 bg-[var(--bg-card)] text-[var(--text-main)] font-bold rounded-lg shadow-md border border-[var(--border-subtle)] hover:bg-[var(--bg-subtle)] flex items-center justify-center gap-2",children:[a.jsx(Ia,{className:"w-5 h-5"})," PDF"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Embed snippet"}),a.jsxs("div",{className:"relative mt-1",children:[a.jsx("pre",{className:"bg-charcoal-dark p-4 rounded-lg text-gray-light text-xs whitespace-pre-wrap overflow-x-auto",children:a.jsx("code",{children:`<a href="https://restorationexpertise.com/profile/${s.name.toLowerCase().replace(/\s+/g,"-")}"...`})}),a.jsx("button",{onClick:J,className:"absolute top-2 right-2 p-1.5 bg-gray-dark rounded-md text-gray-light hover:bg-gray-dark/50",title:"Copy code",children:a.jsx(pa,{className:"w-5 h-5"})})]})]})]})]})]}):a.jsxs("div",{className:"mt-6 p-4 bg-warning/10 border border-warning/20 rounded-lg flex items-center gap-3",children:[a.jsx(ga,{className:"w-6 h-6 text-warning"}),a.jsx("p",{className:"font-semibold text-yellow-800",children:"To generate a complete profile card, please fill out your logo and address in the sections above."})]})]})};return a.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Business Profile"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Keep your business details accurate to build trust and speed up verification."})]}),a.jsxs("div",{className:"mt-8 space-y-8",children:[a.jsx(g,{value:u}),a.jsx(m,{}),a.jsx(p,{}),a.jsx(b,{}),a.jsx(w,{}),a.jsx(j,{}),a.jsx(_,{})]})]})},RN=({onNavigate:r,showToast:s})=>{const{currentUser:i}=tt(),o=bd.find(v=>v.email===(i==null?void 0:i.email))||bd[0],{badge:c}=o,[u,h]=S.useState("light"),[g,m]=S.useState(!1);if(!c||c.status==="NONE")return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Your Restoration Expertise Badge"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Add this badge to your website and profiles so homeowners instantly know youre verified."})]}),a.jsx(xe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fi,{className:"w-16 h-16 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-[var(--text-main)]",children:"Your badge is not ready yet."}),a.jsx("p",{className:"mt-1 text-[var(--text-muted)]",children:"Once our team approves your documents, it will appear here."})]})})]});if(c.status==="PENDING")return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Your Restoration Expertise Badge"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Add this badge to your website and profiles so homeowners instantly know youre verified."})]}),a.jsx(xe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(er,{className:"w-16 h-16 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-[var(--text-main)]",children:"Your business is eligible and under review."}),a.jsx("p",{className:"mt-1 text-[var(--text-muted)]",children:"Were preparing your badge design."})]})})]});const p=u==="dark"&&c.imageDarkUrl||c.imageLightUrl,b=`<a href="${c.profileUrl}" target="_blank" rel="noopener noreferrer">
    <img src="${c.imageLightUrl}"
         alt="Restoration Expertise Verified Member  ${c.badgeLabel}"
         style="max-width:180px;height:auto;" />
  </a>`,w=()=>{navigator.clipboard.writeText(b),m(!0),setTimeout(()=>m(!1),2e3),s("Code copied to clipboard!","success")},_={ACTIVE:{chipText:"Active",chipColor:"bg-success text-white"},PENDING:{chipText:"Pending",chipColor:"bg-warning text-charcoal"},REVOKED:{chipText:"Revoked",chipColor:"bg-error text-white"}}[c.status];return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Your Restoration Expertise Badge"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Add this badge to your website and profiles so homeowners instantly know youre verified."})]}),a.jsxs("div",{className:"mt-6 bg-gold/10 border border-gold/20 text-[var(--text-main)] p-3 sm:p-4 rounded-xl flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bt,{className:"w-6 h-6 text-gold-dark mr-3 shrink-0"}),a.jsxs("p",{className:"text-sm sm:text-base font-semibold",children:["Verified Member  ",o.tier," Plan  Rating: ",o.rating]})]}),a.jsx("button",{onClick:()=>r("billing"),className:"font-bold text-sm bg-gold/20 text-gold-dark py-1.5 px-3 rounded-md hover:bg-gold/30 transition-colors whitespace-nowrap self-end sm:self-center",children:"Manage plan "})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 items-start",children:[a.jsxs("div",{className:"lg:col-span-3",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsx("button",{onClick:()=>h("light"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="light"?"bg-[var(--accent)] text-[var(--accent-text)] shadow-md":"bg-[var(--bg-card)] border border-[var(--border-subtle)]"}`,children:"Light background"}),a.jsx("button",{onClick:()=>h("dark"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="dark"?"bg-[var(--accent)] text-[var(--accent-text)] shadow-md":"bg-[var(--bg-card)] border border-[var(--border-subtle)]"}`,children:"Dark background"})]}),a.jsxs("div",{className:`relative p-8 rounded-2xl shadow-lg border border-[var(--border-subtle)] flex items-center justify-center min-h-[350px] transition-colors ${u==="light"?"bg-[var(--bg-subtle)]":"bg-charcoal-dark"}`,children:[_&&a.jsx("span",{className:`absolute top-4 right-4 text-xs font-bold px-3 py-1 rounded-full ${_.chipColor}`,children:_.chipText}),a.jsx("img",{src:p,alt:c.badgeLabel,className:"max-w-xs h-auto"})]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-4 text-center lg:text-left px-2",children:["This badge reflects your current plan (",o.tier,") and rating (",o.rating,"). Any future upgrades or renewals will automatically update your badge."]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(xe,{children:[a.jsx("h3",{className:"font-playfair text-xl font-bold text-[var(--text-main)] mb-4",children:"Download & Embed"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsx("a",{href:p,download:`${o.businessName.toLowerCase().replace(/ /g,"-")}-badge.png`,children:a.jsxs("button",{className:"w-full py-3 px-4 bg-[var(--bg-card)] text-[var(--text-main)] font-bold rounded-lg shadow-md border border-[var(--border-subtle)] hover:bg-[var(--bg-subtle)] transition-all flex items-center justify-center gap-2",children:[a.jsx(Ia,{className:"w-5 h-5"})," PNG"]})}),a.jsx("a",{href:p,download:`${o.businessName.toLowerCase().replace(/ /g,"-")}-badge.svg`,children:a.jsxs("button",{className:"w-full py-3 px-4 bg-[var(--bg-card)] text-[var(--text-main)] font-bold rounded-lg shadow-md border border-[var(--border-subtle)] hover:bg-[var(--bg-subtle)] transition-all flex items-center justify-center gap-2",children:[a.jsx(Ia,{className:"w-5 h-5"})," SVG"]})})]}),a.jsxs("div",{className:"relative bg-charcoal-dark p-4 rounded-lg",children:[a.jsx("button",{onClick:w,className:"absolute top-2 right-2 p-1.5 bg-gray-dark rounded-md text-gray-light hover:bg-gray-dark/50",title:"Copy code",children:g?a.jsx(ii,{className:"w-5 h-5 text-success"}):a.jsx(pa,{className:"w-5 h-5"})}),a.jsx("pre",{children:a.jsx("code",{className:"text-gray-light text-sm whitespace-pre-wrap select-all",children:b})})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-subtle)] flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 text-xs",children:[a.jsx("p",{className:"text-[var(--text-muted)]",children:"Current plan limit: 1 badge per company website"}),a.jsx("button",{onClick:()=>r("benefits"),className:"font-semibold text-[var(--accent-dark)] hover:underline self-end sm:self-center",children:"View benefits "})]})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"bg-gold/10 text-gold-dark p-2 rounded-full mr-3",children:a.jsx(vo,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:"Where to place your badge"})]}),a.jsxs("ul",{className:"space-y-2 list-disc list-inside text-[var(--text-muted)]",children:[a.jsx("li",{children:"Place above the fold on your homepage near your main call to action."}),a.jsx("li",{children:"Add it to your About and Reviews pages."}),a.jsx("li",{children:"Include it in your email signature or proposal PDFs."})]})]})]})]})]})},ON=[{value:"license",label:"Business License"},{value:"insurance",label:"Proof of Liability Insurance"}],DN=({documents:r,onNavigate:s,onRefreshDocuments:i})=>{const[o,c]=S.useState(!1),[u,h]=S.useState(!1),[g,m]=S.useState(""),[p,b]=S.useState(null),[w,j]=S.useState(null),[_,v]=S.useState(null),E=S.useRef(null),{session:y}=tt(),{approvedCount:k,underReviewCount:A,needsAttentionCount:T,docsNeedingAttention:I}=S.useMemo(()=>{const O=r.filter(me=>me.status==="approved"),ee=r.filter(me=>me.status==="underReview"),ae=r.filter(me=>["notUploaded","needsReplacement","rejected"].includes(me.status));return{approvedCount:O.length,underReviewCount:ee.length,needsAttentionCount:ae.length,docsNeedingAttention:ae}},[r]),L=r.length,J=L>0?k/L*100:0,z={approved:{icon:Wt,color:"text-success",label:"Approved",pill:"bg-success/10 text-success"},underReview:{icon:fi,color:"text-warning",label:"Under review",pill:"bg-warning/10 text-yellow-800"},rejected:{icon:gt,color:"text-error",label:"Rejected",pill:"bg-error/10 text-error"},needsReplacement:{icon:ga,color:"text-warning",label:"Needs replacement",pill:"bg-warning/10 text-yellow-800"},notUploaded:{icon:gt,color:"text-error",label:"Not uploaded",pill:"bg-gray-200 text-gray-dark"}},te=r.filter(O=>O.status!=="notUploaded"),M=()=>{j(null),v(null)},se=O=>{var ae;const ee=((ae=O.target.files)==null?void 0:ae[0])??null;b(ee),M()},ce=O=>{m(O.target.value),M()},B=()=>{var O;(O=E.current)==null||O.click()},K=async O=>{var ae;if(O.preventDefault(),M(),!((ae=y==null?void 0:y.user)!=null&&ae.id)){j("You must be signed in to upload documents.");return}if(!g||!p){j("Select a document type and file to upload.");return}c(!0);const ee=`${y.user.id}/${g}-${Date.now()}-${p.name}`;try{const{error:me}=await ve.storage.from("member-documents").upload(ee,p,{cacheControl:"3600",upsert:!1});if(me)throw me;const{error:je}=await ve.from("member_documents").insert({profile_id:y.user.id,doc_type:g,file_url:ee,status:"pending"});if(je)throw await ve.storage.from("member-documents").remove([ee]),je;v("Document uploaded successfully. We will review it shortly."),b(null),m(""),E.current&&(E.current.value="");try{await i()}catch(R){console.error("Failed to refresh documents after upload",R),j("Document uploaded successfully, but we could not refresh the list. Please refresh the page.")}}catch(me){console.error("Failed to upload document",me),j("Unable to upload your document right now. Please try again.")}finally{c(!1)}},H=()=>{const O=()=>T===0?"border-success":k===0&&T>0?"border-error":"border-warning";return a.jsxs("div",{className:"relative group w-full bg-[var(--bg-card)] p-4 rounded-xl shadow-md border-l-4 transition-all",style:{borderColor:O().split("-")[1]},children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-[var(--text-main)]",children:L>0?`Verification Progress: ${k} / ${L} documents approved`:"No documents uploaded yet"}),L>0&&a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold",children:"Under review:"})," ",A,"  ",a.jsx("span",{className:"font-semibold",children:"Needs attention:"})," ",T]})]})}),a.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max px-3 py-1.5 bg-charcoal text-white text-xs font-semibold rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["Approved: ",k,"  Under review: ",A,"  Needs attention: ",T,a.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-x-4 border-x-transparent border-t-4 border-t-charcoal"})]})]})},Q=()=>{const O=ee=>{switch(ee){case"notUploaded":return"(missing)";case"needsReplacement":return"(policy expired)";case"rejected":return"(rejected, see note)";default:return""}};return L===0?a.jsx(xe,{className:"bg-gold/10 border-gold/20",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[a.jsx("div",{className:"bg-gold/20 text-gold-dark p-3 rounded-full shrink-0",children:a.jsx(Qs,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:"Start your verification"}),a.jsx("p",{className:"mt-2 text-gray-dark",children:"Upload your first document to begin the verification process."})]})]})}):a.jsx(xe,{className:"bg-gold/10 border-gold/20",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[a.jsx("div",{className:"bg-gold/20 text-gold-dark p-3 rounded-full shrink-0",children:I.length>0?a.jsx(vo,{className:"w-6 h-6"}):a.jsx(Wt,{className:"w-6 h-6"})}),a.jsx("div",{className:"flex-grow",children:I.length>0?a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:"Next Steps to Get Verified"}),a.jsx("p",{className:"mt-2 text-gray-dark",children:"To complete your verification, please take care of the items below:"}),a.jsx("ul",{className:"mt-4 space-y-2 list-disc list-inside text-charcoal font-semibold",children:I.map(ee=>a.jsxs("li",{children:[ee.status==="notUploaded"?"Upload":"Replace"," ",ee.name," ",a.jsx("span",{className:"font-normal text-gray-dark",children:O(ee.status)})]},String(ee.id)))}),a.jsx("p",{className:"mt-4 text-xs text-text-muted italic",children:"Once these are uploaded, our team typically reviews within 23 business days."})]}):a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:"Youre all set for now"}),a.jsx("p",{className:"mt-2 text-gray-dark",children:"All submitted documents are either approved or under review. Well notify you if we need anything else."})]})})]})})};return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Verification Documents"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Upload and manage the documents we need to verify your business."})]}),a.jsx(H,{}),a.jsxs(xe,{className:"p-0",children:[a.jsx("div",{className:"p-6 border-b border-[var(--border-subtle)]",children:a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Document Checklist"})}),a.jsx("ul",{className:"divide-y divide-[var(--border-subtle)]",children:r.length===0?a.jsx("li",{className:"p-6 text-sm text-[var(--text-muted)]",children:"No documents uploaded yet. Use the form below to submit your first document."}):r.map(O=>{const{icon:ee,color:ae,label:me}=z[O.status];return a.jsx("li",{className:"p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-start flex-grow",children:[a.jsx(ee,{className:`w-7 h-7 mr-4 mt-1 shrink-0 ${ae}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-lg text-[var(--text-main)]",children:O.docTypeLabel}),a.jsxs("p",{className:`text-sm font-semibold ${ae}`,children:[me,O.uploadDate&&a.jsxs("span",{className:"text-[var(--text-muted)] font-normal ml-2",children:[" Uploaded: ",O.uploadDate]})]}),O.fileName&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["File: ",O.fileName,O.fileSize?`  ${O.fileSize}`:""]}),O.adminNote&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] italic mt-1",children:["Note: ",O.adminNote]})]})]})},O.id)})}),a.jsxs("div",{className:"p-6 bg-[var(--bg-subtle)] rounded-b-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"text-sm font-semibold text-[var(--text-main)]",children:"Overall Progress"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-main)]",children:L>0?`${k} of ${L} documents approved`:"Upload your first document to begin verification"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-[var(--accent)] h-2.5 rounded-full transition-all duration-500",style:{width:`${J}%`}})})]})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Upload Documents"}),a.jsxs("form",{onSubmit:K,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"document-type",className:"block text-sm font-semibold text-[var(--text-main)] mb-2",children:"Document type"}),a.jsxs("select",{id:"document-type",value:g,onChange:ce,className:"w-full rounded-lg border border-[var(--border-subtle)] bg-[var(--bg-card)] px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",children:[a.jsx("option",{value:"",children:"Select a document type"}),ON.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))]})]}),a.jsxs("div",{className:"relative flex flex-col items-center justify-center p-10 border-2 border-dashed rounded-xl bg-[var(--bg-subtle)] border-[var(--border-subtle)]",children:[a.jsx(Qs,{className:"w-12 h-12 text-[var(--text-muted)]"}),p?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mt-4 text-lg font-semibold text-[var(--text-main)]",children:p.name}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:Vd(p.size)??`${p.size} bytes`})]}):a.jsx("p",{className:"mt-4 text-lg font-semibold text-[var(--text-main)]",children:"Select a file to upload"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:"Accepted: PDF, JPG, PNG (max 10MB each)"}),a.jsx("input",{ref:E,type:"file",className:"hidden",onChange:se,accept:".pdf,.jpg,.jpeg,.png"}),a.jsx("button",{type:"button",onClick:B,className:"mt-6 py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] shadow-sm",children:"Choose file"})]}),(w||_)&&a.jsxs("div",{className:"space-y-2",children:[w&&a.jsx("p",{className:"text-sm text-error",children:w}),_&&a.jsx("p",{className:"text-sm text-success",children:_})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:!g||!p||o,className:"py-2.5 px-8 bg-gold text-charcoal font-bold rounded-lg shadow-lg hover:bg-gold-light transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:o?"Uploading...":"Submit for Verification"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Uploaded Documents"}),te.length===0?a.jsx(xe,{className:"text-sm text-[var(--text-muted)]",children:"No documents have been uploaded yet."}):te.map(O=>a.jsx(xe,{className:"flex flex-col gap-3",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("p",{className:"font-bold text-[var(--text-main)]",children:O.fileName}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${z[O.status].pill}`,children:z[O.status].label})]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:[O.uploadTimestamp??"Pending timestamp",O.fileSize?`  ${O.fileSize}`:""]}),O.adminNote&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] italic mt-2",children:["Admin Note: ",O.adminNote]})]})})},O.id))]}),a.jsx(Q,{}),a.jsxs(xe,{children:[a.jsxs("button",{onClick:()=>h(!u),className:"w-full flex justify-between items-center text-left",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Document Upload Guidelines"}),a.jsx(Js,{className:`w-6 h-6 text-[var(--text-muted)] transition-transform ${u?"rotate-180":""}`})]}),u&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-subtle)] animate-fade-in",children:[a.jsxs("ul",{className:"space-y-2 list-disc list-inside text-[var(--text-muted)]",children:[a.jsx("li",{children:"Documents must be current and not expired."}),a.jsx("li",{children:"Text must be clearly readable, no blurry photos."}),a.jsx("li",{children:"Upload all pages, front and back if applicable."}),a.jsx("li",{children:"Information must match your business name and details."})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)] flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[a.jsx("p",{className:"text-[var(--text-main)] font-semibold",children:"Need help with your documents?"}),a.jsx("a",{href:"mailto:documents@restorationexpertise.com",className:"font-bold text-[var(--accent-dark)] hover:underline",children:"Contact Support "})]})]})]})]})},MN=({benefit:r,onClose:s,onRequest:i})=>{const o=r.quota&&r.used?r.used/r.quota*100:0,c=r.quota!==void 0&&r.used!==void 0&&r.used<r.quota;return a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative animate-slide-up",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-[var(--text-muted)] hover:text-[var(--text-main)]",children:a.jsx(gt,{className:"w-8 h-8"})}),a.jsx("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)] mb-2",children:r.title}),a.jsx("p",{className:"text-[var(--text-muted)] text-lg",children:r.description}),r.quota!==void 0&&r.used!==void 0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-main)] mb-2",children:"Current Usage"}),a.jsxs("div",{className:"flex justify-between text-sm font-medium text-[var(--text-muted)] mb-1",children:[a.jsx("span",{children:"Usage"}),a.jsxs("span",{children:[r.used," of ",r.quota," used this year"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-[var(--accent)] h-2.5 rounded-full",style:{width:`${o}%`}})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-[var(--border-subtle)] space-y-3",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-main)]",children:"History (Example)"}),a.jsxs("ul",{className:"text-sm text-[var(--text-muted)] space-y-2",children:[a.jsxs("li",{className:"flex justify-between",children:[a.jsx("span",{children:"Request for 'Basement Mold Prevention'"})," ",a.jsx("span",{children:"Jul 15, 2024"})]}),a.jsxs("li",{className:"flex justify-between",children:[a.jsx("span",{children:"Request for 'Post-Fire Cleanup Guide'"})," ",a.jsx("span",{children:"Jan 20, 2024"})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-[var(--bg-subtle)] sticky bottom-0 rounded-b-2xl flex flex-col sm:flex-row justify-end items-center gap-4",children:[a.jsx("button",{onClick:s,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Close"}),c&&a.jsx("button",{onClick:()=>i(r.title),className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Request new post"})]})]})})},UN=({benefits:r})=>{const{totalUsed:s,totalQuota:i,usagePercent:o,readableBenefits:c}=S.useMemo(()=>{const m=r.filter(j=>j.quota!==void 0&&j.used!==void 0),p=m.reduce((j,_)=>j+(_.used||0),0),b=m.reduce((j,_)=>j+(_.quota||0),0),w=b>0?p/b*100:0;return{totalUsed:p,totalQuota:b,usagePercent:w,readableBenefits:m}},[r]),u=60,h=2*Math.PI*u,g=h-o/100*h;return a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Usage Overview"}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[a.jsxs("div",{className:"relative w-40 h-40 shrink-0",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 140 140",children:[a.jsx("circle",{className:"text-gray-200",strokeWidth:"12",stroke:"currentColor",fill:"transparent",r:u,cx:"70",cy:"70"}),a.jsx("circle",{className:"text-[var(--accent)]",strokeWidth:"12",strokeDasharray:h,strokeDashoffset:g,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:u,cx:"70",cy:"70",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease-out"}})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center font-bold text-[var(--text-main)]",children:[a.jsx("span",{className:"font-playfair text-3xl",children:s}),a.jsxs("span",{className:"text-lg text-[var(--text-muted)]",children:["/ ",i," Used"]})]})]}),a.jsx("div",{className:"w-full",children:a.jsx("ul",{className:"space-y-2",children:c.map(m=>a.jsxs("li",{className:"text-sm",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:m.title}),a.jsxs("span",{className:"text-[var(--text-muted)]",children:[m.used,"/",m.quota]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:a.jsx("div",{className:"bg-[var(--accent)] h-1.5 rounded-full",style:{width:`${m.used/m.quota*100}%`}})})]},m.title))})})]})]})},LN=({showToast:r})=>{const{currentUser:s,updateUser:i}=tt(),[o,c]=S.useState((s==null?void 0:s.benefits)||[]),[u,h]=S.useState(null);if(S.useEffect(()=>{c((s==null?void 0:s.benefits)||[])},[s==null?void 0:s.benefits]),!s||!s.plan)return null;const{plan:g}=s,m={Gold:"bg-gold text-charcoal",Silver:"bg-gray-300 text-charcoal",Bronze:"bg-yellow-700 text-white","Founding Member":"bg-charcoal text-gold",Platinum:"bg-gray-800 text-white"},p={NewspaperIcon:xo,ChartBarIcon:bx,ShieldCheckIcon:bt,ChatBubbleOvalLeftEllipsisIcon:mi},b=j=>{const _=o.map(v=>v.title===j&&v.used!==void 0&&v.quota!==void 0&&v.used<v.quota?{...v,used:v.used+1}:v);c(_),i({...s,benefits:_}),r(" Request submitted! Our team will reach out within 23 business days.","success"),h(null)},w=({benefit:j,onClick:_})=>{const v=p[j.icon],E=j.quota&&j.used?j.used/j.quota*100:0;return a.jsxs(xe,{onClick:_,className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-[var(--accent-bg-subtle)] text-[var(--accent-dark)] p-3 rounded-full",children:v&&a.jsx(v,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:j.title}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:j.description})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-subtle)] flex-grow",children:[j.quota!==void 0&&j.used!==void 0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm font-medium text-[var(--text-muted)] mb-1",children:[a.jsx("span",{children:"Usage"}),a.jsxs("span",{children:[j.used," of ",j.quota," used"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-[var(--accent)] h-2.5 rounded-full",style:{width:`${E}%`}})})]}),j.nextDate&&a.jsxs("p",{className:"text-sm font-semibold text-[var(--text-main)]",children:["Next scheduled: ",a.jsx("span",{className:"font-normal",children:j.nextDate})]}),j.status&&a.jsxs("p",{className:"text-sm font-semibold text-[var(--text-main)]",children:["Status: ",a.jsx("span",{className:"font-normal text-success",children:j.status})]}),j.isIncluded&&a.jsxs("p",{className:"text-sm font-semibold text-success flex items-center gap-1",children:[a.jsx(Wt,{className:"w-4 h-4"})," Included in your plan"]})]}),j.quota!==void 0&&a.jsx("div",{className:"mt-4 text-right",children:a.jsx("button",{onClick:y=>{y.stopPropagation(),_()},className:"py-2 px-4 bg-[var(--accent)] text-[var(--accent-text)] font-bold text-sm rounded-lg shadow-sm hover:bg-[var(--accent-light)]",children:"Request Now"})})]})};return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Your Membership Benefits"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"See whats included in your plan and how to make the most of your membership."})]}),a.jsx(xe,{children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Your Current Plan"}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("span",{className:`px-4 py-1 text-sm font-bold rounded-full ${m[g.name]||"bg-gray-200"}`,children:g.name}),a.jsx("span",{className:"font-semibold text-[var(--text-main)]",children:g.rating})]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:[g.billingCycle,"  Renews on ",g.renewalDate]})]}),a.jsxs("div",{className:"flex gap-3 self-end md:self-center",children:[a.jsx("button",{onClick:()=>r("Coming soon","success"),className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"View Invoice"}),a.jsx("button",{onClick:()=>r("Coming soon","success"),className:"py-2.5 px-5 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Upgrade Plan"})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((j,_)=>a.jsx(w,{benefit:j,onClick:()=>h(j)},_))}),a.jsx(UN,{benefits:o}),a.jsxs("div",{className:"bg-gradient-to-r from-gold to-gold-dark text-charcoal p-8 rounded-2xl shadow-lg flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold",children:"Ready to grow faster?"}),a.jsx("p",{className:"mt-1",children:"Upgrade to Platinum and unlock unlimited SEO posts, faster reviews, and exclusive member promotions."})]}),a.jsx("button",{onClick:()=>r("Coming soon","success"),className:"py-3 px-8 bg-charcoal text-white font-bold rounded-lg shadow-md hover:bg-charcoal-light transition-colors whitespace-nowrap",children:"Compare Plans"})]}),u&&a.jsx(MN,{benefit:o.find(j=>j.title===u.title)||u,onClose:()=>h(null),onRequest:b})]})},BN=({isOpen:r,onClose:s,onConfirm:i})=>r?a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto relative animate-slide-up",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Pause Billing"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Your subscription will be paused from your next renewal date. You will not be billed and your benefits will be temporarily suspended."}),a.jsxs("fieldset",{className:"space-y-3",children:[a.jsx("legend",{className:"font-semibold text-[var(--text-main)]",children:"Pause duration (dummy):"}),a.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[a.jsx("input",{type:"radio",name:"pause-duration",className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," 1 Month"]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[a.jsx("input",{type:"radio",name:"pause-duration",className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," 3 Months"]})]})]}),a.jsxs("div",{className:"p-6 bg-[var(--bg-subtle)] sticky bottom-0 rounded-b-2xl flex flex-col sm:flex-row justify-end items-center gap-4",children:[a.jsx("button",{onClick:s,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Cancel"}),a.jsx("button",{onClick:i,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Confirm Pause"})]})]})}):null,zN=({isOpen:r,onClose:s,onConfirm:i})=>r?a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto relative animate-slide-up",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"p-6 sm:p-8 text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center rounded-full bg-error/10 text-error mb-4",children:a.jsx(ga,{className:"w-8 h-8"})}),a.jsx("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)] mb-4",children:"Are you sure you want to cancel?"}),a.jsx("p",{className:"text-[var(--text-muted)] text-lg",children:"Canceling will remove your active badge and network listing at the end of your current period. You will lose access to all your membership benefits."})]}),a.jsxs("div",{className:"p-6 bg-[var(--bg-subtle)] sticky bottom-0 rounded-b-2xl flex flex-col-reverse sm:flex-row justify-center items-center gap-4",children:[a.jsx("button",{onClick:i,className:"w-full sm:w-auto py-2.5 px-6 bg-error text-white font-bold rounded-lg shadow-md hover:bg-red-600",children:"Cancel at end of period"}),a.jsx("button",{onClick:s,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Keep my subscription"})]})]})}):null,qN=({showToast:r})=>{const{currentUser:s,updateUser:i}=tt(),[o,c]=S.useState(s),[u,h]=S.useState(!1),[g,m]=S.useState(!1);S.useEffect(()=>{c(s)},[s]);const p=()=>{if(!o||!o.billing)return;const A={...o,billing:{...o.billing,subscription:{...o.billing.subscription,status:"Canceled"}}};c(A),i(A),m(!1),r("Your subscription is scheduled for cancellation.","success")};if(!o||!o.billing)return a.jsx(xe,{children:a.jsx("p",{children:"Billing information is not available."})});const{subscription:b,paymentMethod:w,invoices:j}=o.billing,v={Active:{text:"Active",color:"bg-success/20 text-success"},"Past due":{text:"Past Due",color:"bg-warning/20 text-yellow-800"},Canceled:{text:"Ends on "+b.renewalDate,color:"bg-gray-200 text-gray-dark"}}[b.status],E=A=>A.toLowerCase()==="visa"?a.jsx("div",{className:"font-bold text-blue-800 italic text-2xl",children:"VISA"}):A.toLowerCase()==="mastercard"?a.jsx("div",{className:"font-bold text-red-600",children:"Mastercard"}):a.jsx(Kn,{className:"w-8 h-8 text-gray-dark"}),y=A=>({Paid:"bg-success/20 text-success",Failed:"bg-error/20 text-error",Pending:"bg-warning/20 text-yellow-800"})[A],k=()=>b.status==="Past due"?a.jsxs("div",{className:"p-4 rounded-xl bg-warning/10 border border-warning/20 flex items-center gap-4",children:[a.jsx(ga,{className:"w-6 h-6 text-warning shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-yellow-900",children:"Your last payment failed."}),a.jsx("p",{className:"text-sm text-yellow-800",children:"Please update your payment method to avoid interruption."})]})]}):b.status==="Canceled"?a.jsxs("div",{className:"p-4 rounded-xl bg-[var(--bg-subtle)] border border-[var(--border-subtle)] flex items-center gap-4",children:[a.jsx(ga,{className:"w-6 h-6 text-[var(--text-muted)] shrink-0"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-[var(--text-main)]",children:["Your subscription is scheduled to end on ",b.renewalDate,"."]}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Your badge and benefits will become inactive after that date."})]})]}):a.jsxs("div",{className:"p-4 rounded-xl bg-[var(--bg-subtle)] border border-[var(--border-subtle)] flex items-center gap-4",children:[a.jsx(Kn,{className:"w-6 h-6 text-[var(--text-muted)] shrink-0"}),a.jsxs("p",{className:"text-[var(--text-main)] sm:text-lg",children:["Next payment: ",a.jsxs("span",{className:"font-bold",children:[b.price.split(" ")[0]," on ",b.renewalDate]}),"  ",b.planName," plan  Billed ",b.billingCycle]})]});return a.jsxs(a.Fragment,{children:[a.jsx(BN,{isOpen:u,onClose:()=>h(!1),onConfirm:()=>{r("Your subscription will be paused starting from the next billing cycle.","success"),h(!1)}}),a.jsx(zN,{isOpen:g,onClose:()=>m(!1),onConfirm:p}),a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Billing & Subscription"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Manage your Restoration Expertise membership, payment details, and invoices."})]}),a.jsx(k,{}),a.jsx(xe,{children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Current Subscription"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("p",{className:"text-xl font-semibold text-[var(--text-main)]",children:[b.planName,"  ",b.price]}),a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${v.color}`,children:v.text})]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:[b.status==="Canceled"?"Access ends":"Next charge",": ",b.renewalDate,"  Member since: ",b.startedAt]})]}),a.jsxs("div",{className:"flex gap-3 self-end md:self-auto shrink-0",children:[a.jsx("button",{onClick:()=>r("This will be connected to Stripe later.","success"),className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Change plan"}),a.jsx("button",{onClick:()=>r("This will be connected to Stripe later.","success"),className:"py-2.5 px-5 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)]",children:"Open customer portal"})]})]})}),a.jsxs(xe,{className:b.status==="Past due"?"border-2 border-warning":"",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Payment Method"}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded-md flex items-center justify-center",children:E(w.brand)}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-[var(--text-main)]",children:[w.brand," ending in ",w.last4]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["Expires ",w.expiry]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:["Cardholder: ",w.cardholder]})]})]}),a.jsxs("div",{className:"flex gap-3 self-end md:self-auto shrink-0",children:[a.jsx("button",{onClick:()=>r("Card update flow will be handled by Stripe in the live version.","success"),className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Update card"}),a.jsx("button",{disabled:!0,className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove"})]})]})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Invoice History"}),a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-subtle)]",children:[a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Invoice #"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Amount"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-[var(--text-muted)]",children:"Status"}),a.jsx("th",{className:"py-3 px-4 text-right text-sm font-semibold text-[var(--text-muted)]",children:"Actions"})]})}),a.jsx("tbody",{children:j==null?void 0:j.map(A=>a.jsxs("tr",{className:"border-b border-[var(--border-subtle)] last:border-0 hover:bg-[var(--bg-subtle)]",children:[a.jsx("td",{className:"py-3 px-4 text-[var(--text-main)] font-semibold",children:A.id}),a.jsx("td",{className:"py-3 px-4 text-[var(--text-main)]",children:A.date}),a.jsx("td",{className:"py-3 px-4 text-[var(--text-main)]",children:A.amount}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${y(A.status)}`,children:A.status})}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("button",{onClick:()=>r("Download will be available in the live version.","success"),className:"p-2 text-[var(--text-muted)] hover:text-[var(--accent-dark)]",children:a.jsx(Ia,{className:"w-5 h-5"})})})]},A.id))})]})}),a.jsx("div",{className:"space-y-4 md:hidden",children:j==null?void 0:j.map(A=>a.jsxs("div",{className:"p-4 border border-[var(--border-subtle)] rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-[var(--text-main)]",children:A.id}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:A.date})]}),a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${y(A.status)}`,children:A.status})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-[var(--border-subtle)]",children:[a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:A.amount}),a.jsxs("button",{onClick:()=>r("Download will be available in the live version.","success"),className:"flex items-center gap-2 py-1 px-3 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg text-sm font-semibold",children:[a.jsx(Ia,{className:"w-4 h-4"})," PDF"]})]})]},A.id))})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-2",children:"Manage Subscription"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6",children:"Control your membership status. Changes here will affect your access to benefits and your badge."}),b.status==="Canceled"?a.jsx("div",{className:"p-4 bg-[var(--bg-subtle)] rounded-lg text-center text-[var(--text-muted)] font-medium",children:"Subscription already scheduled for cancellation."}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx("button",{onClick:()=>h(!0),className:"py-3 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Pause billing"}),a.jsx("button",{onClick:()=>m(!0),className:"py-3 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm text-error hover:bg-error/5",children:"Cancel subscription"}),a.jsx("button",{onClick:()=>r("Use the payment method section above to update your card.","success"),className:"py-3 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Update billing details"})]})]})]})]})},IN=[{title:"Monthly Owner Roundtable",date:"March 5, 2025  3:00 PM CST",type:"Zoom Call",tier:null},{title:"Website & SEO Hotseat",date:"March 18, 2025  2:00 PM CST",type:"Workshop",tier:"Gold+"},{title:"Badge Optimization Workshop",date:"April 2, 2025  4:00 PM CST",type:"Workshop",tier:null}],$N=[{title:"Start Here: Onboarding Post",description:"New to the group? Introduce yourself and get the lay of the land.",icon:bo,link:"#"},{title:"Monthly Wins Thread",description:"Share your recent victories, big or small. Let's celebrate together.",icon:go,link:"#"},{title:"Website & SEO Review Thread",description:"Get feedback on your site from the community and our team.",icon:er,link:"#"},{title:"Hiring & Operations Thread",description:"Discuss challenges and solutions for finding and managing great people.",icon:po,link:"#"}],PN=({onNavigate:r})=>{var b;const{currentUser:s}=tt(),i=S.useRef(null),[o,c]=S.useState(!1),[u,h]=S.useState(!1),g=()=>{var w;(w=i.current)==null||w.scrollIntoView({behavior:"smooth"})},m=[{title:"Case study: How XYZ Restoration added $40k/mo with SEO + reviews.",snippet:"John from XYZ breaks down the exact steps he took to dominate local search results, from optimizing his Google Business Profile to implementing a simple, effective review generation system.",link:"#"},{title:"Discussion: Should you niche into water only or stay full service?",snippet:"A lively debate on the pros and cons of specializing vs. being a one-stop-shop. See what other successful owners are doing and why.",link:"#"},{title:"Win: Member landed a $15k fire job from a website badge visitor.",snippet:"Sarah shares how a homeowner found her through the Restoration Expertise network and specifically mentioned the verification badge as the deciding factor.",link:"#"}],p=["Real talk from other owners, not theory.","Feedback on your website, offers and systems.","First access to new tools, templates and calls.","Priority answers from the Restoration Expertise team."];return a.jsxs("div",{className:"animate-fade-in space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Community Hub"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Connect with other restoration owners, share wins, and get support from our team."})]}),a.jsx(xe,{className:"!p-0 overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 p-8 bg-[var(--accent-bg-subtle)]",children:[a.jsx("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)] mb-4",children:"Join the Restoration Expertise Community"}),a.jsx("p",{className:"text-[var(--text-muted)] mb-6 max-w-xl",children:"Ask questions, share best practices, and learn from other verified restoration companies in our private, members-only group."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("a",{href:"https://facebook.com/groups/restorationexpertise",target:"_blank",rel:"noopener noreferrer",className:"py-3 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)] text-center",children:"Join Private Facebook Group"}),a.jsx("button",{onClick:g,className:"py-3 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold text-[var(--text-main)] shadow-sm hover:bg-[var(--bg-subtle)]",children:"Community Guidelines"})]})]}),a.jsxs("div",{className:"lg:col-span-1 bg-[var(--accent-bg-subtle)] p-8 flex flex-col justify-center",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-main)] mb-4",children:"Community Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vs,{className:"w-6 h-6 text-[var(--accent-dark)]"}),a.jsxs("p",{className:"text-[var(--text-main)]",children:[a.jsx("span",{className:"font-bold text-xl",children:"134"})," members"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mi,{className:"w-6 h-6 text-[var(--accent-dark)]"}),a.jsxs("p",{className:"text-[var(--text-main)]",children:[a.jsx("span",{className:"font-bold text-xl",children:"18"})," posts, ",a.jsx("span",{className:"font-bold text-xl",children:"42"})," comments this week"]})]})]})]})]})}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Why join?"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((w,j)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-success/10 text-success p-1.5 rounded-full mt-1",children:a.jsx(ii,{className:"w-4 h-4"})}),a.jsx("p",{className:"text-[var(--text-main)]",children:w})]},j))})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Community Highlights"}),a.jsx("div",{className:"space-y-6",children:m.map((w,j)=>a.jsxs("div",{className:"pb-6 border-b border-[var(--border-subtle)] last:border-b-0 last:pb-0",children:[a.jsx("h3",{className:"font-bold text-lg text-[var(--text-main)] mb-2",children:w.title}),a.jsx("p",{className:"text-[var(--text-muted)] mb-3",children:w.snippet}),a.jsx("a",{href:w.link,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[var(--accent-dark)] hover:underline",children:"View in group "})]},j))})]}),a.jsx("div",{ref:i,className:"scroll-mt-20",children:a.jsxs(xe,{children:[a.jsxs("button",{onClick:()=>c(!o),className:"w-full flex justify-between items-center text-left",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Community Guidelines"}),a.jsx(Js,{className:`w-6 h-6 text-[var(--text-muted)] transition-transform ${o?"rotate-180":""}`})]}),o&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-subtle)] animate-fade-in",children:[a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-[var(--text-muted)]",children:[a.jsx("li",{children:"Respect confidentiality. No sharing sensitive client details."}),a.jsx("li",{children:"No spam or cold pitching other members."}),a.jsx("li",{children:"Keep discussions focused on restoration and business growth."}),a.jsx("li",{children:"Constructive feedback only; no drama."}),a.jsx("li",{children:"One promo post per month in the designated thread."}),a.jsx("li",{children:"Violation may lead to temporary or permanent removal."})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-[var(--border-subtle)]",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:w=>h(w.target.checked),className:"h-5 w-5 rounded border-[var(--border-subtle)] text-[var(--accent)] focus:ring-[var(--accent)]"}),a.jsx("span",{className:"font-semibold text-[var(--text-main)]",children:"Ive read and agree to the community guidelines"})]}),u&&a.jsx("p",{className:"mt-3 text-sm text-success font-semibold bg-success/10 p-2 rounded-md animate-fade-in",children:"Nice. Youre good to go  see you inside the group."})]})]})]})}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Upcoming Calls & Events"}),a.jsx("div",{className:"space-y-4",children:IN.map((w,j)=>a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 p-4 bg-[var(--bg-subtle)] rounded-lg border border-[var(--border-subtle)]",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"font-bold text-lg text-[var(--text-main)]",children:w.title}),w.tier&&a.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 bg-gold/20 text-gold-dark rounded-full",children:[w.tier," members"]})]}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:[w.date,"  ",w.type]})]}),a.jsx("button",{className:"py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold text-[var(--text-main)] shadow-sm hover:bg-[var(--bg-subtle)] text-sm whitespace-nowrap self-end sm:self-center",children:"Add to calendar"})]},j))})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Community Resources"}),a.jsx("div",{className:"space-y-4",children:$N.map((w,j)=>{const _=w.icon;return a.jsxs("a",{href:w.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-4 p-4 rounded-lg hover:bg-[var(--bg-subtle)] border border-transparent hover:border-[var(--border-subtle)] transition-colors group",children:[a.jsx("div",{className:"bg-gold/10 text-gold-dark p-3 rounded-full mt-1",children:a.jsx(_,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-[var(--text-main)]",children:w.title}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:w.description}),a.jsx("span",{className:"mt-2 inline-block font-semibold text-gold-dark text-sm group-hover:underline",children:"Open in group "})]})]},j)})})]}),((b=s==null?void 0:s.plan)==null?void 0:b.name)==="Bronze"&&a.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-charcoal to-charcoal-dark text-white rounded-2xl shadow-lg flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"font-playfair text-xl font-bold",children:"Unlock Full Community Access"}),a.jsx("p",{className:"text-gray-light mt-1",children:"Some community calls are reserved for Gold members. Upgrade in Billing to unlock full access."})]}),a.jsx("button",{onClick:()=>r("billing"),className:"py-2.5 px-6 bg-gold text-charcoal font-bold rounded-lg shadow-md hover:bg-gold-light whitespace-nowrap",children:"Upgrade in Billing"})]})]})},HN=({isOpen:r,onClose:s,onConfirm:i,companyName:o})=>{const[c,u]=S.useState(""),h=c===o;return r?a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative animate-slide-up",onClick:g=>g.stopPropagation(),children:[a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center rounded-full bg-error/10 text-error mb-4",children:a.jsx(ga,{className:"w-8 h-8"})}),a.jsx("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)]",children:"Delete Account"})]}),a.jsxs("p",{className:"text-[var(--text-muted)] text-center mt-4 text-lg",children:["Deleting your account will remove your badge, listings, and access to the Member Hub.",a.jsx("br",{}),a.jsx("span",{className:"font-bold text-error",children:"This action is permanent and cannot be undone."})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("label",{htmlFor:"company-name-confirm",className:"block text-sm font-medium text-[var(--text-muted)]",children:['To confirm, please type "',a.jsx("span",{className:"font-bold text-[var(--text-main)]",children:o}),'" below:']}),a.jsx("input",{id:"company-name-confirm",type:"text",value:c,onChange:g=>u(g.target.value),className:"mt-1 block w-full p-3 border border-[var(--border-subtle)] rounded-lg shadow-sm focus:ring-[var(--accent)] focus:border-[var(--accent)] bg-[var(--bg-input)]"})]})]}),a.jsxs("div",{className:"p-6 bg-[var(--bg-subtle)] flex flex-col sm:flex-row justify-end items-center gap-4",children:[a.jsx("button",{onClick:s,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Cancel"}),a.jsx("button",{onClick:i,disabled:!h,className:"w-full sm:w-auto py-2.5 px-6 bg-error text-white font-bold rounded-lg shadow-md hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Delete"})]})]})}):null},VN=({showToast:r,onNavigate:s})=>{var B,K;const{currentUser:i,updateUser:o}=tt(),[c,u]=S.useState(!1),[h,g]=S.useState({ownerName:((B=i==null?void 0:i.account)==null?void 0:B.ownerName)||(i==null?void 0:i.name)||"",ownerEmail:((K=i==null?void 0:i.account)==null?void 0:K.ownerEmail)||(i==null?void 0:i.email)||""}),[m,p]=S.useState(!0),[b,w]=S.useState(!1),[j,_]=S.useState({timezone:"US/Central",dateFormat:"MM/DD/YYYY"}),[v,E]=S.useState((i==null?void 0:i.notifications)||{documentStatus:!0,verificationStatus:!0,requestUpdates:!0,benefitDelivery:!1,billingUpdates:!0,communityUpdates:!0,emailFrequency:"real-time"}),[y,k]=S.useState(!1),[A,T]=S.useState(!1);if(S.useEffect(()=>{var H,Q;i&&(g({ownerName:((H=i.account)==null?void 0:H.ownerName)||i.name,ownerEmail:((Q=i.account)==null?void 0:Q.ownerEmail)||i.email}),i.notifications&&E(i.notifications))},[i]),!i||!i.account)return null;const I=()=>{if(!i)return;const H={...i,account:{...i.account,...h}};o(H),u(!1),r("Account info updated.","success")},L=()=>{var H,Q;g({ownerName:((H=i.account)==null?void 0:H.ownerName)||"",ownerEmail:((Q=i.account)==null?void 0:Q.ownerEmail)||""}),u(!1)},J=()=>{w(!1),r("All active sessions have been cleared (dummy state).","success")},z=()=>{console.log("Preferences saved:",j),r("Preferences saved.","success")},te=()=>{if(!i)return;const H={...i,notifications:v};o(H),r("Notification settings saved.","success")},M=()=>{k(!1),r("Data export will be available in the full version.","success")},se=()=>{T(!1),r("Account deletion will be handled by support in the live version.","success")},ce=({label:H,checked:Q,onChange:O})=>a.jsxs("label",{className:"flex justify-between items-center cursor-pointer p-3 hover:bg-[var(--bg-subtle)] rounded-lg",children:[a.jsx("span",{className:"font-medium text-[var(--text-main)]",children:H}),a.jsx("input",{type:"checkbox",className:"toggle-checkbox",checked:Q,onChange:ee=>O(ee.target.checked)})]});return a.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[a.jsx("style",{children:`
                .toggle-checkbox { -webkit-appearance: none; -moz-appearance: none; appearance: none; width: 3rem; height: 1.5rem; background-color: #E5E7EB; border-radius: 9999px; position: relative; cursor: pointer; transition: background-color 0.2s ease-in-out; }
                html[data-theme='dark'] .toggle-checkbox { background-color: #4A4A4A; }
                .toggle-checkbox::before { content: ''; position: absolute; width: 1.25rem; height: 1.25rem; border-radius: 9999px; background-color: white; top: 2px; left: 2px; transition: transform 0.2s ease-in-out; }
                .toggle-checkbox:checked { background-color: var(--accent); }
                .toggle-checkbox:checked::before { transform: translateX(1.5rem); }
            `}),a.jsx(Up,{isOpen:b,onClose:()=>w(!1),onSubmit:J,title:"Log out of all devices?",message:"This will sign you out of all other active sessions. Your current session will remain active.",confirmButtonText:"Yes, Log Out All",confirmButtonClass:"bg-error text-white hover:bg-red-600"}),a.jsx(Up,{isOpen:y,onClose:()=>k(!1),onSubmit:M,title:"Export Account Data",message:"Well prepare an export of your profile, documents metadata and billing records.",confirmButtonText:"Start Export",confirmButtonClass:"bg-gold text-charcoal hover:bg-gold-light"}),a.jsx(HN,{isOpen:A,onClose:()=>T(!1),onConfirm:se,companyName:i.account.companyName}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-4xl font-bold text-[var(--text-main)]",children:"Settings"}),a.jsx("p",{className:"mt-2 text-lg text-[var(--text-muted)]",children:"Manage your account details, sign-in preferences, and basic settings."})]}),a.jsxs(xe,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{children:a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Account Information"})}),!c&&a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 py-2 px-4 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg shadow-sm font-semibold text-[var(--text-main)] hover:bg-[var(--bg-subtle)] text-sm",children:[a.jsx(ma,{className:"w-4 h-4"})," Edit"]})]}),c?a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Account Owner Name"}),a.jsx("input",{type:"text",value:h.ownerName,onChange:H=>g({...h,ownerName:H.target.value}),className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Account Email"}),a.jsx("input",{type:"email",value:h.ownerEmail,onChange:H=>g({...h,ownerEmail:H.target.value}),className:"mt-1 block w-full p-2 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)]"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Role"}),a.jsx("p",{className:"font-semibold text-[var(--text-muted)] bg-[var(--bg-subtle)] p-3 rounded-lg",children:i.account.role})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Company Name"}),a.jsx("p",{className:"font-semibold text-[var(--text-muted)] bg-[var(--bg-subtle)] p-3 rounded-lg",children:i.account.companyName})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[a.jsx("button",{onClick:L,className:"py-2 px-5 bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{onClick:I,className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Account Owner Name"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:h.ownerName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Account Email"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:h.ownerEmail})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Role"}),a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:i.account.role})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Company Name"}),a.jsx("button",{onClick:()=>s("profile"),className:"font-semibold text-[var(--accent-dark)] hover:underline",children:i.account.companyName})]})]})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Sign-in & Security"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-[var(--bg-subtle)] rounded-lg",children:[a.jsx("span",{className:"font-medium text-[var(--text-main)]",children:"Login method"}),a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"Email magic link"})]}),a.jsxs("label",{className:"flex justify-between items-center cursor-pointer",children:[a.jsx("span",{className:"font-medium text-[var(--text-main)] max-w-xs sm:max-w-none",children:"Require confirmation for new logins from unknown devices"}),a.jsx("input",{type:"checkbox",className:"toggle-checkbox",checked:m,onChange:H=>p(H.target.checked)})]}),a.jsxs("div",{className:"pt-4 border-t border-[var(--border-subtle)] flex flex-col sm:flex-row gap-4",children:[a.jsx("button",{onClick:()=>w(!0),className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Log out of all devices"}),a.jsx("button",{onClick:()=>r("Verification email resent.","success"),className:"py-2.5 px-5 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",children:"Resend verification email"})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Security features like 2FA and device history will be added in the full version."})]})]}),a.jsxs(xe,{children:[a.jsx("div",{className:"flex justify-between items-start mb-4",children:a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)]",children:"Preferences"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Timezone"}),a.jsxs("select",{value:j.timezone,onChange:H=>_({...j,timezone:H.target.value}),className:"w-full p-3 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-card)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:[a.jsx("option",{children:"US/Pacific"}),a.jsx("option",{children:"US/Mountain"}),a.jsx("option",{children:"US/Central"}),a.jsx("option",{children:"US/Eastern"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[var(--text-muted)] mb-2",children:"Date Format"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"date-format",value:"MM/DD/YYYY",checked:j.dateFormat==="MM/DD/YYYY",onChange:H=>_({...j,dateFormat:H.target.value}),className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," MM/DD/YYYY"]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"date-format",value:"DD/MM/YYYY",checked:j.dateFormat==="DD/MM/YYYY",onChange:H=>_({...j,dateFormat:H.target.value}),className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," DD/MM/YYYY"]})]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-[var(--bg-subtle)] rounded-lg",children:[a.jsx("span",{className:"font-medium text-[var(--text-main)]",children:"Currency"}),a.jsx("span",{className:"font-semibold text-[var(--text-muted)]",children:"USD (United States Dollar)"})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)] text-right",children:a.jsx("button",{onClick:z,className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Preferences"})})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-[var(--text-muted)] mb-2",children:"Documents & Verification"}),a.jsx(ce,{label:"Email me when a document is approved or rejected",checked:v.documentStatus,onChange:H=>E(Q=>({...Q,documentStatus:H}))}),a.jsx(ce,{label:"Email me when my verification status changes",checked:v.verificationStatus,onChange:H=>E(Q=>({...Q,verificationStatus:H}))})]}),a.jsxs("div",{className:"pt-4 border-t border-[var(--border-subtle)]",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-muted)] mb-2",children:"Benefits & Requests"}),a.jsx(ce,{label:"Email me when a new request is created or updated",checked:v.requestUpdates,onChange:H=>E(Q=>({...Q,requestUpdates:H}))}),a.jsx(ce,{label:"Email me when a benefit (e.g. SEO post) is delivered",checked:v.benefitDelivery,onChange:H=>E(Q=>({...Q,benefitDelivery:H}))})]}),a.jsxs("div",{className:"pt-4 border-t border-[var(--border-subtle)]",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-muted)] mb-2",children:"Billing"}),a.jsx(ce,{label:"Email me about upcoming renewals and failed payments",checked:v.billingUpdates,onChange:H=>E(Q=>({...Q,billingUpdates:H}))})]}),a.jsxs("div",{className:"pt-4 border-t border-[var(--border-subtle)]",children:[a.jsx("h3",{className:"font-semibold text-[var(--text-muted)] mb-2",children:"Community"}),a.jsx(ce,{label:"Email me about new events and important announcements",checked:v.communityUpdates,onChange:H=>E(Q=>({...Q,communityUpdates:H}))})]})]})]}),a.jsxs(xe,{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-[var(--text-main)] mb-4",children:"Email Frequency"}),a.jsxs("fieldset",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"radio",name:"email-frequency",value:"real-time",checked:v.emailFrequency==="real-time",onChange:H=>E(Q=>({...Q,emailFrequency:H.target.value})),className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," Real-time (recommended)"]}),a.jsxs("label",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"radio",name:"email-frequency",value:"daily",checked:v.emailFrequency==="daily",onChange:H=>E(Q=>({...Q,emailFrequency:H.target.value})),className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," Daily summary"]}),a.jsxs("label",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"radio",name:"email-frequency",value:"weekly",checked:v.emailFrequency==="weekly",onChange:H=>E(Q=>({...Q,emailFrequency:H.target.value})),className:"h-4 w-4 text-[var(--accent)] focus:ring-[var(--accent)]"})," Weekly summary"]})]}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-4",children:"Well include documents, requests and community highlights in your summary emails."}),a.jsx("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)] text-right",children:a.jsx("button",{onClick:te,className:"py-2 px-5 bg-[var(--accent)] text-[var(--accent-text)] rounded-lg font-bold",children:"Save Notification Settings"})})]}),a.jsxs(xe,{className:"border-error",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-error",children:"Danger Zone"}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-[var(--bg-subtle)] rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-[var(--text-main)]",children:"Export account data"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Download your profile, documents metadata, and billing records."})]}),a.jsx("button",{onClick:()=>k(!0),className:"py-2 px-4 mt-2 sm:mt-0 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold text-[var(--text-main)] shadow-sm hover:bg-[var(--bg-subtle)] whitespace-nowrap",children:"Export Data"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-error/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-error",children:"Delete account"}),a.jsx("p",{className:"text-sm text-red-800",children:"Permanently remove your account and all associated data."})]}),a.jsx("button",{onClick:()=>T(!0),className:"py-2 px-4 mt-2 sm:mt-0 bg-error text-white font-bold rounded-lg shadow-sm hover:bg-red-600 whitespace-nowrap",children:"Delete Account"})]})]})]})]})]})},GN={overview:"Overview","my-requests":"My Service Requests",profile:"Business Profile",badge:"My Badge",documents:"Verification Documents",benefits:"Your Membership Benefits",billing:"Billing & Subscription",community:"Community Hub",blueprint:"99 Steps Blueprint",settings:"Settings"},YN=()=>{var R,V;const{currentUser:r,logout:s,session:i}=tt(),[o,c]=S.useState("overview"),[u,h]=S.useState(!1),[g,m]=S.useState(!1),p=S.useRef(null),[b,w]=S.useState(null),[j,_]=S.useState(!1),[v,E]=S.useState(0),[y,k]=S.useState(null),[A,T]=S.useState(null),[I,L]=S.useState(null),[J,z]=S.useState([]),[te,M]=S.useState([]),[se,ce]=S.useState(!1),[B,K]=S.useState(null),H=S.useCallback(async()=>{var de;if(!((de=i==null?void 0:i.user)!=null&&de.id))return z([]),[];const{data:W,error:Z}=await ve.from("member_documents").select("*").eq("profile_id",i.user.id).order("created_at",{ascending:!1});if(Z)throw console.error("Failed to load member documents",Z),Z;const oe=(W??[]).map(NN);return z(oe),oe},[(R=i==null?void 0:i.user)==null?void 0:R.id]);S.useEffect(()=>{if(b){const W=setTimeout(()=>w(null),3e3);return()=>clearTimeout(W)}},[b]);const Q=(W,Z)=>{w({message:W,type:Z})};S.useEffect(()=>{const W=Z=>{p.current&&!p.current.contains(Z.target)&&m(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),S.useEffect(()=>{var ne;if(!((ne=i==null?void 0:i.user)!=null&&ne.id)){k(null),T(null),L(null),z([]),M([]);return}let W=!0;return ce(!0),K(null),(async()=>{try{const[oe,de,Ce,Se]=await Promise.all([ve.from("profiles").select("*").eq("id",i.user.id).maybeSingle(),ve.from("memberships").select("*").eq("profile_id",i.user.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),ve.from("subscriptions").select("*").eq("profile_id",i.user.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),ve.from("service_requests").select("*").eq("profile_id",i.user.id).order("created_at",{ascending:!1}).limit(5)]);if(!W)return;let ze=null;try{await H()}catch(vt){console.error("Failed to load member documents",vt),ze=$p(vt)?vt:null}const kt=[oe.error,de.error,Ce.error,Se.error,ze].filter(vt=>$p(vt)&&vt.code!=="PGRST116");kt.length>0?(kt.forEach(vt=>{vt&&console.error("Failed to load dashboard data",vt)}),K("Some dashboard data failed to load. Please refresh to try again.")):K(null),k(oe.data??null),T(de.data??null),L(Ce.data??null);const Ct=Se.data??[];M(Ct.map(_N))}catch(oe){if(!W)return;console.error("Unexpected error loading dashboard data",oe),K("Unable to load your dashboard right now. Please try again later."),k(null),T(null),L(null),z([]),M([])}finally{W&&ce(!1)}})(),()=>{W=!1}},[(V=i==null?void 0:i.user)==null?void 0:V.id,H]);const O=W=>{c(W),h(!1)},ee=S.useMemo(()=>{var bi,vi;const W=(y==null?void 0:y.member_status)??(y==null?void 0:y.verification_status)??(A==null?void 0:A.status)??(I==null?void 0:I.status),Z=yN(W??void 0),ne=(y==null?void 0:y.verification_valid_until)??(A==null?void 0:A.verification_valid_until)??(A==null?void 0:A.renewal_date)??null,oe=Jn(ne)??null,de=(y==null?void 0:y.verification_rating)??(A==null?void 0:A.badge_rating)??(y==null?void 0:y.badge_rating)??((bi=r==null?void 0:r.plan)==null?void 0:bi.rating)??null,Ce=(A==null?void 0:A.tier)??(I==null?void 0:I.tier)??(y==null?void 0:y.membership_tier)??null;let Se=null;if((I==null?void 0:I.unit_amount_cents)!==null&&(I==null?void 0:I.unit_amount_cents)!==void 0){const he=I.unit_amount_cents/100,dt=bN(he);if(dt){const pt=(vi=I.billing_cycle)==null?void 0:vi.toLowerCase();pt!=null&&pt.includes("year")?Se=`${dt}/year`:pt!=null&&pt.includes("month")?Se=`${dt}/month`:pt?Se=`${dt}/${pt}`:Se=dt}}const ze=Jn((I==null?void 0:I.current_period_end)??(y==null?void 0:y.next_billing_date)??null)??null,kt=(y==null?void 0:y.profile_views_value)??(y==null?void 0:y.profile_views)??null,Ct=(y==null?void 0:y.profile_views_period)??"Last 30 days",vt=(y==null?void 0:y.badge_clicks_value)??(y==null?void 0:y.badge_clicks)??null,xa=(y==null?void 0:y.badge_clicks_period)??"Last 30 days",Ns=Ip((A==null?void 0:A.benefits)??(y==null?void 0:y.benefits)),sr=(A==null?void 0:A.benefits_description)??(y==null?void 0:y.benefits_description)??null,jo=((r==null?void 0:r.benefits)??[]).map(he=>({name:he.title,progress:he.quota!==void 0&&he.used!==void 0?`${he.used} of ${he.quota} used`:he.status??he.nextDate??(he.isIncluded?"Included":null),Icon:td(he.icon)})),pi=Ns&&Ns.length>0?Ns.map(he=>({name:he.name??"Benefit",progress:he.progress??null,Icon:td(he.icon??void 0)})):jo,Pa=[];(Ip(y==null?void 0:y.activity_log)??[]).forEach(he=>{const dt=he.timestamp??null;Pa.push({description:he.description??"Account activity",timestamp:he.timestamp?ed(he.timestamp):"Recently",Icon:td(he.icon??void 0),createdAt:dt})}),te.forEach(he=>{Pa.push({description:`${he.service}: ${he.title}`,timestamp:he.createdAt?ed(he.createdAt):"Recently",Icon:ho(he.service),createdAt:he.createdAt})}),J.forEach(he=>{if(!he.rawTimestamp)return;const dt=he.status==="approved"?"approved":he.status==="underReview"?"submitted for review":"needs attention",pt=he.status==="approved"?Wt:he.status==="underReview"?fi:ga;Pa.push({description:`${he.name} ${dt}`,timestamp:ed(he.rawTimestamp),Icon:pt,createdAt:he.rawTimestamp})});const nr=Pa.sort((he,dt)=>{const pt=he.createdAt?new Date(he.createdAt).getTime():0;return(dt.createdAt?new Date(dt.createdAt).getTime():0)-pt}).slice(0,5).map(({createdAt:he,...dt})=>dt);return{status:Z,verificationValidUntil:oe,verificationRating:de,stats:{profileViewsValue:kt,profileViewsPeriod:Ct,badgeClicksValue:vt,badgeClicksPeriod:xa,planName:Ce,planPrice:Se,nextRenewal:ze},benefits:{description:sr,items:pi},activityLog:nr}},[y,A,I,J,te,r]),ae=J.some(W=>["notUploaded","needsReplacement","rejected"].includes(W.status)),me=()=>{switch(o){case"overview":return a.jsx(CN,{data:ee,onNavigate:c,onNewRequest:()=>_(!0)});case"my-requests":return a.jsx(AN,{onNewRequest:()=>_(!0),showToast:Q,refreshKey:v});case"profile":return a.jsx(TN,{showToast:Q});case"badge":return a.jsx(RN,{onNavigate:c,showToast:Q});case"documents":return a.jsx(DN,{documents:J,onNavigate:c,onRefreshDocuments:H});case"benefits":return a.jsx(LN,{showToast:Q});case"billing":return a.jsx(qN,{showToast:Q});case"community":return a.jsx(PN,{onNavigate:c});case"blueprint":return a.jsx(fN,{onNavigate:c});case"settings":return a.jsx(VN,{showToast:Q,onNavigate:c});default:return null}},je=a.jsxs(a.Fragment,{children:[a.jsx(fa,{icon:a.jsx(vx,{className:"w-6 h-6"}),label:"Overview",isActive:o==="overview",onClick:()=>O("overview")}),a.jsx(fa,{icon:a.jsx(_x,{className:"w-6 h-6"}),label:"My Requests",isActive:o==="my-requests",onClick:()=>O("my-requests")}),a.jsx(fa,{icon:a.jsx(li,{className:"w-6 h-6"}),label:"Profile",isActive:o==="profile",onClick:()=>O("profile")}),a.jsx(fa,{icon:a.jsx(go,{className:"w-6 h-6"}),label:"Badge",isActive:o==="badge",onClick:()=>O("badge")}),a.jsx(fa,{icon:a.jsx(Ew,{className:"w-6 h-6"}),label:"Documents",isActive:o==="documents",onClick:()=>O("documents"),attention:ae}),a.jsx(fa,{icon:a.jsx(bo,{className:"w-6 h-6"}),label:"Benefits",isActive:o==="benefits",onClick:()=>O("benefits")}),a.jsx(fa,{icon:a.jsx(Kn,{className:"w-6 h-6"}),label:"Billing",isActive:o==="billing",onClick:()=>O("billing")}),a.jsx(fa,{icon:a.jsx(vs,{className:"w-6 h-6"}),label:"Community",isActive:o==="community",onClick:()=>O("community")}),a.jsx(fa,{icon:a.jsx(Dd,{className:"w-6 h-6"}),label:"99 Steps Blueprint",isActive:o==="blueprint",onClick:()=>O("blueprint")}),a.jsx(fa,{icon:a.jsx(wx,{className:"w-6 h-6"}),label:"Settings",isActive:o==="settings",onClick:()=>O("settings")})]});return a.jsxs("div",{className:"flex h-screen bg-[var(--bg-main)] text-[var(--text-main)] font-inter",children:[b&&a.jsx("div",{className:`fixed top-20 right-8 z-[100] py-3 px-5 rounded-lg shadow-lg text-white animate-slide-in-right ${b.type==="success"?"bg-success":"bg-error"}`,children:b.message}),j&&a.jsx(QN,{onClose:()=>_(!1),showToast:Q,onCreated:()=>E(W=>W+1)}),a.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity md:hidden ${u?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>h(!1)}),a.jsxs("aside",{className:`fixed md:relative top-0 left-0 h-full z-50 w-64 bg-[var(--bg-card)] border-r border-[var(--border-subtle)] flex flex-col transition-transform duration-300 ease-in-out ${u?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[a.jsxs("div",{className:"px-6 py-4 flex items-center border-b border-[var(--border-subtle)] h-16 shrink-0",children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/Restorationexpertise_ig_profilepic_2_small.webp",alt:"Logo",className:"w-8 h-8 mr-2"}),a.jsx("h1",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:"Member Hub"})]}),a.jsx("nav",{className:"flex-grow p-4 space-y-1 overflow-y-auto",children:je}),a.jsxs("div",{className:"p-4 border-t border-[var(--border-subtle)] space-y-4",children:[a.jsx(co,{variant:"row"}),a.jsxs("button",{onClick:()=>void s(),className:"flex items-center w-full px-4 py-3 rounded-lg text-left text-[var(--text-muted)] hover:bg-red-500/10 hover:text-error transition-colors",children:[a.jsx(yx,{className:"w-6 h-6"}),a.jsx("span",{className:"ml-3 font-semibold",children:"Logout"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-[var(--bg-card)] shadow-sm border-b border-[var(--border-subtle)] h-16 flex items-center justify-between px-4 md:px-6 shrink-0",children:[a.jsx("button",{onClick:()=>h(!0),className:"text-[var(--text-main)] md:hidden",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("h1",{className:"font-playfair text-xl md:text-2xl font-bold text-[var(--text-main)]",children:GN[o]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(co,{variant:"icon"}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs("button",{onClick:()=>m(!g),className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-9 h-9 bg-[var(--accent-bg-subtle)] rounded-full flex items-center justify-center",children:a.jsx(li,{className:"w-6 h-6 text-[var(--accent-dark)]"})}),a.jsx("span",{className:"hidden sm:inline font-semibold text-sm",children:r==null?void 0:r.name})]}),g&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-[var(--bg-card)] rounded-lg shadow-xl border border-[var(--border-subtle)] z-50 animate-fade-in",children:[a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"View Public Profile"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"Account Settings"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"Billing"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"Help & Support"}),a.jsx("div",{className:"border-t border-[var(--border-subtle)] my-1"}),a.jsx("button",{onClick:()=>void s(),className:"w-full text-left px-4 py-2 text-sm text-error hover:bg-[var(--bg-subtle)]",children:"Logout"})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:a.jsxs("div",{className:"relative max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[B&&a.jsx("div",{className:"mb-6 rounded-xl border border-error/20 bg-error/10 px-4 py-3 text-error font-semibold",children:B}),me(),se&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center rounded-2xl bg-[var(--bg-main)]/70 backdrop-blur-sm",children:a.jsx("div",{className:"rounded-xl border border-[var(--border-subtle)] bg-[var(--bg-card)] px-6 py-4 text-[var(--text-main)] font-semibold shadow-lg",children:"Loading your dashboard..."})})]})})]})]})},KN=({request:r,activities:s,onClose:i})=>{const o=ho(r.requestType),[c,u]=S.useState(!0);return a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:i,children:a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-3xl md:max-h-[90vh] flex flex-col h-full md:h-auto",onClick:h=>h.stopPropagation(),children:[a.jsxs("header",{className:"p-6 border-b border-[var(--border-subtle)] flex justify-between items-start gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-[var(--text-muted)] mb-2",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-[var(--bg-subtle)] font-semibold text-[var(--text-main)]",children:[a.jsx(o,{className:"w-4 h-4 text-[var(--text-muted)]"}),r.requestType]}),a.jsx("span",{children:""}),a.jsx("span",{children:r.id})]}),a.jsx("h2",{className:"font-playfair text-2xl md:text-3xl font-bold text-[var(--text-main)]",children:r.title}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)] mt-2",children:["Created ",Wl(r.createdAt)??"",r.updatedAt?`  Updated ${Wl(r.updatedAt)??""}`:""]})]}),a.jsx("button",{onClick:i,className:"text-[var(--text-muted)] hover:text-[var(--text-main)]",children:a.jsx(gt,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto flex-grow space-y-8",children:[a.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 mt-2 text-xs font-bold rounded-full ${Vn[r.status]}`,children:xs[r.status]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Priority"}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 mt-2 text-xs font-semibold rounded-full ${Nd[r.priority]}`,children:uo[r.priority]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Assigned Admin"}),a.jsx("p",{className:"text-[var(--text-main)] font-medium mt-1",children:r.assignedAdminName??r.assignedAdminId??"Unassigned"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Admin Notes"}),a.jsx("p",{className:"text-[var(--text-main)] mt-2 whitespace-pre-wrap",children:r.adminNotes??"No notes added yet."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Profile ID"}),a.jsx("p",{className:"text-[var(--text-main)] mt-2 font-mono text-sm",children:r.profileId})]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"font-semibold text-[var(--text-main)] mb-2",children:"Description"}),a.jsx("p",{className:"text-[var(--text-muted)] whitespace-pre-wrap bg-[var(--bg-subtle)] border border-[var(--border-subtle)] rounded-lg p-4",children:r.description||"No description was provided with this request."})]}),a.jsxs("section",{className:"border border-[var(--border-subtle)] rounded-xl overflow-hidden",children:[a.jsxs("button",{type:"button",onClick:()=>u(h=>!h),className:"w-full flex items-center justify-between px-4 py-3 bg-[var(--bg-subtle)] text-[var(--text-main)] font-semibold",children:[a.jsxs("span",{children:["Activity (",s.length,")"]}),a.jsx(Js,{className:`w-5 h-5 transition-transform ${c?"rotate-180":""}`})]}),c&&a.jsx("div",{className:"max-h-80 overflow-y-auto",children:s.length===0?a.jsx("p",{className:"px-4 py-6 text-sm text-[var(--text-muted)]",children:"No updates have been recorded yet."}):a.jsx("ul",{className:"divide-y divide-[var(--border-subtle)]",children:s.map(h=>a.jsx("li",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-[var(--text-main)]",children:h.description??h.action??"Activity recorded"}),(h.actorName||h.actorUserId)&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["by ",h.actorName??h.actorUserId]})]}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:Wl(h.createdAt)??""})]})},h.id))})})]})]})]})})},QN=({onClose:r,showToast:s,onCreated:i})=>{const{currentUser:o,session:c}=tt(),[u,h]=S.useState("SEO Blog Post"),[g,m]=S.useState(""),[p,b]=S.useState(""),[w,j]=S.useState("medium"),[_,v]=S.useState(!1),[E,y]=S.useState(null),k={low:"Low",medium:"Medium",high:"High"},A=["SEO Blog Post","Spotlight Article","Website Review","Badge Support","Other"],T=S.useMemo(()=>{if(!(o!=null&&o.benefits))return"";if(u==="SEO Blog Post"){const L=o.benefits.find(J=>J.title==="SEO Blog Posts");if(L&&L.quota!==void 0&&L.used!==void 0)return`You have ${Math.max(L.quota-L.used,0)} of ${L.quota} SEO blog posts remaining this year.`}return u==="Website Review"?"Your plan includes quarterly website reviews.":""},[o==null?void 0:o.benefits,u]),I=async L=>{var J;if(L.preventDefault(),y(null),!((J=c==null?void 0:c.user)!=null&&J.id)){y("You need to be logged in to create a request.");return}if(!g.trim()||!p.trim()){y("Title and description are required.");return}v(!0);try{const{error:z}=await ve.from("service_requests").insert({profile_id:c.user.id,request_type:u,title:g.trim(),description:p.trim(),priority:w,status:"open"});if(z)throw z;s("Request created! Our team will review it within 12 business days.","success"),i(),r()}catch(z){console.error("Failed to create service request",z),s("We could not submit your request. Please try again.","error"),y("Unable to submit the request.")}finally{v(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-[var(--bg-overlay)] flex items-center justify-center z-50 p-4 animate-fade-in",onClick:r,children:a.jsxs("form",{onSubmit:I,className:"bg-[var(--bg-card)] rounded-2xl shadow-2xl w-full max-w-2xl md:max-h-[90vh] flex flex-col h-full md:h-auto",onClick:L=>L.stopPropagation(),children:[a.jsxs("header",{className:"p-6 border-b border-[var(--border-subtle)] flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-playfair text-3xl font-bold text-[var(--text-main)]",children:"New Service Request"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:"Fill out the details below and our team will get started right away."})]}),a.jsx("button",{type:"button",onClick:r,className:"text-[var(--text-muted)] hover:text-[var(--text-main)]",children:a.jsx(gt,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-6 flex-grow overflow-y-auto space-y-6",children:[E&&a.jsx("div",{className:"rounded-lg border border-error/40 bg-error/10 px-4 py-3 text-sm text-error",children:E}),a.jsx("p",{className:"p-3 bg-[var(--bg-subtle)] rounded-lg text-sm text-[var(--text-main)] border border-[var(--border-subtle)]",children:"Requests that are part of your plan (e.g. SEO posts, website reviews) will be counted against your benefits."}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Service Type"}),a.jsx("select",{id:"service-type",value:u,onChange:L=>h(L.target.value),className:"w-full p-3 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:A.map(L=>a.jsx("option",{value:L,children:L},L))}),T&&a.jsx("p",{className:"mt-2 text-sm text-info font-medium",children:T})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"request-title",className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Request Title"}),a.jsx("input",{type:"text",id:"request-title",value:g,onChange:L=>m(L.target.value),placeholder:"e.g., Article on Emergency Fire Restoration",className:"w-full p-3 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)] focus:ring-[var(--accent)] focus:border-[var(--accent)]"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Description / Brief"}),a.jsx("textarea",{id:"description",value:p,onChange:L=>b(L.target.value),rows:5,placeholder:"Please provide as much detail as possible, including any target keywords, desired tone, or specific instructions.",className:"w-full p-3 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)] focus:ring-[var(--accent)] focus:border-[var(--accent)]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Priority"}),a.jsx("select",{id:"priority",value:w,onChange:L=>j(L.target.value),className:"w-full p-3 border border-[var(--border-subtle)] rounded-lg bg-[var(--bg-input)] focus:ring-[var(--accent)] focus:border-[var(--accent)]",children:Object.keys(k).map(L=>a.jsx("option",{value:L,children:k[L]},L))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[var(--text-muted)] mb-1",children:"Attachments (optional)"}),a.jsxs("div",{className:"flex items-center justify-center w-full p-3 border-2 border-dashed border-[var(--border-subtle)] rounded-lg bg-[var(--bg-subtle)] text-[var(--text-muted)]",children:[a.jsx(Qs,{className:"w-6 h-6 mr-2"}),a.jsx("span",{children:"Click or drag to upload files"})]})]})]})]}),a.jsxs("footer",{className:"p-4 bg-[var(--bg-subtle)] border-t border-[var(--border-subtle)] flex flex-col sm:flex-row justify-end items-center gap-4",children:[a.jsx("button",{type:"button",onClick:r,className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--bg-card)] border border-[var(--border-subtle)] rounded-lg font-semibold shadow-sm hover:bg-[var(--bg-subtle)]",disabled:_,children:"Cancel"}),a.jsx("button",{type:"submit",className:"w-full sm:w-auto py-2.5 px-6 bg-[var(--accent)] text-[var(--accent-text)] font-bold rounded-lg shadow-md hover:bg-[var(--accent-light)] disabled:opacity-70 disabled:cursor-not-allowed",disabled:_,children:_?"Submitting...":"Submit Request"})]})]})})},Ql=({title:r,value:s,subtitle:i,icon:o})=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-border group relative cursor-pointer transition-transform hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-dark uppercase",children:r}),a.jsx("p",{className:"font-playfair text-4xl font-bold text-charcoal mt-1",children:s}),a.jsx("p",{className:"text-sm text-text-muted mt-1",children:i})]}),a.jsx("div",{className:"bg-info/10 text-blue-600 p-3 rounded-full",children:o})]}),a.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-charcoal text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Click to view members list filtered by this metric"})]}),FN=({members:r})=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("h2",{className:"font-playfair text-xl font-bold text-charcoal p-6 border-b border-gray-border",children:"Members Needing Attention"}),a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold text-gray-dark",children:"Business"}),a.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold text-gray-dark",children:"Issue"}),a.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold text-gray-dark",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:r.map(s=>a.jsxs("tr",{className:"hover:bg-gray-light/50",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:s.businessName}),a.jsxs("p",{className:"text-sm text-gray-dark",children:[s.tier,"  ",s.badgeRating]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-warning/20 text-yellow-800",children:s.issue})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{className:"p-2 text-gray-dark hover:text-info rounded-full",children:a.jsx(Qn,{className:"w-5 h-5"})})})]},s.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:r.map(s=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:s.businessName}),a.jsxs("p",{className:"text-sm text-gray-dark",children:[s.tier,"  ",s.badgeRating]})]}),a.jsx("button",{className:"p-2 text-gray-dark",children:a.jsx(Qn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-warning/20 text-yellow-800",children:s.issue})})]},s.id))})]}),JN=({requests:r})=>{const s={Open:"bg-gray-200 text-gray-800","In progress":"bg-info/20 text-blue-800"};return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("h2",{className:"font-playfair text-xl font-bold text-charcoal p-6 border-b border-gray-border",children:"Active Service Requests"}),a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold text-gray-dark",children:"Request"}),a.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold text-gray-dark",children:"Assigned"}),a.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold text-gray-dark",children:"Status"}),a.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold text-gray-dark",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:r.map(i=>a.jsxs("tr",{className:"hover:bg-gray-light/50",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:i.businessName}),a.jsxs("p",{className:"text-sm text-gray-dark",children:[i.requestType,"  ",i.date]})]}),a.jsx("td",{className:"p-4 text-sm text-gray-dark",children:i.assignedTo}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${s[i.status]}`,children:i.status})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{className:"p-2 text-gray-dark hover:text-info rounded-full",children:a.jsx(Qn,{className:"w-5 h-5"})})})]},i.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:r.map(i=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:i.businessName}),a.jsx("p",{className:"text-sm text-gray-dark",children:i.requestType})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${s[i.status]}`,children:i.status})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3 text-sm text-gray-dark",children:[a.jsxs("span",{children:[i.date,"  Assigned: ",i.assignedTo]}),a.jsx("button",{className:"font-semibold text-info hover:underline",children:"View "})]})]},i.id))})]})},Hp=()=>{const r=gs.totalMembers-gs.activeMembers,s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(gs.mrr);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"font-playfair text-3xl md:text-4xl font-bold text-charcoal",children:"Overview"}),a.jsx("p",{className:"text-gray-dark mt-1 text-lg",children:"A high-level view of platform activity and health."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[a.jsx(Ql,{title:"Total Members",value:gs.totalMembers.toString(),subtitle:`${gs.activeMembers} active / ${r} inactive`,icon:a.jsx(vs,{className:"w-6 h-6"})}),a.jsx(Ql,{title:"Pending Verifications",value:gs.pendingVerifications.toString(),subtitle:"Docs needing review",icon:a.jsx(bt,{className:"w-6 h-6"})}),a.jsx(Ql,{title:"Open Service Requests",value:gs.openRequests.toString(),subtitle:"Content + support tickets",icon:a.jsx(po,{className:"w-6 h-6"})}),a.jsx(Ql,{title:"Monthly Recurring Revenue",value:s,subtitle:`Churn: ${gs.monthlyChurnRate}% this month`,icon:a.jsx(jx,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(FN,{members:rN}),a.jsx(JN,{requests:iN})]})]})},XN=({member:r,onClose:s,onUpdate:i,showToast:o})=>{var y,k,A,T,I;const[c,u]=S.useState("Overview"),[h,g]=S.useState(!1),[m,p]=S.useState({tier:r.tier,rating:r.rating,status:r.status,renewalDate:r.renewalDate,badgeStatus:((y=r.badge)==null?void 0:y.status)??"NONE",badgeLabel:((k=r.badge)==null?void 0:k.badgeLabel)??"",badgeImageLightUrl:((A=r.badge)==null?void 0:A.imageLightUrl)??"",badgeImageDarkUrl:((T=r.badge)==null?void 0:T.imageDarkUrl)??"",badgeProfileUrl:((I=r.badge)==null?void 0:I.profileUrl)??""}),b=()=>{var L;i({...r,tier:m.tier,rating:m.rating,status:m.status,renewalDate:m.renewalDate,badge:{status:m.badgeStatus,badgeLabel:m.badgeLabel||`${m.tier}  ${m.rating}`,imageLightUrl:m.badgeImageLightUrl,imageDarkUrl:m.badgeImageDarkUrl||void 0,profileUrl:m.badgeProfileUrl||((L=r.badge)==null?void 0:L.profileUrl)||""}}),g(!1)},w=()=>{var L,J,z,te,M;p({tier:r.tier,rating:r.rating,status:r.status,renewalDate:r.renewalDate,badgeStatus:((L=r.badge)==null?void 0:L.status)??"NONE",badgeLabel:((J=r.badge)==null?void 0:J.badgeLabel)??"",badgeImageLightUrl:((z=r.badge)==null?void 0:z.imageLightUrl)??"",badgeImageDarkUrl:((te=r.badge)==null?void 0:te.imageDarkUrl)??"",badgeProfileUrl:((M=r.badge)==null?void 0:M.profileUrl)??""}),g(!1)},j={Active:"bg-success/20 text-success",Suspended:"bg-error/20 text-error",Pending:"bg-info/20 text-info",Canceled:"bg-gray-200 text-gray-800"},_=({label:L})=>a.jsx("button",{onClick:()=>u(L),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${c===L?"bg-info/10 text-info":"text-gray-dark hover:bg-gray-light"}`,children:L}),v=({label:L,value:J})=>a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-dark",children:L}),a.jsx("span",{className:"text-sm font-semibold text-charcoal text-right",children:J})]}),E=()=>{switch(c){case"Verification":return a.jsxs("div",{className:"space-y-3",children:[r.documents.map(L=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-light/60 rounded-lg",children:[a.jsx("span",{className:"font-semibold",children:L.name}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${L.status==="Approved"?"bg-success/20 text-success":L.status==="Pending"?"bg-info/20 text-info":"bg-error/20 text-error"}`,children:L.status})]},L.name)),a.jsx("button",{className:"w-full mt-4 text-center py-2 bg-white border border-gray-border text-charcoal font-semibold rounded-lg hover:bg-gray-light",children:"Open in Verifications"})]});case"Billing":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(v,{label:"Stripe Customer ID",value:a.jsx("code",{children:r.billingInfo.stripeId})}),a.jsx(v,{label:"Current Plan",value:r.billingInfo.plan}),a.jsx(v,{label:"MRR",value:`$${r.mrr}`}),a.jsx(v,{label:"Last Payment",value:r.billingInfo.lastPayment})]});case"Activity":return a.jsx("ul",{className:"space-y-3",children:r.activityLog.map((L,J)=>a.jsxs("li",{className:"flex items-start text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-info rounded-full mt-1.5 mr-3 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:L.event}),a.jsx("p",{className:"text-gray-dark",children:L.date})]})]},J))});case"Overview":default:return a.jsxs("div",{className:"space-y-2",children:[a.jsx(v,{label:"Email",value:r.email}),a.jsx(v,{label:"Location",value:r.city}),a.jsx(v,{label:"Joined On",value:r.joinDate}),a.jsx(v,{label:"Profile Views",value:r.stats.profileViews.toLocaleString()}),a.jsx(v,{label:"Badge Clicks",value:r.stats.badgeClicks.toLocaleString()}),r.badge&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-border",children:[a.jsx(v,{label:"Badge Status",value:r.badge.status}),a.jsx(v,{label:"Badge Label",value:r.badge.badgeLabel})]})})]})}};return a.jsxs("div",{className:"fixed inset-0 z-40",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 animate-fade-in",onClick:s}),a.jsxs("div",{className:"absolute inset-y-0 right-0 w-full max-w-md md:max-w-sm lg:max-w-md bg-white shadow-2xl flex flex-col animate-slide-in-right",children:[a.jsx("div",{className:"p-4 border-b border-gray-border shrink-0",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:r.businessName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${j[m.status]}`,children:m.status}),a.jsx("span",{className:"text-sm font-semibold text-gray-dark",children:m.tier}),a.jsx("span",{className:"text-sm font-semibold text-gray-dark",children:m.rating})]})]}),a.jsx("button",{onClick:s,className:"p-1 text-gray-dark hover:text-charcoal",children:a.jsx(gt,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:h?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-gray-light rounded-lg border border-gray-border space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Tier"}),a.jsxs("select",{value:m.tier,onChange:L=>p({...m,tier:L.target.value}),className:"w-full mt-1 p-2 border rounded-md",children:[a.jsx("option",{children:"Bronze"}),a.jsx("option",{children:"Silver"}),a.jsx("option",{children:"Gold"}),a.jsx("option",{children:"Founding Member"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Badge Rating"}),a.jsxs("select",{value:m.rating,onChange:L=>p({...m,rating:L.target.value}),className:"w-full mt-1 p-2 border rounded-md",children:[a.jsx("option",{children:"A+"}),a.jsx("option",{children:"A"}),a.jsx("option",{children:"B+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Status"}),a.jsxs("select",{value:m.status,onChange:L=>p({...m,status:L.target.value}),className:"w-full mt-1 p-2 border rounded-md",children:[a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Pending"}),a.jsx("option",{children:"Suspended"}),a.jsx("option",{children:"Canceled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Renewal Date"}),a.jsx("input",{type:"date",value:m.renewalDate,onChange:L=>p({...m,renewalDate:L.target.value}),className:"w-full mt-1 p-2 border rounded-md"})]})]}),a.jsxs("div",{className:"p-4 bg-gray-light rounded-lg border border-gray-border space-y-4",children:[a.jsx("h3",{className:"font-bold text-charcoal -mb-2",children:"Badge Settings"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Badge Status"}),a.jsxs("select",{value:m.badgeStatus,onChange:L=>p({...m,badgeStatus:L.target.value}),className:"w-full mt-1 p-2 border rounded-md",children:[a.jsx("option",{children:"NONE"}),a.jsx("option",{children:"PENDING"}),a.jsx("option",{children:"ACTIVE"}),a.jsx("option",{children:"REVOKED"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Badge Label"}),a.jsx("input",{type:"text",value:m.badgeLabel,onChange:L=>p({...m,badgeLabel:L.target.value}),placeholder:`${m.tier}  ${m.rating}`,className:"w-full mt-1 p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Image URL (Light)"}),a.jsx("input",{type:"text",value:m.badgeImageLightUrl,onChange:L=>p({...m,badgeImageLightUrl:L.target.value}),placeholder:"https:///badge-light.svg",className:"w-full mt-1 p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Image URL (Dark)"}),a.jsx("input",{type:"text",value:m.badgeImageDarkUrl,onChange:L=>p({...m,badgeImageDarkUrl:L.target.value}),placeholder:"https:///badge-dark.svg",className:"w-full mt-1 p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Profile URL"}),a.jsx("input",{type:"text",value:m.badgeProfileUrl,onChange:L=>p({...m,badgeProfileUrl:L.target.value}),placeholder:`https://restorationexpertise.com/profile/${r.businessName.toLowerCase().replace(/ /g,"-")}`,className:"w-full mt-1 p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Preview"}),a.jsx("div",{className:"mt-1 p-4 border border-dashed border-gray-border rounded-lg flex items-center justify-center min-h-[100px] bg-white",children:m.badgeImageLightUrl?a.jsx("img",{src:m.badgeImageLightUrl,alt:"Badge Preview",className:"max-w-full h-auto max-h-24"}):a.jsx("p",{className:"text-gray-dark text-sm",children:"No image URL set"})})]})]}),a.jsx("p",{className:"text-xs text-center text-gray-dark pt-2",children:"In production, these changes will sync to Stripe and the member portal."})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-center p-1 bg-gray-light rounded-lg mb-4",children:[a.jsx(_,{label:"Overview"}),a.jsx(_,{label:"Verification"}),a.jsx(_,{label:"Billing"}),a.jsx(_,{label:"Activity"})]}),a.jsx("div",{className:"p-2",children:E()})]})}),a.jsx("div",{className:"p-4 border-t border-gray-border shrink-0",children:h?a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:w,className:"py-2 px-4 bg-white border border-gray-border rounded-lg font-semibold shadow-sm",children:"Cancel"}),a.jsx("button",{onClick:b,className:"py-2 px-4 bg-gold text-charcoal font-bold rounded-lg shadow-md",children:"Save Changes"})]}):a.jsxs("button",{onClick:()=>g(!0),className:"w-full py-2.5 bg-info/10 text-info font-bold rounded-lg flex items-center justify-center gap-2",children:[a.jsx(ma,{className:"w-5 h-5"})," Edit Member"]})})]})]})},WN=({isOpen:r,onClose:s,memberName:i})=>r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 relative animate-slide-up",onClick:o=>o.stopPropagation(),children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-dark hover:text-charcoal",children:a.jsx(gt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:"Impersonate Member"}),a.jsxs("p",{className:"text-gray-dark mt-2",children:["You are about to impersonate ",a.jsx("strong",{className:"text-charcoal",children:i}),"."]}),a.jsx("p",{className:"text-sm bg-gray-light p-3 rounded-lg mt-4 text-left",children:"Impersonation will let admins view the Member Hub exactly as this business sees it. This is useful for troubleshooting issues with their account, benefits, or billing display."})]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx("button",{onClick:s,className:"py-2 px-5 bg-white border border-gray-border font-semibold rounded-lg shadow-sm order-2 sm:order-1",children:"Close"}),a.jsx("button",{disabled:!0,className:"py-2 px-5 bg-info text-white font-bold rounded-lg shadow-md disabled:opacity-50 disabled:cursor-not-allowed order-1 sm:order-2",children:"Start Impersonation (Disabled)"})]})]})}):null,ZN=({showToast:r})=>{const[s,i]=S.useState(bd),[o,c]=S.useState(""),[u,h]=S.useState({tier:"All",status:"All",rating:"All"}),[g,m]=S.useState({key:"joinDate",direction:"descending"}),[p,b]=S.useState(null),[w,j]=S.useState(!1),[_,v]=S.useState(""),E=z=>{const{name:te,value:M}=z.target;h(se=>({...se,[te]:M}))},y=z=>{let te="ascending";g.key===z&&g.direction==="ascending"&&(te="descending"),m({key:z,direction:te})},k=z=>{i(te=>te.map(M=>M.id===z.id?z:M)),b(z),r("Member updated successfully.","success")},A=z=>{v(z.businessName),j(!0)},T=S.useMemo(()=>{let z=[...s];return z=z.filter(te=>{const M=te.businessName.toLowerCase().includes(o.toLowerCase())||te.email.toLowerCase().includes(o.toLowerCase()),se=u.tier==="All"||te.tier===u.tier,ce=u.status==="All"||te.status===u.status,B=u.rating==="All"||te.rating===u.rating;return M&&se&&ce&&B}),g.key&&z.sort((te,M)=>{const se=te[g.key],ce=M[g.key];return se<ce?g.direction==="ascending"?-1:1:se>ce?g.direction==="ascending"?1:-1:0}),z},[s,o,u,g]),I={Active:"bg-success/20 text-success",Suspended:"bg-error/20 text-error",Pending:"bg-info/20 text-info",Canceled:"bg-gray-200 text-gray-800"},L={Bronze:"bg-yellow-700/20 text-yellow-800",Silver:"bg-gray-300/60 text-gray-800",Gold:"bg-gold/20 text-gold-dark","Founding Member":"bg-charcoal/80 text-white",Platinum:"bg-blue-900/20 text-blue-900"},J=({sortKey:z,label:te})=>{const M=g.key===z,se=g.direction==="ascending"?"":"";return a.jsxs("th",{onClick:()=>y(z),className:"px-4 py-3 text-left text-xs font-bold text-charcoal uppercase tracking-wider cursor-pointer",children:[te," ",M&&a.jsx("span",{className:"text-info",children:se})]})};return a.jsxs(a.Fragment,{children:[p&&a.jsx(XN,{member:p,onClose:()=>b(null),onUpdate:k,showToast:r}),a.jsx(WN,{isOpen:w,onClose:()=>j(!1),memberName:_}),a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-3xl font-bold text-charcoal",children:"Members"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Manage all member accounts, view details, and perform admin actions."})]})}),a.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-border mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(er,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray"}),a.jsx("input",{type:"text",placeholder:"Search by name or email...",value:o,onChange:z=>c(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-border rounded-lg bg-gray-light/50 focus:ring-info focus:border-info"})]}),a.jsxs("select",{name:"tier",value:u.tier,onChange:E,className:"w-full p-2 border border-gray-border rounded-lg bg-gray-light/50 focus:ring-info focus:border-info",children:[a.jsx("option",{value:"All",children:"All Tiers"}),a.jsx("option",{children:"Bronze"}),a.jsx("option",{children:"Silver"}),a.jsx("option",{children:"Gold"}),a.jsx("option",{children:"Founding Member"})]}),a.jsxs("select",{name:"status",value:u.status,onChange:E,className:"w-full p-2 border border-gray-border rounded-lg bg-gray-light/50 focus:ring-info focus:border-info",children:[a.jsx("option",{value:"All",children:"All Statuses"}),a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Pending"}),a.jsx("option",{children:"Suspended"}),a.jsx("option",{children:"Canceled"})]}),a.jsxs("select",{name:"rating",value:u.rating,onChange:E,className:"w-full p-2 border border-gray-border rounded-lg bg-gray-light/50 focus:ring-info focus:border-info",children:[a.jsx("option",{value:"All",children:"All Ratings"}),a.jsx("option",{children:"A+"}),a.jsx("option",{children:"A"}),a.jsx("option",{children:"B+"})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden hidden md:block",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-border",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx(J,{sortKey:"businessName",label:"Business"}),a.jsx(J,{sortKey:"tier",label:"Tier"}),a.jsx(J,{sortKey:"rating",label:"Rating"}),a.jsx(J,{sortKey:"status",label:"Status"}),a.jsx(J,{sortKey:"mrr",label:"MRR"}),a.jsx(J,{sortKey:"renewalDate",label:"Renewal"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-charcoal uppercase tracking-wider",children:"Pending"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-charcoal uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:T.map(z=>a.jsxs("tr",{className:"hover:bg-gray-light/50",children:[a.jsxs("td",{className:"p-4 whitespace-nowrap",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:z.businessName}),a.jsx("p",{className:"text-sm text-gray-dark",children:z.city})]}),a.jsx("td",{className:"p-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${L[z.tier]}`,children:z.tier})}),a.jsx("td",{className:"p-4 whitespace-nowrap font-semibold",children:z.rating}),a.jsx("td",{className:"p-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${I[z.status]}`,children:z.status})}),a.jsxs("td",{className:"p-4 whitespace-nowrap",children:["$",z.mrr.toLocaleString()]}),a.jsx("td",{className:"p-4 whitespace-nowrap text-sm",children:z.renewalDate}),a.jsx("td",{className:"p-4 whitespace-nowrap text-sm",children:z.pendingDocs>0||z.openRequests>0?`${z.pendingDocs} D / ${z.openRequests} R`:""}),a.jsx("td",{className:"p-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx("button",{onClick:()=>b(z),className:"p-2 text-gray-dark hover:text-info rounded-full",title:"View",children:a.jsx(Qn,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>b(z),className:"p-2 text-gray-dark hover:text-info rounded-full",title:"Edit",children:a.jsx(ma,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>A(z),className:"p-2 text-gray-dark hover:text-info rounded-full",title:"Impersonate",children:a.jsx(li,{className:"w-5 h-5"})})]})})]},z.id))})]})})}),a.jsx("div",{className:"md:hidden space-y-4",children:T.map(z=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-border p-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-charcoal",children:z.businessName}),a.jsx("p",{className:"text-sm text-gray-dark",children:z.email}),a.jsx("p",{className:"text-sm text-gray-dark",children:z.city})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${L[z.tier]}`,children:z.tier}),a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${I[z.status]}`,children:z.status})]})]}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-border flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-dark",children:["MRR: ",a.jsxs("span",{className:"font-semibold text-charcoal",children:["$",z.mrr.toLocaleString()]})]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Renews: ",a.jsx("span",{className:"font-semibold text-charcoal",children:z.renewalDate})]})]}),a.jsx("button",{onClick:()=>b(z),className:"py-2 px-4 bg-info/10 text-info font-bold rounded-lg",children:"View"})]})]},z.id))}),T.length===0&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsx("h3",{className:"text-xl font-bold text-charcoal",children:"No members found"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Try adjusting your search or filters."})]})]})]})},Vp=({user:r,onClose:s,onSave:i,title:o,subtext:c})=>{const[u,h]=S.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",role:(r==null?void 0:r.role)||"Support"}),g=u.name.trim()&&u.email.trim()&&u.email.includes("@"),m=p=>{p.preventDefault(),g&&i(r?{...r,name:u.name,role:u.role}:u)};return a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 relative animate-slide-up",onClick:p=>p.stopPropagation(),children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-dark hover:text-charcoal",children:a.jsx(gt,{className:"w-6 h-6"})}),a.jsx("h2",{className:"font-playfair text-2xl font-bold text-charcoal mb-2",children:o}),c&&a.jsx("p",{className:"text-sm text-gray-dark mb-4",children:c}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Full Name"}),a.jsx("input",{type:"text",value:u.name,onChange:p=>h({...u,name:p.target.value}),className:"mt-1 block w-full p-2 border border-gray-border rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Email"}),a.jsx("input",{type:"email",value:u.email,onChange:p=>h({...u,email:p.target.value}),className:"mt-1 block w-full p-2 border border-gray-border rounded-lg",required:!0,disabled:!!r})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-dark",children:"Role"}),a.jsxs("select",{value:u.role,onChange:p=>h({...u,role:p.target.value}),className:"mt-1 block w-full p-2 border border-gray-border rounded-lg",children:[a.jsx("option",{children:"Superadmin"}),a.jsx("option",{children:"Operations"}),a.jsx("option",{children:"Support"}),a.jsx("option",{children:"Content"}),a.jsx("option",{children:"ReadOnly"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:s,className:"py-2 px-4 bg-gray-light border border-gray-border rounded-lg font-semibold",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:!g,className:"py-2 px-4 bg-gold text-charcoal font-bold rounded-lg disabled:opacity-50",children:"Save"})]})]})]})})},e1=({users:r,onInvite:s,onEdit:i,onToggleStatus:o,showToast:c})=>{const u={Active:"bg-success/20 text-success",Suspended:"bg-gray-200 text-gray-800"};return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsxs("div",{className:"p-4 md:p-6 flex justify-between items-center border-b border-gray-border",children:[a.jsx("h2",{className:"font-playfair text-xl font-bold text-charcoal",children:"Admin Users"}),a.jsx("button",{onClick:s,className:"py-2 px-4 bg-gold text-charcoal font-bold rounded-lg shadow-sm text-sm",children:"Invite Admin"})]}),a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsx("tr",{children:["Name","Role","Status","Last Login","Actions"].map(h=>a.jsx("th",{className:"p-4 text-left text-xs font-bold text-charcoal uppercase",children:h},h))})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:r.map(h=>a.jsxs("tr",{children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:h.name}),a.jsx("p",{className:"text-sm text-gray-dark",children:h.email})]}),a.jsx("td",{className:"p-4 text-sm",children:h.role}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${u[h.status]}`,children:h.status})}),a.jsx("td",{className:"p-4 text-sm",children:h.lastLogin}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>i(h),className:"p-2 text-gray-dark hover:text-info rounded-full",children:a.jsx(ma,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>o(h),className:"text-sm font-semibold text-gray-dark hover:underline",children:h.status==="Active"?"Suspend":"Activate"}),a.jsx("button",{onClick:()=>c("Login reset email would be sent in production.","success"),className:"p-2 text-gray-dark hover:text-info rounded-full",children:a.jsx(Nx,{className:"w-5 h-5"})})]})})]},h.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:r.map(h=>a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"font-bold text-charcoal",children:h.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${u[h.status]}`,children:h.status})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"text-gray-dark",children:h.email}),a.jsx("p",{className:"font-semibold",children:h.role})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("p",{className:"text-gray-dark",children:["Last login: ",h.lastLogin]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>i(h),className:"py-1 px-3 bg-info/10 text-info font-bold rounded-md",children:"Edit"}),a.jsx("button",{onClick:()=>o(h),className:"py-1 px-3 bg-gray-200 font-semibold rounded-md",children:h.status==="Active"?"Suspend":"Activate"})]})]})]},h.id))})]})},t1=()=>{const r={"View Members":{Superadmin:!0,Operations:!0,Support:!0,Content:!0,ReadOnly:!0},"Edit Members":{Superadmin:!0,Operations:!0,Support:!0,Content:!1,ReadOnly:!1},"Manage Verifications":{Superadmin:!0,Operations:!0,Support:!0,Content:!1,ReadOnly:!0},"Manage Service Requests":{Superadmin:!0,Operations:!0,Support:!0,Content:!0,ReadOnly:!0},"Manage Billing":{Superadmin:!0,Operations:!0,Support:!1,Content:!1,ReadOnly:!0},"Manage Admin Users":{Superadmin:!0,Operations:!1,Support:!1,Content:!1,ReadOnly:!1}},s=["Superadmin","Operations","Support","Content","ReadOnly"];return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsx("div",{className:"p-4 md:p-6 border-b border-gray-border",children:a.jsx("h2",{className:"font-playfair text-xl font-bold text-charcoal",children:"Roles & Permissions"})}),a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-xs font-bold text-charcoal uppercase",children:"Capability"}),s.map(i=>a.jsx("th",{className:"p-3 text-center text-xs font-bold text-charcoal uppercase",children:i},i))]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:Object.entries(r).map(([i,o])=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3 font-semibold text-charcoal",children:i}),s.map(c=>a.jsx("td",{className:"p-3 text-center",children:o[c]&&a.jsx(ii,{className:"w-5 h-5 text-success mx-auto"})},c))]},i))})]})}),a.jsx("div",{className:"md:hidden space-y-6",children:s.map(i=>a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-charcoal border-b border-gray-border pb-1 mb-2",children:i}),a.jsx("ul",{className:"space-y-1",children:Object.entries(r).map(([o,c])=>a.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[c[i]?a.jsx(ii,{className:"w-4 h-4 text-success"}):a.jsx(gt,{className:"w-4 h-4 text-error"}),a.jsx("span",{children:o})]},o))})]},i))})]}),a.jsx("div",{className:"p-4 bg-gray-light/50 text-sm text-gray-dark rounded-b-2xl",children:"Permissions are static in this demo. In production, this matrix will drive access control for admin users."})]})},a1=({showToast:r})=>{const[s,i]=S.useState(cN),[o,c]=S.useState(!1),[u,h]=S.useState(!1),[g,m]=S.useState(null),p=_=>{const v={..._,id:`admin_${Date.now()}`,status:"Active",lastLogin:"-"};i(E=>[v,...E]),r("Admin invited (demo).","success"),c(!1)},b=_=>{i(v=>v.map(E=>E.id===_.id?_:E)),r("Admin user updated.","success"),h(!1),m(null)},w=_=>{const v=_.status==="Active"?"Suspended":"Active",E={..._,status:v};i(y=>y.map(k=>k.id===E.id?E:k)),r(`User ${v.toLowerCase()}.`,"success")},j=_=>{m(_),h(!0)};return a.jsxs(a.Fragment,{children:[o&&a.jsx(Vp,{onClose:()=>c(!1),onSave:p,title:"Invite Admin",subtext:"Invite will send an email in the live version. For now we just add them to the list."}),u&&g&&a.jsx(Vp,{user:g,onClose:()=>{h(!1),m(null)},onSave:b,title:"Edit Admin User"}),a.jsx("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"font-playfair text-3xl font-bold text-charcoal",children:"Admin Settings"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Manage admin users, roles, and access to the Restoration Expertise admin tools."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(e1,{users:s,onInvite:()=>c(!0),onEdit:j,onToggleStatus:w,showToast:r}),a.jsx(t1,{})]})]})})]})},Gp=r=>{if(!r)return"";const s=new Date(r);return Number.isNaN(s.getTime())?r:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(s)},s1=r=>{if(!r)return"";const s=new Date(r);return Number.isNaN(s.getTime())?r:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(s)},n1=r=>{const s=(r==null?void 0:r.toLowerCase())??"";return s.includes("progress")?"in_progress":s.includes("complete")?"completed":s.includes("cancel")?"canceled":"open"},r1=r=>{const s=(r==null?void 0:r.toLowerCase())??"";return s.includes("high")?"high":s.includes("low")?"low":"medium"},i1=r=>({id:String(r.id),profileId:r.profile_id??"",requestType:r.request_type??"Service Request",title:r.title??"Untitled Request",description:r.description??null,priority:r1(r.priority),status:n1(r.status),adminNotes:r.admin_notes??null,assignedAdminId:r.assigned_admin_id!==null&&r.assigned_admin_id!==void 0?String(r.assigned_admin_id):null,createdAt:r.created_at??new Date().toISOString(),updatedAt:r.updated_at??null}),Yp=r=>({id:String(r.id),serviceRequestId:String(r.service_request_id??""),actorUserId:r.actor_user_id??null,action:r.action??null,description:r.description??null,createdAt:r.created_at??new Date().toISOString(),actorName:r.actor_name??null}),Fl={open:"Open",in_progress:"In Progress",completed:"Completed",canceled:"Canceled"},l1={open:"bg-gray-200 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",canceled:"bg-gray-200 text-gray-500"},ad={low:"Low",medium:"Medium",high:"High"},o1=({showToast:r})=>{const{session:s}=tt(),[i,o]=S.useState([]),[c,u]=S.useState({}),[h,g]=S.useState([]),[m,p]=S.useState(!1),[b,w]=S.useState(null),[j,_]=S.useState({}),[v,E]=S.useState(null),y=["open","in_progress","completed","canceled"],k=["low","medium","high"],A=S.useCallback(async()=>{const{data:B,error:K}=await ve.from("admin_profiles").select("id, user_id, display_name, email").order("display_name",{ascending:!0});return K?(console.error("Failed to load admin profiles",K),[]):B??[]},[]),T=S.useCallback(async()=>{p(!0);try{const[B,K]=await Promise.all([ve.from("service_requests").select("id, profile_id, request_type, title, description, priority, status, admin_notes, assigned_admin_id, created_at, updated_at").in("status",["open","in_progress"]).order("created_at",{ascending:!1}),A()]),{data:H,error:Q}=B;if(Q)throw Q;const O=H??[],ee=new Map(K.map(V=>[String(V.id),V.display_name??V.email??String(V.id)])),ae=new Map(K.filter(V=>!!V.user_id).map(V=>[V.user_id,V.display_name??V.email??V.user_id??"Admin"])),me=O.map(V=>{const W=i1(V);return{...W,assignedAdminName:W.assignedAdminId?ee.get(W.assignedAdminId)??null:null}});o(me),g(K);const je=Array.from(new Set(O.map(V=>V.profile_id).filter(Boolean)));if(je.length>0){const{data:V,error:W}=await ve.from("profiles").select("id, business_name, contact_email").in("id",je);if(W)console.error("Failed to load profile details",W);else{const Z=V??[],ne=new Map(Z.map(oe=>[oe.id,oe]));o(oe=>oe.map(de=>{const Ce=ne.get(de.profileId);return{...de,profileName:(Ce==null?void 0:Ce.business_name)??null,profileEmail:(Ce==null?void 0:Ce.contact_email)??null}}))}}const R=O.map(V=>V.id).filter(V=>V!=null);if(R.length>0){const{data:V,error:W}=await ve.from("service_request_activity").select("*").in("service_request_id",R).order("created_at",{ascending:!1});if(W)console.error("Failed to load service request activities",W),u({});else{const Z=V??[],ne={};Z.forEach(oe=>{const de=Yp(oe);if(de.serviceRequestId){if(!de.actorName&&de.actorUserId){const Ce=ae.get(de.actorUserId);Ce&&(de.actorName=Ce)}ne[de.serviceRequestId]||(ne[de.serviceRequestId]=[]),ne[de.serviceRequestId].push(de)}}),u(ne)}}else u({});w(null)}catch(B){console.error("Failed to load service requests",B),w("Unable to load service requests. Please try again."),o([]),u({})}finally{p(!1)}},[A]);S.useEffect(()=>{T()},[T]);const I=S.useMemo(()=>[{id:"",label:"Unassigned"},...h.map(B=>({id:String(B.id),label:B.display_name??B.email??String(B.id)}))],[h]),L=B=>c[B]??[],J=(B,K)=>{u(H=>{const Q=H[B]??[];return{...H,[B]:[K,...Q]}})},z=async(B,K,H)=>{var Q;if(!((Q=s==null?void 0:s.user)!=null&&Q.id)){r("You must be logged in as an admin to update requests.","error");return}E(B);try{const O={};Object.prototype.hasOwnProperty.call(K,"status")&&(O.status=K.status),Object.prototype.hasOwnProperty.call(K,"priority")&&(O.priority=K.priority),Object.prototype.hasOwnProperty.call(K,"adminNotes")&&(O.admin_notes=K.adminNotes??null),Object.prototype.hasOwnProperty.call(K,"assignedAdminId")&&(O.assigned_admin_id=K.assignedAdminId??null);const{error:ee}=await ve.from("service_requests").update(O).eq("id",B);if(ee)throw ee;let ae=null;const me=h.find(W=>W.user_id===s.user.id);if(me)ae=me.display_name??me.email??null;else{const{data:W,error:Z}=await ve.from("admin_profiles").select("display_name, email").eq("user_id",s.user.id).maybeSingle();if(Z)console.error("Failed to resolve admin display name for activity log",Z);else{const ne=W??null;ne&&(ae=ne.display_name??ne.email??null)}}const{data:je,error:R}=await ve.from("service_request_activity").insert({service_request_id:B,actor_user_id:s.user.id,action:H.action,description:H.description,actor_name:ae}).select("*").single();if(R)throw R;const V=Yp(je);!V.actorName&&V.actorUserId&&ae&&(V.actorName=ae),J(B,V),o(W=>W.map(Z=>Z.id===B?{...Z,...K}:Z)),r("Request updated successfully.","success")}catch(O){console.error("Failed to update request",O),r("Failed to update the request. Please try again.","error")}finally{E(null)}},te=(B,K)=>{B.status!==K&&z(B.id,{status:K},{action:"status_change",description:`Status updated to ${Fl[K]}`})},M=(B,K)=>{B.priority!==K&&z(B.id,{priority:K},{action:"priority_change",description:`Priority updated to ${ad[K]}`})},se=(B,K)=>{if((B.assignedAdminId??"")===K)return;const H=I.find(Q=>Q.id===K);z(B.id,{assignedAdminId:K||null},{action:"assignment_change",description:K?`Assigned to ${(H==null?void 0:H.label)??"admin"}`:"Request unassigned"}),o(Q=>Q.map(O=>O.id===B.id?{...O,assignedAdminId:K||null,assignedAdminName:(H==null?void 0:H.label)??null}:O))},ce=B=>{_(K=>({...K,[B]:!K[B]}))};return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-3xl font-bold text-charcoal",children:"Service Requests"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Manage member submissions and keep track of the latest updates."})]}),a.jsx("button",{onClick:()=>void T(),className:"inline-flex items-center justify-center px-4 py-2 bg-white border border-gray-border rounded-lg text-sm font-semibold text-charcoal shadow-sm hover:bg-gray-50",disabled:m,children:m?"Refreshing":"Refresh"})]}),b&&a.jsx("div",{className:"rounded-lg border border-error/40 bg-error/10 px-4 py-3 text-sm text-error",children:b}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Member"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Request"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Status"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Priority"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Assigned Admin"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Created"}),a.jsx("th",{className:"p-4 text-right text-xs font-bold text-gray-dark uppercase",children:"Activity"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:i.map(B=>a.jsxs("tr",{className:"hover:bg-gray-light/50",children:[a.jsxs("td",{className:"p-4 align-top",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:B.profileName??"Unknown Member"}),a.jsx("p",{className:"text-sm text-gray-dark",children:B.profileEmail??B.profileId})]}),a.jsxs("td",{className:"p-4 align-top",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:B.title}),a.jsx("p",{className:"text-sm text-gray-dark mt-1",children:B.requestType}),a.jsx("p",{className:"text-xs text-gray-dark mt-2 line-clamp-2",children:B.description??"No description provided."})]}),a.jsx("td",{className:"p-4 align-top",children:a.jsx("select",{value:B.status,onChange:K=>te(B,K.target.value),className:"w-full px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:y.map(K=>a.jsx("option",{value:K,children:Fl[K]},K))})}),a.jsx("td",{className:"p-4 align-top",children:a.jsx("select",{value:B.priority,onChange:K=>M(B,K.target.value),className:"w-full px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:k.map(K=>a.jsx("option",{value:K,children:ad[K]},K))})}),a.jsx("td",{className:"p-4 align-top",children:a.jsx("select",{value:B.assignedAdminId??"",onChange:K=>se(B,K.target.value),className:"w-full px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:I.map(K=>a.jsx("option",{value:K.id,children:K.label},K.id))})}),a.jsx("td",{className:"p-4 align-top text-sm text-gray-dark",children:Gp(B.createdAt)}),a.jsx("td",{className:"p-4 align-top text-right",children:a.jsxs("button",{onClick:()=>ce(B.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-info",children:["View activity",a.jsx(Js,{className:`w-4 h-4 transition-transform ${j[B.id]?"rotate-180":""}`})]})})]},B.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:i.map(B=>a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:B.profileName??"Unknown Member"}),a.jsx("p",{className:"text-sm text-gray-dark",children:B.profileEmail??B.profileId})]}),a.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${l1[B.status]}`,children:Fl[B.status]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:B.title}),a.jsx("p",{className:"text-sm text-gray-dark",children:B.requestType}),a.jsx("p",{className:"text-sm text-gray-dark mt-2 line-clamp-3",children:B.description??"No description provided."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx("select",{value:B.status,onChange:K=>te(B,K.target.value),className:"px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:y.map(K=>a.jsx("option",{value:K,children:Fl[K]},K))}),a.jsx("select",{value:B.priority,onChange:K=>M(B,K.target.value),className:"px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:k.map(K=>a.jsx("option",{value:K,children:ad[K]},K))}),a.jsx("select",{value:B.assignedAdminId??"",onChange:K=>se(B,K.target.value),className:"px-2 py-1 border border-gray-border rounded-lg text-sm",disabled:v===B.id,children:I.map(K=>a.jsx("option",{value:K.id,children:K.label},K.id))})]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Created ",Gp(B.createdAt)]}),a.jsxs("button",{onClick:()=>ce(B.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-info",children:["View activity",a.jsx(Js,{className:`w-4 h-4 transition-transform ${j[B.id]?"rotate-180":""}`})]})]},B.id))})]}),i.length===0&&!m&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsx(pa,{className:"w-12 h-12 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-charcoal",children:"No open requests"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"All caught up! New submissions will appear here automatically."})]}),Object.entries(j).filter(([,B])=>B).map(([B])=>{const K=i.find(Q=>Q.id===B);if(!K)return null;const H=L(B);return a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"font-playfair text-2xl font-bold text-charcoal",children:["Activity for ",K.title]}),a.jsx("button",{onClick:()=>ce(B),className:"text-sm font-semibold text-info",children:"Collapse"})]}),H.length===0?a.jsx("p",{className:"text-sm text-gray-dark",children:"No activity has been recorded for this request yet."}):a.jsx("ul",{className:"divide-y divide-gray-border",children:H.map(Q=>a.jsx("li",{className:"py-3 text-sm",children:a.jsxs("div",{className:"flex justify-between items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:Q.description??Q.action??"Activity recorded"}),(Q.actorName||Q.actorUserId)&&a.jsxs("p",{className:"text-xs text-gray-dark mt-1",children:["by ",Q.actorName??Q.actorUserId]})]}),a.jsx("span",{className:"text-xs text-gray-dark",children:s1(Q.createdAt)})]})},Q.id))})]},B)})]})},Kp=r=>{if(!r)return"";const s=new Date(r);return Number.isNaN(s.getTime())?r:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(s)},c1=r=>(r==null?void 0:r.toLowerCase())??"pending",u1=r=>({id:String(r.id),profileId:r.profile_id??"",name:r.document_name??"Document",type:r.doc_type??null,status:c1(r.status),adminNote:r.admin_note??null,uploadedAt:r.uploaded_at??r.created_at??null}),d1=["pending","submitted","under_review"],h1=({showToast:r})=>{const{session:s}=tt(),[i,o]=S.useState([]),[c,u]=S.useState({}),[h,g]=S.useState(!1),[m,p]=S.useState(null),[b,w]=S.useState(null),j=S.useCallback(async()=>{g(!0);try{const{data:y,error:k}=await ve.from("member_documents").select("id, profile_id, document_name, doc_type, status, admin_note, uploaded_at, created_at, updated_at").in("status",d1).order("created_at",{ascending:!1});if(k)throw k;const T=(y??[]).map(u1);o(T),u(()=>{const I={};return T.forEach(L=>{L.adminNote&&(I[L.id]=L.adminNote)}),I}),p(null)}catch(y){console.error("Failed to load documents",y),p("Unable to load pending documents. Please try again."),o([])}finally{g(!1)}},[]);S.useEffect(()=>{j()},[j]);const _=(y,k)=>{u(A=>({...A,[y]:k}))},v=async(y,k)=>{var A;if(!((A=s==null?void 0:s.user)!=null&&A.id)){r("You must be logged in as an admin to update documents.","error");return}w(y.id);try{const{error:T}=await ve.from("member_documents").update({status:k,admin_note:c[y.id]??null}).eq("id",y.id);if(T)throw T;r(`Document ${k==="approved"?"approved":"rejected"} successfully.`,"success"),o(I=>I.filter(L=>L.id!==y.id))}catch(T){console.error("Failed to update document",T),r("Failed to update the document. Please try again.","error")}finally{w(null)}},E=S.useMemo(()=>i.length,[i]);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-3xl font-bold text-charcoal",children:"Documents Awaiting Review"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Approve or reject the latest verification uploads from members."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-info/10 text-info text-sm font-semibold",children:["Pending: ",E]}),a.jsx("button",{onClick:()=>void j(),className:"px-4 py-2 bg-white border border-gray-border rounded-lg text-sm font-semibold text-charcoal shadow-sm hover:bg-gray-50",disabled:h,children:h?"Refreshing":"Refresh"})]})]}),m&&a.jsx("div",{className:"rounded-lg border border-error/40 bg-error/10 px-4 py-3 text-sm text-error",children:m}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Member"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Document"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Uploaded"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Notes"}),a.jsx("th",{className:"p-4 text-right text-xs font-bold text-gray-dark uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:i.map(y=>a.jsxs("tr",{className:"align-top",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:y.profileId}),a.jsx("p",{className:"text-sm text-gray-dark uppercase tracking-wide",children:y.status})]}),a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:y.name}),a.jsx("p",{className:"text-sm text-gray-dark",children:y.type??""})]}),a.jsx("td",{className:"p-4 text-sm text-gray-dark",children:Kp(y.uploadedAt)}),a.jsx("td",{className:"p-4",children:a.jsx("textarea",{value:c[y.id]??"",onChange:k=>_(y.id,k.target.value),rows:3,className:"w-full border border-gray-border rounded-lg text-sm p-2 focus:outline-none focus:ring-2 focus:ring-info",placeholder:"Add an internal note"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>v(y,"approved"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-success/90 text-white text-sm font-semibold shadow-sm hover:bg-success",disabled:b===y.id,children:[a.jsx(Wt,{className:"w-4 h-4"})," Approve"]}),a.jsxs("button",{type:"button",onClick:()=>v(y,"rejected"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-error/90 text-white text-sm font-semibold shadow-sm hover:bg-error",disabled:b===y.id,children:[a.jsx(gt,{className:"w-4 h-4"})," Reject"]})]})})]},y.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:i.map(y=>a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:y.name}),a.jsx("p",{className:"text-sm text-gray-dark",children:y.type??""})]}),a.jsx("span",{className:"px-3 py-1 text-xs font-bold rounded-full bg-gray-light text-gray-dark uppercase",children:y.status})]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Profile: ",y.profileId]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Uploaded ",Kp(y.uploadedAt)]}),a.jsx("textarea",{value:c[y.id]??"",onChange:k=>_(y.id,k.target.value),rows:3,className:"w-full border border-gray-border rounded-lg text-sm p-2 focus:outline-none focus:ring-2 focus:ring-info",placeholder:"Add an internal note"}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>v(y,"approved"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-success/90 text-white text-sm font-semibold shadow-sm hover:bg-success",disabled:b===y.id,children:[a.jsx(Wt,{className:"w-4 h-4"})," Approve"]}),a.jsxs("button",{type:"button",onClick:()=>v(y,"rejected"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-error/90 text-white text-sm font-semibold shadow-sm hover:bg-error",disabled:b===y.id,children:[a.jsx(gt,{className:"w-4 h-4"})," Reject"]})]})]},y.id))})]}),i.length===0&&!h&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsx(pa,{className:"w-12 h-12 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-charcoal",children:"No pending documents"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"All member uploads have been reviewed."})]})]})},f1=r=>r==null?null:typeof r=="string"?r:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(r),Qp=r=>{if(!r)return null;const s=new Date(r);return Number.isNaN(s.getTime())?r:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(s)},m1=r=>{var c,u,h,g,m;const s=r.unit_amount_cents?f1(r.unit_amount_cents/100):null,i=((c=r.profiles)==null?void 0:c.full_name)||((u=r.profiles)==null?void 0:u.company_name)||`Member ${((h=r.profile_id)==null?void 0:h.slice(0,8))||"Unknown"}`,o=((g=r.profiles)==null?void 0:g.email)||`member${((m=r.profile_id)==null?void 0:m.slice(0,8))||"unknown"}@example.com`;return{id:String(r.id),memberName:i,memberEmail:o,planTier:r.tier??"Unknown",status:r.status??"unknown",price:s,renewalDate:Qp(r.current_period_end??null),createdAt:Qp(r.created_at??null)}},g1=({showToast:r})=>{const[s,i]=S.useState([]),[o,c]=S.useState(!1),[u,h]=S.useState(null),g=S.useCallback(async()=>{c(!0);try{const{data:p,error:b}=await ve.from("subscriptions").select(`
                  id,
                  profile_id,
                  tier,
                  status,
                  unit_amount_cents,
                  billing_cycle,
                  current_period_end,
                  created_at,
                  profiles!inner(
                    id,
                    email,
                    full_name,
                    company_name,
                    membership_tier
                  )
                `).eq("status","active").order("created_at",{ascending:!1});if(b)throw b;i((p??[]).map(m1)),h(null)}catch(p){console.error("Failed to load subscriptions",p),h("Unable to load active memberships. Please try again."),i([])}finally{c(!1)}},[]);S.useEffect(()=>{g()},[g]);const m=S.useMemo(()=>s.length,[s]);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 animate-fade-in space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-playfair text-3xl font-bold text-charcoal",children:"Active Memberships"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"A read-only list of members with current, active subscriptions."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-info/10 text-info text-sm font-semibold",children:["Active: ",m]}),a.jsx("button",{onClick:()=>void g(),className:"px-4 py-2 bg-white border border-gray-border rounded-lg text-sm font-semibold text-charcoal shadow-sm hover:bg-gray-50",disabled:o,children:o?"Refreshing":"Refresh"})]})]}),u&&a.jsx("div",{className:"rounded-lg border border-error/40 bg-error/10 px-4 py-3 text-sm text-error",children:u}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto hidden md:block",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-light/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Member"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Plan"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Price"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Renewal Date"}),a.jsx("th",{className:"p-4 text-left text-xs font-bold text-gray-dark uppercase",children:"Joined"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-border",children:s.map(p=>a.jsxs("tr",{className:"hover:bg-gray-light/50",children:[a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:p.memberName}),a.jsx("p",{className:"text-sm text-gray-dark",children:p.memberEmail})]}),a.jsxs("td",{className:"p-4",children:[a.jsx("p",{className:"font-semibold text-charcoal",children:p.planTier}),a.jsx("p",{className:"text-sm text-gray-dark",children:p.status})]}),a.jsx("td",{className:"p-4 text-sm text-gray-dark",children:p.price??""}),a.jsx("td",{className:"p-4 text-sm text-gray-dark",children:p.renewalDate??""}),a.jsx("td",{className:"p-4 text-sm text-gray-dark",children:p.createdAt??""})]},p.id))})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-border",children:s.map(p=>a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-charcoal",children:p.memberName}),a.jsx("p",{className:"text-sm text-gray-dark",children:p.memberEmail})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-dark",children:p.price??""})]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Plan: ",p.planTier," (",p.status,")"]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Renewal ",p.renewalDate??""]}),a.jsxs("p",{className:"text-sm text-gray-dark",children:["Joined ",p.createdAt??""]})]},p.id))})]}),s.length===0&&!o&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-border",children:[a.jsx(pa,{className:"w-12 h-12 mx-auto text-gray-300"}),a.jsx("h3",{className:"mt-4 text-xl font-bold text-charcoal",children:"No active memberships"}),a.jsx("p",{className:"text-gray-dark mt-1",children:"Once members activate their subscription it will appear here."})]})]})},$n=({icon:r,label:s,isActive:i,onClick:o})=>a.jsxs("button",{onClick:o,className:`flex items-center w-full px-4 py-3 rounded-lg text-left transition-colors duration-200 relative ${i?"bg-info/10 text-blue-700 font-bold":"text-[var(--text-muted)] hover:bg-[var(--bg-subtle)] hover:text-[var(--text-main)]"}`,children:[i&&a.jsx("div",{className:"absolute left-0 top-0 h-full w-1 bg-info rounded-r-full"}),a.jsx("div",{className:`ml-2 ${i?"text-info":""}`,children:r}),a.jsx("span",{className:"ml-3",children:s})]}),p1=()=>{const{currentUser:r,logout:s}=tt(),[i,o]=S.useState("overview"),[c,u]=S.useState(!1),[h,g]=S.useState(!1),m=S.useRef(null),[p,b]=S.useState(null);S.useEffect(()=>{if(p){const E=setTimeout(()=>b(null),3e3);return()=>clearTimeout(E)}},[p]);const w=(E,y)=>{b({message:E,type:y})};S.useEffect(()=>{const E=y=>{m.current&&!m.current.contains(y.target)&&g(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const j=E=>{o(E),u(!1)},_=()=>{switch(i){case"overview":return a.jsx(Hp,{});case"members":return a.jsx(ZN,{showToast:w});case"serviceRequests":return a.jsx(o1,{showToast:w});case"documents":return a.jsx(h1,{showToast:w});case"subscriptions":return a.jsx(g1,{showToast:w});case"settings":return a.jsx(a1,{showToast:w});default:return a.jsx(Hp,{})}},v=a.jsxs(a.Fragment,{children:[a.jsx($n,{icon:a.jsx(vx,{className:"w-6 h-6"}),label:"Overview",isActive:i==="overview",onClick:()=>j("overview")}),a.jsx($n,{icon:a.jsx(vs,{className:"w-6 h-6"}),label:"Members",isActive:i==="members",onClick:()=>j("members")}),a.jsx($n,{icon:a.jsx(po,{className:"w-6 h-6"}),label:"Service Requests",isActive:i==="serviceRequests",onClick:()=>j("serviceRequests")}),a.jsx($n,{icon:a.jsx(bt,{className:"w-6 h-6"}),label:"Documents",isActive:i==="documents",onClick:()=>j("documents")}),a.jsx($n,{icon:a.jsx(jx,{className:"w-6 h-6"}),label:"Subscriptions",isActive:i==="subscriptions",onClick:()=>j("subscriptions")}),a.jsx($n,{icon:a.jsx(wx,{className:"w-6 h-6"}),label:"Settings",isActive:i==="settings",onClick:()=>j("settings")})]});return a.jsxs("div",{className:"flex h-screen bg-[var(--bg-main)] text-[var(--text-main)]",children:[p&&a.jsx("div",{className:`fixed top-20 right-8 z-[100] py-3 px-5 rounded-lg shadow-lg text-white animate-slide-in-right ${p.type==="success"?"bg-success":"bg-error"}`,children:p.message}),a.jsx("div",{className:`fixed inset-0 z-40 md:hidden transition-opacity ${c?"bg-black/50":"bg-transparent pointer-events-none"}`,onClick:()=>u(!1)}),a.jsxs("aside",{className:`fixed top-0 left-0 h-full z-50 w-64 bg-[var(--bg-card)] border-r border-[var(--border-subtle)] flex flex-col transition-transform duration-300 md:relative md:translate-x-0 ${c?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 flex items-center border-b border-[var(--border-subtle)] h-16 shrink-0",children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/Restorationexpertise_ig_profilepic_2_small.webp",alt:"Logo",className:"w-8 h-8 mr-2"}),a.jsx("h1",{className:"font-playfair text-xl font-bold text-[var(--text-main)]",children:"Admin"})]}),a.jsx("nav",{className:"flex-grow p-4 space-y-2",children:v}),a.jsxs("div",{className:"p-4 border-t border-[var(--border-subtle)] space-y-4",children:[a.jsx(co,{variant:"row"}),a.jsxs("button",{onClick:()=>void s(),className:"flex items-center w-full px-4 py-3 rounded-lg text-left text-[var(--text-muted)] hover:bg-red-500/10 hover:text-error transition-colors",children:[a.jsx(yx,{className:"w-6 h-6"}),a.jsx("span",{className:"ml-3 font-semibold",children:"Logout"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-[var(--bg-card)] shadow-sm h-16 flex items-center justify-between px-4 md:px-6 shrink-0 border-b border-[var(--border-subtle)]",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>u(!0),className:"text-[var(--text-main)] md:hidden mr-4",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsx("h1",{className:"font-playfair text-xl md:text-2xl font-bold text-[var(--text-main)]",children:"Admin Panel"}),a.jsx("span",{className:"bg-info/10 text-blue-700 text-xs font-bold px-2 py-0.5 rounded-md",children:"ADMIN"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(co,{variant:"icon"}),a.jsxs("div",{className:"relative",ref:m,children:[a.jsxs("button",{onClick:()=>g(!h),className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-[var(--bg-subtle)]",children:[a.jsx("div",{className:"w-9 h-9 bg-info/10 rounded-full flex items-center justify-center",children:a.jsx(li,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("p",{className:"font-semibold text-sm text-[var(--text-main)]",children:r==null?void 0:r.name}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:r==null?void 0:r.email})]}),a.jsx(Js,{className:"w-4 h-4 text-[var(--text-muted)]"})]}),h&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-[var(--bg-card)] rounded-lg shadow-xl border border-[var(--border-subtle)] z-50 animate-fade-in",children:[a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"My profile"}),a.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-[var(--text-main)] hover:bg-[var(--bg-subtle)]",children:"Switch to Member View"}),a.jsx("div",{className:"border-t border-[var(--border-subtle)] my-1"}),a.jsx("button",{onClick:()=>void s(),className:"w-full text-left px-4 py-2 text-sm text-error hover:bg-error/5",children:"Logout"})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:_()})]})]})},x1="restorationexpertise:last-plan",Fp="restorationexpertise:last-email",b1=()=>{const{login:r,isLoading:s}=tt(),i=ws(),o=$a(),[c,u]=S.useState(""),[h,g]=S.useState("form"),[m,p]=S.useState(null);S.useEffect(()=>{if(typeof window>"u")return;const j=window.localStorage.getItem(Fp);j&&u(j)},[]),S.useEffect(()=>{const _=new URLSearchParams(o.search).get("checkout");if(_==="success"){const E=((typeof window<"u"?window.localStorage.getItem(x1):null)??"founding-member").toLowerCase().replace(/\s+/g,"-");i(`/success/${E}`,{replace:!0})}else _==="cancelled"&&p("Checkout was cancelled. You can try again when you are ready.")},[o.search,i]);const b=async j=>{if(j.preventDefault(),!c||h!=="form")return;const _=c.trim();p(null),g("confirming");try{typeof window<"u"&&window.localStorage.setItem(Fp,_),await r(_),g("confirmed")}catch(v){console.error("Failed to initiate login flow",v);const E=v instanceof Error?v.message:"Something went wrong. Please try again.";p(E),g("form")}},w=!c||h!=="form";return a.jsxs("div",{className:"login-page-container font-inter",children:[a.jsxs("div",{className:"login-animation-bg",children:[a.jsx("div",{className:"aurora-layer layer-1"}),a.jsx("div",{className:"aurora-layer layer-2"}),a.jsx("div",{className:"login-particle-container",children:Array.from({length:15}).map((j,_)=>a.jsx("div",{className:"login-particle"},_))}),a.jsx("div",{className:"light-streak"})]}),a.jsxs("div",{className:"w-full max-w-lg mx-auto relative z-10",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertisecom2_logo3D.webp",alt:"Restoration Expertise Logo",className:"w-40 h-40 md:w-52 md:h-52 mx-auto mb-4 animate-float-logo"}),a.jsx("h1",{className:"font-playfair text-xl md:text-2xl font-bold text-white",children:"Restoration Expertise"}),a.jsx("p",{className:"text-lg text-gray-300 mt-2",children:"The Restoration Network Homeowners Trust."})]}),a.jsxs("div",{className:"login-glass-card p-8 rounded-2xl transition-all duration-500",children:[h==="form"&&a.jsxs("div",{className:"animate-fade-in space-y-6",children:[a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("p",{className:"text-gray-300",children:"Enter your email to receive a secure magic link."}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Members only. Use the email you joined with."})]}),s&&a.jsx("p",{className:"rounded-lg border border-white/10 bg-black/20 p-3 text-sm text-gray-300",children:"Connecting to Supabase"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),a.jsx("input",{id:"email",type:"email",value:c,onChange:j=>u(j.target.value),placeholder:"you@example.com",required:!0,className:"mt-1 block w-full px-4 py-3 border border-white/20 rounded-lg shadow-sm focus:ring-2 focus:ring-[var(--accent)] focus:border-[var(--accent)] bg-white/10 text-white placeholder:text-gray-400"})]}),a.jsx("button",{type:"submit",disabled:w,className:"magic-link-button w-full py-3 px-4 bg-[var(--accent)] text-[var(--accent-text)] font-bold text-lg rounded-lg shadow-lg hover:bg-[var(--accent-dark)] transition-all transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-[var(--accent)]/50 disabled:opacity-50",children:"Send Magic Link"})]}),m&&a.jsx("p",{className:"rounded-lg border border-error/40 bg-error/10 p-3 text-sm text-error",children:m}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:a.jsx("div",{className:"w-full border-t border-white/20"})}),a.jsx("div",{className:"relative flex justify-center",children:a.jsx("span",{className:"bg-[rgba(28,28,28,0.2)] px-2 text-sm text-gray-400",children:"Or"})})]}),a.jsx("button",{type:"button",onClick:()=>i("/assessment"),className:"w-full py-3 px-4 bg-white/10 text-white font-bold rounded-lg shadow-md border border-white/20 hover:bg-white/20 transition-all transform hover:scale-105",children:"Take Free Credibility Assessment"})]}),h==="confirming"&&a.jsxs("div",{className:"text-center animate-fade-in space-y-4",children:[a.jsx("div",{className:"mx-auto mb-4 h-16 w-16 animate-spin rounded-full border-4 border-[var(--accent)] border-t-transparent"}),a.jsx("h2",{className:"font-playfair text-3xl font-bold text-white",children:"Sending magic link"}),a.jsxs("p",{className:"text-gray-300",children:["We're sending a secure link to ",c,". Follow the instructions in your inbox to continue."]})]}),h==="confirmed"&&a.jsxs("div",{className:"text-center animate-fade-in space-y-4",children:[a.jsx(Wt,{className:"mx-auto h-16 w-16 text-success"}),a.jsx("h2",{className:"font-playfair text-3xl font-bold text-white",children:"Magic link sent!"}),a.jsx("p",{className:"text-gray-300",children:"Check your inbox for your secure login link."}),a.jsx("div",{className:"h-2.5 w-full rounded-full bg-white/10",children:a.jsx("div",{className:"h-2.5 animate-pulse rounded-full bg-[var(--accent)]"})})]})]})]}),a.jsxs("footer",{className:"absolute bottom-4 text-center text-gray-400 z-10",children:[a.jsxs("p",{children:[" ",new Date().getFullYear()," RestorationExpertise. All Rights Reserved."]}),a.jsx("button",{onClick:()=>i("/admin/login"),className:"mt-2 text-xs text-gray-500 hover:text-gray-300 transition-colors underline",children:"Admin Login"})]})]})},v1=()=>{const[r,s]=S.useState(""),[i,o]=S.useState(""),[c,u]=S.useState(""),[h,g]=S.useState(!1),{adminLogin:m}=tt(),p=ws(),b=async j=>{j.preventDefault(),g(!0),u("");try{const _=await m(r,i);_.success?p("/admin"):u(_.error||"Login failed. Please try again.")}catch(_){console.error("Login error:",_),u("An unexpected error occurred. Please try again.")}finally{g(!1)}},w=()=>{p("/login")};return a.jsxs("div",{className:"login-page-container",children:[a.jsxs("div",{className:"login-animation-bg",children:[a.jsx("div",{className:"aurora-layer layer-1"}),a.jsx("div",{className:"aurora-layer layer-2"}),a.jsx("div",{className:"login-particle-container",children:Array.from({length:15}).map((j,_)=>a.jsx("div",{className:"login-particle"},_))}),a.jsx("div",{className:"light-streak"})]}),a.jsxs("div",{className:"login-glass-card rounded-3xl p-8 w-full max-w-md relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/Restorationexpertise_ig_profilepic_2_small.webp",alt:"RestorationExpertise Logo",className:"w-16 h-16 mx-auto mb-4 rounded-full"}),a.jsx("h1",{className:"text-3xl font-bold font-playfair text-white mb-2",children:"Admin Login"}),a.jsx("p",{className:"text-gray-300",children:"Enter your credentials to access the admin dashboard"})]}),a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",type:"email",value:r,onChange:j=>s(j.target.value),required:!0,className:`w-full px-4 py-3 rounded-xl border bg-white/10 backdrop-blur-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all ${c?"border-red-400 focus:ring-red-400":"border-white/20 focus:ring-gold focus:border-gold"}`,placeholder:"admin@example.com",disabled:h})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200 mb-2",children:"Password"}),a.jsx("input",{id:"password",type:"password",value:i,onChange:j=>o(j.target.value),required:!0,className:`w-full px-4 py-3 rounded-xl border bg-white/10 backdrop-blur-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all ${c?"border-red-400 focus:ring-red-400":"border-white/20 focus:ring-gold focus:border-gold"}`,placeholder:"",disabled:h})]}),c&&a.jsx("div",{className:"text-red-400 text-sm text-center bg-red-400/10 backdrop-blur-sm rounded-lg p-3 border border-red-400/20",children:c}),a.jsx("button",{type:"submit",disabled:h,className:`w-full py-3 px-4 rounded-xl font-semibold text-charcoal transition-all transform ${h?"bg-gray-400 cursor-not-allowed":"bg-gold hover:bg-gold-light hover:scale-105 active:scale-95"} shadow-lg`,children:h?"Signing In...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:w,className:"text-gray-300 hover:text-white text-sm transition-colors",children:" Back to Member Login"})})]})]})},Ba=["Business Basics","Operational & Professional Standards","Licensing & Compliance","Customer Feedback & Online Authority","Industry Certifications & Training","Digital & Brand Maturity"],y1=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],w1={businessName:"",city:"",yearsInBusiness:1,employees:1,services:{water:!1,fire:!1,mold:!1,storm:!1},businessDescription:"",hasLicense:!1,hasLiabilityInsurance:!1,hasWorkersComp:!1,yearsLicensed:0,googleRating:0,googleReviews:0,otherPlatforms:{yelp:!1,bbb:!1,facebook:!1},certifications:{water:!1,fire:!1,mold:!1,other:!1},hasWebsite:!1,activeSocialMedia:!1,brandedVehicles:!1,emergencyLine:!1,hasProEmail:!1},Zl=12,ei={operational:20,licensing:10,feedback:30,certifications:20,digital:17};function j1(r){return r>=90?"A+":r>=80?"A":r>=65?"B+":"Needs Work"}function N1(r,s){const i=[];return r.hasLicense||i.push("No active contractor license on file."),r.hasLiabilityInsurance||i.push("No general liability insurance listed."),s.operational<10&&i.push("Operational standards are below our minimum."),s.licensing<4&&i.push("Too few years licensed for certification."),s.feedback<5&&i.push("Customer feedback and reviews are too low."),s.digital<5&&i.push("Digital & brand presence needs improvement."),s.total<70&&i.push("Overall score is below the minimum threshold."),{isEligible:i.length===0,eligibilityReasons:i}}const _1=r=>{const i=[{id:"hasLicense",label:"Get an active contractor license",description:"This is a fundamental requirement for certification and a major trust signal for homeowners.",category:"Operational",impact:"High",type:"Deep work",condition:u=>!u.hasLicense},{id:"hasLiabilityInsurance",label:"Secure general liability insurance",description:"Liability insurance is a non-negotiable for professional contractors and essential for certification.",category:"Operational",impact:"High",type:"Deep work",condition:u=>!u.hasLiabilityInsurance},{id:"yearsLicensed",label:"Increase years of licensed experience",description:"More years of licensed operation build significant credibility. While this takes time, it's a key factor for top-tier status.",category:"Licensing",impact:"High",type:"Deep work",condition:u=>u.yearsLicensed<3},{id:"googleReviewsLow",label:"Boost your Google review count",description:"Reviews are a powerful form of social proof. Aim for at least 20+ high-quality reviews to build authority.",category:"Feedback",impact:"High",type:"Deep work",condition:u=>u.googleReviews<5},{id:"hasWebsite",label:"Create a professional website",description:"A website is your digital storefront. It's a critical asset for establishing credibility and attracting leads.",category:"Digital",impact:"High",type:"Deep work",condition:u=>!u.hasWebsite},{id:"hasWorkersComp",label:"Add workers' comp insurance",description:"This is a core credibility and compliance signal, especially for businesses with employees. Many adjusters and commercial clients expect it.",category:"Operational",impact:"Medium",type:"Deep work",condition:u=>!u.hasWorkersComp},{id:"googleReviewsMedium",label:"Gather more Google reviews",description:"You have a good start, but pushing from 5-10 reviews to 20-40 can significantly increase your local authority and lead flow.",category:"Feedback",impact:"Medium",type:"Quick win",condition:u=>u.googleReviews>=5&&u.googleReviews<20},{id:"googleRating",label:"Improve your Google rating",description:"A rating below 4.5 stars can deter potential customers. Focus on delivering excellent service and encouraging happy clients to leave reviews.",category:"Feedback",impact:"Medium",type:"Deep work",condition:u=>u.googleRating>0&&u.googleRating<4.5},{id:"hasProEmail",label:"Set up a professional email address",description:"Using an email like 'info@yourcompany.com' instead of a generic Gmail or Yahoo address is a quick way to look more professional.",category:"Digital",impact:"Medium",type:"Quick win",condition:u=>!u.hasProEmail},{id:"certifications",label:"Earn more IICRC certifications",description:"Certifications demonstrate a commitment to industry standards and expertise, justifying higher prices and building trust.",category:"Certifications",impact:"Medium",type:"Deep work",condition:u=>(u.certifications.water?1:0)+(u.certifications.fire?1:0)+(u.certifications.mold?1:0)+(u.certifications.other?1:0)<2},{id:"emergencyLine",label:"Establish a 24/7 emergency line",description:"For restoration, being available 24/7 is critical. Clearly advertising this on your site can significantly increase emergency calls.",category:"Digital",impact:"Medium",type:"Quick win",condition:u=>!u.emergencyLine}].filter(u=>u.condition(r)),o={High:1,Medium:2},c={"Quick win":1,"Deep work":2};return i.sort((u,h)=>o[u.impact]!==o[h.impact]?o[u.impact]-o[h.impact]:c[u.type]-c[h.type]),i.slice(0,3).map(({condition:u,...h})=>h)},S1=r=>{const s={operational:0,licensing:0,feedback:0,certifications:0,digital:0};r.hasLicense&&(s.operational+=10),r.hasLiabilityInsurance&&(s.operational+=5),r.hasWorkersComp&&(s.operational+=5),s.operational=Math.min(ei.operational,s.operational);const i=Math.max(0,Math.min(r.yearsLicensed,ei.licensing));if(i===0?s.licensing=0:i<=2?s.licensing=4:i<=5?s.licensing=7:s.licensing=10,r.googleRating<=0&&r.googleReviews<=0)s.feedback=0;else{const j=5+(Math.max(4,r.googleRating)-4)*10;let _=0;r.googleReviews>=40?_=15:r.googleReviews>=20?_=10:r.googleReviews>=5?_=6:r.googleReviews>0&&(_=4),s.feedback=Math.min(ei.feedback,j+_)}let o=0;r.certifications.water&&o++,r.certifications.fire&&o++,r.certifications.mold&&o++,r.certifications.other&&o++,s.certifications=o*5,s.certifications=Math.min(ei.certifications,s.certifications),r.hasWebsite&&(s.digital+=7),r.hasProEmail&&(s.digital+=5),r.emergencyLine&&(s.digital+=3),r.activeSocialMedia&&(s.digital+=1),r.brandedVehicles&&(s.digital+=1),s.digital=Math.min(ei.digital,s.digital);const c=s.operational+s.licensing+s.feedback+s.certifications+s.digital,u=Math.min(100,Math.max(0,Math.round(c))),h=j1(u),g={...s,total:u},{isEligible:m,eligibilityReasons:p}=N1(r,g),b=_1(r);return{operational:s.operational,licensing:s.licensing,feedback:s.feedback,certifications:s.certifications,digital:s.digital,total:u,grade:h,isEligibleForCertification:m,eligibilityReasons:p,opportunities:b}},jb=({score:r,breakdown:s,isPopup:i})=>{const[o,c]=S.useState(r),u=S.useRef(r);ni.useEffect(()=>{const m=u.current;if(m===r)return;let p;const b=500,w=performance.now(),j=_=>{const v=_-w,E=Math.min(v/b,1),y=1-Math.pow(1-E,3),k=Math.round(m+(r-m)*y);c(k),E<1&&(p=requestAnimationFrame(j))};return p=requestAnimationFrame(j),()=>{cancelAnimationFrame(p)}},[r]),ni.useEffect(()=>{u.current=r},[r]);const h=m=>m<45?"bg-error":m<60?"bg-warning":m<75?"bg-brand-accent":"bg-success",g=[{label:"Operational",value:s.operational,max:20},{label:"Licensing",value:s.licensing,max:10},{label:"Feedback",value:s.feedback,max:30},{label:"Certifications",value:s.certifications,max:20},{label:"Digital",value:s.digital,max:17}];return a.jsxs("div",{className:`p-4 bg-white rounded-xl shadow-lg border border-gray-border ${i?"":"sticky top-0 md:top-8 md:w-64 md:ml-8 lg:ml-16 z-10"}`,children:[a.jsx("h3",{className:"font-sora text-charcoal text-lg font-bold text-center mb-2",children:"Your Score"}),a.jsxs("div",{className:"flex justify-center items-baseline gap-1 mb-4",children:[a.jsx("span",{className:"font-sora text-6xl font-bold text-charcoal",children:o}),a.jsx("span",{className:"font-sora text-2xl font-semibold text-gray-400",children:"/100"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${h(r)}`,style:{width:`${r}%`}})}),a.jsx("p",{className:"text-center text-sm text-gray mt-2",children:i?"Based on your current inputs.":"Updating in real-time..."}),i&&a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-border space-y-2",children:[a.jsx("h4",{className:"font-bold text-center mb-2",children:"Breakdown"}),g.map(m=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:m.label}),a.jsxs("span",{children:[m.value," / ",m.max]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:a.jsx("div",{className:"bg-brand-accent h-1.5 rounded-full",style:{width:`${m.value/m.max*100}%`}})})]},m.label))]})]})},Jt=({label:r,points:s,checked:i,onChange:o,description:c,feedbackMessage:u})=>{const[h,g]=S.useState(!1),m=p=>{p&&(g(!0),setTimeout(()=>g(!1),700)),o(p)};return a.jsxs("div",{children:[a.jsxs("label",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full p-5 border border-gray-border rounded-xl cursor-pointer hover:border-brand-accent-dark transition-colors duration-200 min-h-36 gap-3 sm:gap-0",children:[a.jsxs("div",{className:"flex-1 mr-0 sm:mr-4",children:[a.jsx("span",{className:"font-semibold text-charcoal text-base md:text-lg leading-tight",children:r}),c&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-start w-full sm:w-auto space-x-4 flex-shrink-0 relative",children:[a.jsxs("span",{className:"font-sora font-bold text-brand-accent text-lg",children:["+",s," pts"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:p=>m(p.target.checked),className:"sr-only"}),a.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${i?"bg-brand-accent":"bg-gray-200"}`,children:a.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i?"translate-x-6":"translate-x-1"}`,style:{top:"2px",position:"relative"}})})]}),h&&a.jsxs("div",{className:"absolute -top-8 -right-2 font-bold text-xl text-brand-accent animate-point-flash pointer-events-none",children:["+",s," "]})]})]}),i&&u&&a.jsxs("div",{className:"pl-4 mt-2 text-sm text-green-700 flex items-center gap-2 animate-fade-in",children:[a.jsx(Wt,{className:"w-5 h-5"}),a.jsx("span",{children:u})]})]})},E1=({score:r})=>{const[s,i]=S.useState(r),o=S.useRef(r);ni.useEffect(()=>{const u=o.current;if(u===r)return;let h;const g=400,m=performance.now(),p=b=>{const w=b-m,j=Math.min(w/g,1),_=1-Math.pow(1-j,3),v=Math.round(u+(r-u)*_);i(v),j<1&&(h=requestAnimationFrame(p))};return h=requestAnimationFrame(p),()=>{cancelAnimationFrame(h)}},[r]),ni.useEffect(()=>{o.current=r},[r]);const c=u=>u<45?"bg-error":u<60?"bg-warning":u<75?"bg-brand-accent":"bg-success";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-baseline w-14 justify-end",children:[a.jsx("span",{className:"font-sora font-bold text-sm text-charcoal",children:s}),a.jsx("span",{className:"font-sora text-xs text-gray-500",children:"/100"})]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 relative",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${c(r)}`,style:{width:`${r}%`}})})]})},k1=({step:r,score:s,onScoreClick:i,onBack:o,onNext:c,canProceed:u})=>{const h=(r+1)/Ba.length*100;return a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-t border-gray-border z-20 md:hidden",children:[a.jsxs("div",{onClick:i,className:"px-4 pt-2 pb-1.5 cursor-pointer",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[a.jsxs("span",{className:"font-bold text-gray-dark",children:["Step ",r+1," of ",Ba.length]}),a.jsx(E1,{score:s})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-brand-accent h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})}),a.jsx("p",{className:"text-center text-xs font-bold text-gray-dark mt-1.5",children:Ba[r]})]}),a.jsxs("div",{className:"p-4 flex justify-between items-center gap-4 bg-white/50",children:[a.jsx("button",{onClick:o,className:"py-3 px-6 bg-white text-charcoal font-semibold rounded-lg shadow-md border border-gray-border hover:bg-gray-100",children:"Back"}),a.jsx("button",{onClick:c,disabled:!u,className:`flex-grow py-3 px-8 font-bold text-lg rounded-lg shadow-lg ${u?"bg-brand-accent text-charcoal hover:bg-brand-accent-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:r===Ba.length-1?"Finish":"Continue"})]})]})},C1=({isOpen:r,onClose:s,score:i,breakdown:o})=>r?a.jsxs("div",{className:"fixed inset-0 z-40",onClick:s,children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 animate-fade-in"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 animate-slide-up-drawer p-4",onClick:c=>c.stopPropagation(),children:a.jsx(jb,{score:i,breakdown:o,isPopup:!0})})]}):null,A1=({onComplete:r})=>{const s=ws(),[i,o]=S.useState(0),[c,u]=S.useState(w1),[h,g]=S.useState({full_name_entered:"",email_entered:"",state:"",city:""}),[m,p]=S.useState(!1),[b,w]=S.useState("animate-fade-in"),[j,_]=S.useState(0),v=S.useMemo(()=>S1(c),[c]),E=()=>{if(I())if(i<Ba.length-1)w("animate-slide-out-left"),setTimeout(()=>{o(te=>te+1),_(te=>te+1),w("animate-slide-in-from-right")},300);else{const te={...v,answers:c,emailEntered:h.email_entered,fullNameEntered:h.full_name_entered,state:h.state,cityEntered:h.city};L(te),r(te)}},y=()=>{i>0?(w("animate-slide-out-right"),setTimeout(()=>{o(te=>te-1),_(te=>te+1),w("animate-slide-in-from-left")},300)):s("/")},k=(te,M)=>{u(se=>({...se,[te]:M}))},A=(te,M)=>{g(se=>({...se,[te]:M}))},T=te=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(te),I=()=>i===0?h.full_name_entered.trim()!==""&&h.email_entered.trim()!==""&&T(h.email_entered.trim())&&h.state!==""&&h.city.trim()!=="":!0,L=async te=>{try{const{data:M,error:se}=await ve.from("assessments").upsert({...te,full_name_entered:h.full_name_entered,email_entered:h.email_entered,state:h.state,city:h.city},{onConflict:"id"}).select().single();return se?(console.error("Error saving assessment data:",se),console.log("Assessment save failed due to RLS or other issue. Continuing without persistence."),null):(console.log("Assessment data saved successfully"),M)}catch(M){return console.error("Failed to save assessment:",M),console.log("Assessment save failed. Continuing without persistence."),null}},J=(te,M,se)=>{u(ce=>({...ce,[te]:{...ce[te],[M]:se}}))},z=()=>{const te="Nice  this is one of the core signals top-tier restoration firms have in place.";switch(i){case 0:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:h.full_name_entered,onChange:M=>A("full_name_entered",M.target.value),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",placeholder:"Enter your full name",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray",children:["Business Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",value:h.email_entered,onChange:M=>A("email_entered",M.target.value),className:`mt-1 block w-full p-3 border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)] ${h.email_entered&&!T(h.email_entered)?"border-red-500":"border-gray-border"}`,placeholder:"Enter your business email",required:!0}),h.email_entered&&!T(h.email_entered)&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Please enter a valid email address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray",children:["State ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:h.state,onChange:M=>A("state",M.target.value),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",required:!0,children:[a.jsx("option",{value:"",children:"Select State"}),y1.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray",children:["City ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:h.city,onChange:M=>A("city",M.target.value),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",placeholder:"Enter your city",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"Business Name"}),a.jsx("input",{type:"text",value:c.businessName,onChange:M=>k("businessName",M.target.value),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"What city do you primarily serve?"}),a.jsx("input",{type:"text",value:c.city,onChange:M=>k("city",M.target.value),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"How long have you been in business?"}),a.jsx("select",{value:c.yearsInBusiness,onChange:M=>k("yearsInBusiness",parseInt(M.target.value)),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",children:[1,2,3,4,5,10,15,20].map(M=>a.jsxs("option",{value:M,children:[M,M===20?"+":""," years"]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"Briefly describe your business (optional)"}),a.jsx("textarea",{value:c.businessDescription,onChange:M=>k("businessDescription",M.target.value),rows:3,className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",placeholder:"E.g., We are a family-owned restoration company specializing in 24/7 water and fire damage cleanup..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"What services do you offer?"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-4",children:Object.keys(c.services).map(M=>a.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:c.services[M],onChange:se=>J("services",M,se.target.checked),className:"h-5 w-5 rounded border-gray-300 text-brand-accent focus:ring-brand-accent"}),a.jsx("span",{className:"capitalize",children:M})]},M))})]})]});case 1:return a.jsxs("div",{className:"space-y-4",children:[a.jsx(Jt,{label:"Active contractor license?",points:10,checked:c.hasLicense,onChange:M=>k("hasLicense",M),description:"Adjusters, carriers, and commercial clients often require this before sending work.",feedbackMessage:te}),a.jsx(Jt,{label:"General liability insurance $1M+?",points:5,checked:c.hasLiabilityInsurance,onChange:M=>k("hasLiabilityInsurance",M),description:"Protects you and your clients if something goes wrong on a job.",feedbackMessage:te}),a.jsx(Jt,{label:"Workers' comp insurance?",points:5,checked:c.hasWorkersComp,onChange:M=>k("hasWorkersComp",M),description:"Shows youre taking care of your team and operating legitimately."})]});case 2:return a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray mb-2",children:"How many years have you been licensed?"}),a.jsx("input",{type:"range",min:"0",max:"20",value:c.yearsLicensed,onChange:M=>k("yearsLicensed",parseInt(M.target.value)),className:"w-full custom-slider",style:{"--value-percent":`${c.yearsLicensed/20*100}%`}}),a.jsxs("div",{className:"text-center font-sora font-bold text-2xl text-charcoal mt-2",children:[c.yearsLicensed," years"]}),a.jsx("p",{className:"text-center text-sm text-gray mt-2",children:"12 years = 4 pts  35 years = 7 pts  6+ years = 10 pts"})]});case 3:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"What's your Google Business Profile rating?"}),a.jsxs("select",{value:c.googleRating,onChange:M=>k("googleRating",parseFloat(M.target.value)),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]",children:[a.jsx("option",{value:0,children:"No rating yet"}),Array.from({length:11},(M,se)=>4+se*.1).map(M=>a.jsxs("option",{value:M.toFixed(1),children:[M.toFixed(1)," stars"]},M))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray",children:"How many Google reviews do you have?"}),a.jsx("input",{type:"number",value:c.googleReviews,onChange:M=>k("googleReviews",parseInt(M.target.value)||0),className:"mt-1 block w-full p-3 border border-gray-border rounded-lg shadow-sm focus:ring-brand-accent focus:border-brand-accent bg-[var(--bg-input)] text-[var(--text-main)]"})]})]});case 4:return a.jsxs("div",{className:"space-y-4",children:[a.jsx(Jt,{label:"IICRC: Water Damage Restoration",points:5,checked:c.certifications.water,onChange:M=>J("certifications","water",M)}),a.jsx(Jt,{label:"IICRC: Fire & Smoke Restoration",points:5,checked:c.certifications.fire,onChange:M=>J("certifications","fire",M)}),a.jsx(Jt,{label:"IICRC: Mold Remediation",points:5,checked:c.certifications.mold,onChange:M=>J("certifications","mold",M)}),a.jsx(Jt,{label:"Other industry certifications",points:5,checked:c.certifications.other,onChange:M=>J("certifications","other",M)})]});case 5:return a.jsxs("div",{className:"space-y-4",children:[a.jsx(Jt,{label:"Professional website with your own domain?",points:7,checked:c.hasWebsite,onChange:M=>k("hasWebsite",M),description:"Most homeowners will judge your professionalism in the first 10 seconds on your site.",feedbackMessage:te}),a.jsx(Jt,{label:"Professional email with your own domain?",points:5,checked:c.hasProEmail,onChange:M=>k("hasProEmail",M),description:"For example: info@yourcompany.com. Shows you're an established business, not a temporary operation."}),a.jsx(Jt,{label:"24/7 emergency phone line?",points:3,checked:c.emergencyLine,onChange:M=>k("emergencyLine",M),description:"Water and fire losses dont wait for business hours. Dont send panicked homeowners to voicemail."}),a.jsx(Jt,{label:"Active on social media?",points:1,checked:c.activeSocialMedia,onChange:M=>k("activeSocialMedia",M),description:"A simple way to show recent work and connect with your community."}),a.jsx(Jt,{label:"Branded vehicles/uniforms?",points:1,checked:c.brandedVehicles,onChange:M=>k("brandedVehicles",M),description:"Turns your work trucks into mobile billboards, building brand recognition."})]});default:return null}};return a.jsx("div",{className:"font-inter bg-gray-light min-h-screen p-4 md:p-8 pb-40 md:pb-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center animate-fade-in",style:{animationDuration:"0.6s"},children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertise_logo_s.webp",alt:"Restoration Expertise Logo",className:"mx-auto mb-4 w-full max-w-[140px] md:max-w-[180px]"}),a.jsx("h1",{className:"font-sora text-3xl md:text-4xl font-bold text-charcoal",children:"Credibility Assessment"})]}),a.jsxs("div",{className:"mb-8 hidden md:block",children:[a.jsx("div",{className:"flex justify-between mb-2",children:Ba.map((te,M)=>a.jsx("div",{className:"text-center w-1/6",children:a.jsx("div",{className:`text-xs md:text-sm font-semibold ${i>=M?"text-brand-accent-dark":"text-gray-400"}`,children:te})},te))}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-brand-accent h-2.5 rounded-full transition-all duration-300",style:{width:`${(i+1)/Ba.length*100}%`}})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:mt-0",children:[a.jsxs("div",{className:"w-full md:flex-1 bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-gray-border overflow-hidden",children:[a.jsx("div",{className:"flex justify-between items-start mb-6",children:a.jsxs("div",{children:[a.jsxs("h2",{className:"font-sora text-2xl font-bold text-charcoal mb-1",children:["Step ",i+1,": ",Ba[i]]}),a.jsx("p",{className:"text-gray",children:"Complete this section to see your score update."})]})}),a.jsx("div",{className:`mt-8 ${b}`,children:z()},j)]}),a.jsx("div",{className:"hidden md:block mt-6 md:mt-0 md:w-64",children:a.jsx(jb,{score:v.total,breakdown:v})})]}),a.jsxs("div",{className:"mt-8 hidden md:flex justify-between items-center",children:[a.jsx("button",{onClick:y,className:"py-3 px-6 bg-white text-charcoal font-semibold rounded-lg shadow-md border border-gray-border hover:bg-gray-100 transition-colors",children:"Back"}),a.jsx("button",{onClick:E,disabled:!I(),className:`py-3 px-8 font-bold text-lg rounded-lg shadow-lg transition-transform transform ${I()?"bg-brand-accent text-charcoal hover:bg-brand-accent-dark hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i===Ba.length-1?"Finish & See Results":"Continue"})]}),a.jsxs("div",{className:"md:hidden",children:[a.jsx(k1,{step:i,score:v.total,onScoreClick:()=>p(!0),onBack:y,onNext:E,canProceed:I()}),a.jsx(C1,{isOpen:m,onClose:()=>p(!1),score:v.total,breakdown:v})]})]})})},ps=({tier:r,price:s,pricePeriod:i,features:o,popular:c,onSelect:u,spotsRemaining:h,buttonLabel:g,disabled:m,disabledText:p})=>{const b=r==="Founding Member",w=`
    w-full p-6 border rounded-2xl flex flex-col transition-all duration-300
    ${b?"bg-gradient-to-br from-gold-dark to-founding-gold text-white border-founding-gold shadow-2xl scale-105":"bg-white text-charcoal border-gray-border shadow-lg"}
    ${!b&&!m&&"transform hover:-translate-y-2"}
    ${c&&!b?"border-gold border-2":""}
  `,j=g||(b?"Claim Spot":"Select");return a.jsxs("div",{className:w,children:[c&&!b&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gold text-charcoal px-4 py-1 rounded-full text-sm font-bold",children:" POPULAR"}),b&&a.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-white text-charcoal px-4 py-1 rounded-full text-sm font-bold",children:" LIMITED"}),a.jsx("h3",{className:`font-sora text-2xl font-bold text-center mb-2 ${b?"text-white":"text-charcoal"}`,children:r}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("span",{className:`font-sora text-5xl font-bold ${b?"text-white":"text-charcoal"}`,children:s}),a.jsx("span",{className:`text-lg ml-1 ${b?"text-gold-light":"text-gray"}`,children:i})]}),a.jsx("ul",{className:"space-y-3 mb-8 flex-grow",children:o.map((_,v)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:`w-5 h-5 mr-2 flex-shrink-0 mt-0.5 ${b?"text-gold-light":"text-success"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:b?"text-gray-200":"text-charcoal",children:_})]},v))}),b&&h!==void 0&&a.jsxs("div",{className:"text-center mb-4 font-bold text-white bg-white/20 rounded-md py-1",children:[" ",h,"/",25," remaining"]}),a.jsxs("button",{onClick:u,disabled:m,className:`w-full py-3 px-6 font-bold text-lg rounded-lg transition-transform
          ${b?"bg-white text-charcoal hover:bg-gray-200":"bg-gold text-charcoal hover:bg-gold-light"}
          ${m?"opacity-60 cursor-not-allowed":"transform hover:scale-105"}
        `,children:[j," ",!m&&""]}),m&&p&&a.jsx("p",{className:"text-center text-xs mt-3 text-gray",children:p})]})},T1=({isOpen:r,onClose:s,onClaim:i})=>r?a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:[a.jsx("style",{children:`
                @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slide-up { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
                .animate-fade-in { animation: fade-in 0.3s ease-out; }
                .animate-slide-up { animation: slide-up 0.4s ease-out; }
            `}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 relative animate-slide-up",onClick:o=>o.stopPropagation(),children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray hover:text-charcoal",children:a.jsx(gt,{className:"w-8 h-8"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-2",children:"FOUNDING MEMBER INVITATION"}),a.jsx("p",{className:"text-gray text-lg mb-6",children:"You're among the first to qualify. Claim your legacy position now."})]}),a.jsx("hr",{className:"border-gray-border my-6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-sora text-xl font-bold text-charcoal mb-4",children:"Exclusive Founding Member Benefits:"}),a.jsx("ul",{className:"space-y-3 text-charcoal",children:["Founding Member Seal (exclusive design, never offered again)","Enhanced profile (logo, gallery, detailed services, CTA buttons)","Verified listing on RestorationExpertise.com with SEO backlink","Lifetime pricing lock at $229 per month (offer disappears after launch)","Private community access (Facebook group + resources)","Direct line to team (priority support, early access to new features)","Priority SEO backlink placement","Yearly SEO blog post","99 Steps Restoration Success Blueprint + updates (included)","Annual re-verification included"].map(o=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-success flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:o})]},o))})]}),a.jsxs("div",{className:"mt-8 bg-gray-light p-6 rounded-xl border border-gray-border text-center",children:[a.jsx("p",{className:"font-sora text-3xl font-bold text-charcoal mt-1",children:"Founding Member Rate: $229/month"}),a.jsx("p",{className:"text-gray mt-1",children:"This lifetime rate is locked in and will never increase."})]}),a.jsxs("p",{className:"text-center text-warning font-bold mt-6",children:[" ",Zl," spots remaining | Offer ends 12/31/2025"]}),a.jsxs("div",{className:"mt-8 flex flex-col items-center space-y-4",children:[a.jsx("button",{onClick:i,className:"w-full max-w-md py-4 px-8 bg-gold text-charcoal font-bold text-xl rounded-lg shadow-lg hover:bg-gold-light transition-transform transform hover:scale-105",children:"Secure My Founding Member Spot "}),a.jsx("button",{onClick:s,className:"text-gray font-semibold hover:underline",children:"No thanks, show me regular pricing"})]})]})]}):null,R1="/.netlify/functions/create-checkout-session",O1=async(r,s="Founding Member")=>{const i={intendedTier:s};typeof r<"u"&&r!==null&&(i.assessmentId=r);const o=await fetch(R1,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const u=await o.text();throw new Error(`Failed to initiate checkout. Status: ${o.status}. Message: ${u}`)}const c=await o.json();if(!c.url)throw new Error("Checkout session did not return a redirect URL.");window.location.href=c.url},Jp="restorationexpertise:last-plan",Xp=({score:r})=>{const[s,i]=S.useState(0);S.useEffect(()=>{let h;const m=performance.now(),p=b=>{const w=b-m,j=Math.min(w/1500,1);i(Math.round(j*r)),j<1&&(h=requestAnimationFrame(p))};return h=requestAnimationFrame(p),()=>{cancelAnimationFrame(h)}},[r]);const o=h=>h<45?"text-error":h<60?"text-warning":h>=70?"text-success":"text-gold",c=2*Math.PI*55,u=c-s/100*c;return a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 120 120",children:[a.jsx("circle",{className:"text-gray-200",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"55",cx:"60",cy:"60"}),a.jsx("circle",{className:o(r),strokeWidth:"10",strokeDasharray:c,strokeDashoffset:u,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"55",cx:"60",cy:"60",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 1.5s ease-out"}})]}),a.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center font-sora font-bold ${o(r)}`,children:[a.jsx("span",{className:"text-5xl",children:s}),a.jsx("span",{className:"text-lg -mt-1",children:"/ 100"})]})]})},Wp=({opportunities:r})=>{if(r.length===0)return a.jsx("div",{className:"max-w-5xl mx-auto mt-12 animate-slide-up",style:{animationDelay:"600ms"},children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-border",children:[a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-4 text-center",children:"Top Opportunities"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 bg-success/10 p-4 rounded-lg",children:[a.jsx(Wt,{className:"w-8 h-8 text-success shrink-0"}),a.jsx("p",{className:"text-lg font-semibold text-green-800",children:"Youve checked off every major credibility signal in our model. Strong work!"})]})]})});const s={Operational:"bg-blue-100 text-blue-800",Licensing:"bg-indigo-100 text-indigo-800",Feedback:"bg-green-100 text-green-800",Digital:"bg-purple-100 text-purple-800",Certifications:"bg-yellow-100 text-yellow-800"},i={"Quick win":"border-success text-success","Deep work":"border-gray-400 text-gray-600"};return a.jsx("div",{className:"max-w-5xl mx-auto mt-12 animate-slide-up",style:{animationDelay:"600ms"},children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-border",children:[a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-6 text-center",children:"Your Top 3 Opportunities"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(o=>a.jsxs("div",{className:"bg-gray-light/50 p-6 rounded-xl border border-gray-border flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${s[o.category]}`,children:o.category}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full border ${i[o.type]}`,children:o.type})]}),a.jsx("h3",{className:"font-bold text-lg text-charcoal leading-tight flex-grow",children:o.label}),a.jsx("p",{className:"text-sm text-gray-dark mt-2",children:o.description})]},o.id))})]})})},D1=({tier:r,onClose:s})=>r?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto p-8 relative animate-slide-up",onClick:i=>i.stopPropagation(),children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray hover:text-charcoal",children:a.jsx(gt,{className:"w-8 h-8"})}),a.jsx("div",{className:"text-center",children:a.jsxs("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-4",children:[r.name," Benefits"]})}),a.jsx("ul",{className:"space-y-3 text-charcoal",children:r.features.map((i,o)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-success flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),a.jsx("span",{children:i})]},o))}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("button",{onClick:s,className:"py-2 px-8 bg-gold text-charcoal font-bold rounded-lg shadow-md hover:bg-gold-light",children:"Close"})})]})}):null,M1=({result:r,onRetake:s,onJoin:i})=>{const{total:o,grade:c,isEligibleForCertification:u,eligibilityReasons:h,opportunities:g}=r,[m,p]=S.useState(!1),[b,w]=S.useState(null);S.useEffect(()=>{if(u){const v=setTimeout(()=>{p(!0)},3e3);return()=>clearTimeout(v)}},[u]);const j=async()=>{try{typeof window<"u"&&window.localStorage.setItem(Jp,"Founding Member"),await O1(r.id,"Founding Member")}catch(v){typeof window<"u"&&window.localStorage.removeItem(Jp),console.error("Failed to start Stripe Checkout",v),alert("We were unable to start checkout. Please try again or contact support.")}},_=()=>{p(!1),j().catch(()=>{})};if(u){const v=o>=80?"Premier Restoration Professional":"Certified Restoration Professional",E=`${c} ${v}`;return a.jsxs("div",{className:"min-h-screen bg-gray-light font-inter p-4 md:p-8",children:[a.jsx(T1,{isOpen:m,onClose:()=>p(!1),onClaim:_}),a.jsxs("div",{className:"bg-gradient-to-br from-success to-green-700 text-white text-center py-12 px-4 rounded-t-2xl animate-slide-up",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h1",{className:"font-sora text-4xl font-bold",children:"Congratulations! You're Eligible for Certification"}),a.jsxs("p",{className:"text-lg mt-2",children:["Your Professional Credibility Index Score Qualifies You as a ",a.jsx("span",{className:"font-bold",children:E})]})]}),a.jsx("div",{className:"max-w-5xl mx-auto -mt-8 animate-slide-up",style:{animationDelay:"200ms"},children:a.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-2xl shadow-xl border border-gray-border flex flex-col items-center",children:[a.jsx(Xp,{score:o}),a.jsx("h2",{className:"font-sora text-2xl font-bold text-charcoal mt-6",children:"Your Score Breakdown"}),a.jsx("div",{className:"w-full max-w-md mt-4 text-center",children:a.jsx("p",{className:"text-gray",children:"This score reflects your commitment to professional standards, customer satisfaction, and industry excellence."})})]})}),a.jsx(Wp,{opportunities:g}),a.jsxs("div",{className:"relative max-w-5xl mx-auto mt-24 mb-12",children:[a.jsx("div",{className:"absolute -top-20 md:-top-32 inset-x-0 flex justify-center pointer-events-none",children:a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/restorationexpertise_badge_3d_layingtra_shadow.webp",alt:"Restoration Expertise Founding Member Badge",className:"w-60 h-auto md:w-96 drop-shadow-badge animate-float-badge hover:animate-paused pointer-events-auto"})}),a.jsx("div",{className:"p-8 pt-40 md:pt-64 bg-gradient-to-r from-gold-dark to-founding-gold rounded-2xl text-white shadow-2xl border-2 border-founding-gold",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"font-sora text-3xl font-bold mb-2",children:" FOUNDING MEMBER OPPORTUNITY"}),a.jsx("p",{className:"text-lg text-gold-light mb-4",children:"25 LIFETIME SPOTS ONLY"}),a.jsx("p",{className:"mb-6",children:"Lock in a lifetime rate of $229/mo. Get an exclusive Founding Member seal, priority placement, and all Gold-tier features."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6 text-xl font-bold",children:[a.jsx("span",{children:" Offer Expires: December 31, 2025"}),a.jsx("span",{className:"w-px h-6 bg-white/50"}),a.jsxs("span",{children:[" Only ",Zl," spots remaining"]})]}),a.jsx("button",{onClick:_,className:"bg-white text-charcoal font-bold text-lg py-3 px-10 rounded-lg shadow-lg hover:bg-gray-200 transition-transform transform hover:scale-105",children:"CLAIM YOUR FOUNDING MEMBER SPOT "})]})})]}),a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal text-center mb-8",children:"Choose Your Membership Tier"}),a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 items-start",children:[a.jsx(ps,{tier:"Bronze",price:"$159",pricePeriod:"/mo",features:["Verified Badge (A+, A, or B+)","Profile page with SEO backlink","Basic directory listing","Community access","Annual re-verification included"],onSelect:()=>{},disabled:!0,buttonLabel:"Coming Soon",disabledText:"Bronze launches soon."}),a.jsx(ps,{tier:"Silver",price:"$297",pricePeriod:"/mo",features:["Everything in Bronze, plus:","Featured placement in directory","Enhanced profile (logo, gallery, CTA)","Yearly SEO blog post","Quarterly compliance check"],popular:!0,onSelect:()=>{},disabled:!0,buttonLabel:"Coming Soon",disabledText:"Silver launches soon."}),a.jsx(ps,{tier:"Gold",price:"$497",pricePeriod:"/mo",features:["Everything in Silver, plus:",'Featured in "Top Verified Experts"',"Priority SEO backlink placement","Bi-annual spotlight article","Social media spotlight (2x/year)","99-Steps Blueprint included"],onSelect:()=>{},disabled:!0,buttonLabel:"Coming Soon",disabledText:"Gold launches soon."}),a.jsx(ps,{tier:"Founding Member",price:"$229",pricePeriod:"/mo",features:["Exclusive Founding Member Seal","Lifetime price lock at $229/mo","Enhanced Profile & Priority SEO","Yearly SEO blog post","99 Steps Blueprint included","Direct line for priority support"],onSelect:_,spotsRemaining:Zl})]}),a.jsx("div",{className:"text-center mt-12",children:a.jsx("button",{onClick:s,className:"text-gray font-semibold hover:underline",children:"Or, retake the assessment"})})]})}else{const v=["Verified Badge (A+, A, or B+)","Profile page with SEO backlink","Basic directory listing","Community access","Annual re-verification included"],E=["Everything in Bronze, plus:","Featured placement in directory","Enhanced profile (logo, gallery, CTA)","Yearly SEO blog post","Quarterly compliance check"],y=["Everything in Silver, plus:",'Featured in "Top Verified Experts"',"Priority SEO backlink placement","Bi-annual spotlight article","Social media spotlight (2x/year)","99-Steps Blueprint included"],k=["Exclusive Founding Member Seal","Lifetime price lock at $229/mo","Enhanced Profile & Priority SEO","Yearly SEO blog post","99 Steps Blueprint included","Direct line for priority support"];return a.jsxs("div",{className:"min-h-screen bg-gray-light font-inter p-4 md:p-8",children:[a.jsx(D1,{tier:b,onClose:()=>w(null)}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-700 to-charcoal-dark text-white text-center py-12 px-4 rounded-t-2xl animate-slide-up",children:[a.jsx("h1",{className:"font-sora text-4xl font-bold",children:"Youre On Your Way!"}),a.jsxs("p",{className:"text-lg mt-2 max-w-3xl mx-auto",children:["Your current score is ",a.jsxs("span",{className:"font-bold",children:[o,"/100 (",c,")"]}),". You're not yet eligible for certification, but heres exactly what you need to improve."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto -mt-8 bg-white p-6 md:p-8 rounded-2xl shadow-xl border border-gray-border animate-slide-up",style:{animationDelay:"200ms"},children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx(Xp,{score:o})}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"font-sora text-2xl font-bold text-charcoal text-center mb-4",children:"What You Need To Qualify"}),a.jsx("div",{className:"max-w-2xl mx-auto bg-yellow-50 border-l-4 border-warning p-6 rounded-r-lg",children:a.jsx("ul",{className:"space-y-3",children:h.map((A,T)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(ga,{className:"w-5 h-5 text-warning mr-3 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-yellow-900 font-medium",children:A})]},T))})})]})]}),a.jsx(Wp,{opportunities:g}),a.jsx("div",{className:"max-w-5xl mx-auto mt-24 animate-slide-up",style:{animationDelay:"400ms"},children:a.jsxs("div",{className:"bg-gradient-to-b from-white to-[#f6e9cc] rounded-xl shadow-xl border-2 border-gold text-center pt-8",children:[a.jsx("img",{src:"https://restorationexpertise.com/wp-content/uploads/2025/11/99successblueprint_3dmockup_2tr_s.webp",alt:"99-Step Restoration Success Blueprint Mockup",className:"w-4/5 md:w-3/5 mx-auto -mt-28 mb-4 drop-shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 hover:drop-shadow-2xl"}),a.jsxs("div",{className:"px-8 pb-8",children:[a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-4",children:"The 99-Step Restoration Success Blueprint"}),a.jsx("p",{className:"text-gray-dark text-lg mb-6",children:"Youre missing a few key credibility signals. Our 99-Step Restoration Success Blueprint gives you a step-by-step roadmap and a live dashboard to track your progress until you qualify for certification."}),a.jsx("ul",{className:"space-y-3 mb-8 text-left inline-block",children:["Clear checklist to fix licensing, operations, and digital presence","Quick-win tasks you can tackle this week","Built-in progress tracking as you improve your score"].map(A=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(Wt,{className:"w-6 h-6 text-success mr-3 shrink-0"}),a.jsx("span",{className:"text-charcoal text-lg",children:A})]},A))}),a.jsx("a",{href:"https://restorationexpertise.com/99-steps",target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center py-4 px-8 bg-gold text-charcoal font-bold text-xl rounded-lg shadow-lg hover:bg-gold-light transition-transform transform hover:scale-105",children:"Get the 99-Step Blueprint & Dashboard"})]})]})}),a.jsx("p",{className:"max-w-4xl mx-auto text-center text-gray-dark mt-8 px-4",children:"Step 1: Use the Blueprint to fix your gaps. Step 2: Unlock these member benefits once you qualify."}),a.jsxs("div",{className:"text-center mt-8",children:[a.jsx("h2",{className:"font-sora text-3xl font-bold text-charcoal mb-2",children:"What Youll Unlock Once You Qualify"}),a.jsx("p",{className:"text-gray-dark mb-8",children:"Preview the benefits youll access after you meet the certification requirements."})]}),a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 items-start",children:[a.jsx(ps,{tier:"Bronze",price:"$159",pricePeriod:"/mo",features:v,onSelect:()=>w({name:"Bronze",features:v}),buttonLabel:"Preview benefits"}),a.jsx(ps,{tier:"Silver",price:"$297",pricePeriod:"/mo",features:E,popular:!0,onSelect:()=>w({name:"Silver",features:E}),buttonLabel:"Preview benefits"}),a.jsx(ps,{tier:"Gold",price:"$497",pricePeriod:"/mo",features:y,onSelect:()=>w({name:"Gold",features:y}),buttonLabel:"Preview benefits"}),a.jsx(ps,{tier:"Founding Member",price:"$229",pricePeriod:"/mo",features:k,onSelect:()=>{},spotsRemaining:Zl,buttonLabel:"Claim Spot",disabled:!0,disabledText:"Available once your business qualifies for certification."})]}),a.jsxs("div",{className:"text-center mt-16",children:[a.jsx("button",{onClick:s,className:"py-3 px-8 bg-gold text-charcoal font-bold text-lg rounded-lg shadow-lg hover:bg-gold-light transition-transform transform hover:scale-105",children:"Ive improved my business  retake the assessment"}),a.jsx("p",{className:"text-sm text-gray-dark mt-4",children:"Most contractors reach eligibility within a few weeks once they follow the Blueprint."})]})]})}},Zp="restorationexpertise:last-plan",ex="restorationexpertise:last-email",tx=r=>{switch(r==null?void 0:r.toLowerCase()){case"bronze":return"bronze";case"silver":return"silver";case"gold":return"gold";case"founding-member":return"founding-member";default:return"founding-member"}},U1={bronze:{badgeText:"Bronze Member",badgeClass:"bg-yellow-900/50 text-[#CD7F32] border border-[#CD7F32]/50",ratingText:"B+ Restoration Professional",benefits:[{icon:Qs,title:"Upload Your Documents",description:"Submit required documents for account verification and badge approval."},{icon:vs,title:"Join the Community",description:"Access our private community for networking and support."},{icon:bt,title:"Claim Your Badge",description:"Download your verified badge once your account is approved."},{icon:_x,title:"Explore Resources",description:"Check out the member resources to get started."}]},silver:{badgeText:"Silver Member",badgeClass:"bg-gray-500/50 text-[#C0C0C0] border border-[#C0C0C0]/50",ratingText:"A- Restoration Specialist",benefits:[{icon:Qs,title:"Upload Your Documents",description:"Submit required documents for account verification and badge approval."},{icon:vs,title:"Join the Community",description:"Access our private community for networking and support."},{icon:bt,title:"Claim Your Enhanced Badge",description:"Download your verified badge once your account is approved."},{icon:xo,title:"Explore Premium Resources",description:"Access the resource library and request your first SEO post."}]},gold:{badgeText:"Gold Member",badgeClass:"bg-gold/30 text-gold-light border border-gold/50",ratingText:"A Elite Restoration Expert",benefits:[{icon:Qs,title:"Upload Your Documents",description:"Submit required documents for account verification and badge approval."},{icon:vs,title:"Join the Member's Circle",description:"Get access to our exclusive circle for Gold members."},{icon:bt,title:"Claim Your Premium Badge",description:"Download your verified badge once your account is approved."},{icon:Dd,title:"Access the 99-Steps Blueprint",description:"Start your journey to mastery with our exclusive blueprint dashboard."}]},"founding-member":{badgeText:" Founding Member",badgeClass:"fm-metallic-shine !text-transparent !bg-clip-text",ratingText:"A+ Founding Elite - Restoration Pioneer",benefits:[{icon:Qs,title:"Upload Your Documents",description:"Submit required documents for account verification and badge approval."},{icon:vs,title:"Join the Founder's Circle",description:"Access our private community for direct communication and networking."},{icon:bt,title:"Claim Your Exclusive Badge",description:"Download your verified badge once your account is approved."},{icon:go,title:"Explore Premium Resources",description:"Access lifetime tools, exclusive content, and early feature releases."}]}},L1=()=>a.jsx("div",{className:"success-particles",children:Array.from({length:30}).map((r,s)=>a.jsx("div",{className:"success-particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*3+1}px`,height:`${Math.random()*3+1}px`,animationDelay:`${Math.random()*20}s`,animationDuration:`${Math.random()*15+10}s`}},s))}),B1=()=>{var ce;const{plan:r}=R0(),s=ws(),i=r??"founding-member";let o=null,c=null;try{const B=tt();o=B.currentUser,c=B.login}catch(B){console.warn("Auth context not available:",B)}const u=S.useMemo(()=>{try{return tx(i)}catch(B){return console.error("Error normalizing plan:",B),"founding-member"}},[i]),h=U1[u],g=u==="founding-member",[m,p]=S.useState(!1),[b,w]=S.useState(""),[j,_]=S.useState("idle"),[v,E]=S.useState(""),[y,k]=S.useState(""),[A,T]=S.useState(0),I=(o==null?void 0:o.name)??"Your Business",L=((ce=o==null?void 0:o.account)==null?void 0:ce.ownerName)??(o==null?void 0:o.name)??"Your Name",J=(o==null?void 0:o.email)??y;S.useEffect(()=>{if(typeof window>"u")return;const B=window.localStorage.getItem(Zp);if(!r&&B){const K=tx(B);s(`/success/${K}`,{replace:!0});return}window.localStorage.removeItem(Zp)},[s,r]),S.useEffect(()=>{if(typeof window>"u")return;const B=window.localStorage.getItem(ex);B&&k(B)},[]);const z=async B=>{if(!B){_("error"),E("Please provide an email address to resend your login link.");return}if(A>0){_("error"),E(`Please wait ${A} seconds before resending.`);return}try{if(_("sending"),E("Sending a fresh magic link"),!ve||!ve.auth)throw new Error("Supabase client not available");const{error:K}=await ve.auth.signInWithOtp({email:B,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(K){K.message.includes("redirect_to not allowed")?(_("error"),E(" Dev Configuration: Please add this domain to Supabase Auth  URL Configuration  Redirect URLs"),console.error("Supabase Auth redirect URL not configured:",`${window.location.origin}/auth/callback`)):K.message.includes("rate")?(_("error"),E("Rate limit reached. Please wait a moment before trying again."),T(60)):(_("error"),E(K.message)),console.error("Magic link error:",K);return}_("sent"),E(`Magic link sent to ${B}. Check your inbox and Spam/Promotions folder if you don't see it.`),T(60),typeof window<"u"&&window.localStorage.setItem(ex,B),k(B)}catch(K){_("error");const H=K instanceof Error?K.message:"Unable to send a magic link right now. Please try again later.";E(H),console.error("Magic link error:",K)}};S.useEffect(()=>{try{const H=new URLSearchParams(window.location.search).get("email")||y||J;H&&j==="idle"&&z(H)}catch(B){console.error("Error in magic link auto-trigger:",B)}},[y,J]),S.useEffect(()=>{if(!(typeof document>"u"))return document.body.dataset.plan=u,()=>{delete document.body.dataset.plan}},[u]),S.useEffect(()=>{if(A>0){const B=setInterval(()=>{T(K=>K-1)},1e3);return()=>clearInterval(B)}},[A]);const te=async()=>{if(!b){_("error"),E("Enter the new email address you would like to use.");return}await z(b.trim()),p(!1),w("")},M="Welcome to the Biggest Restoration Community Homeowners Trust",se=B=>a.jsx("div",{className:"success-page-container",children:a.jsxs("main",{className:"relative z-10 w-full max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"font-bold text-2xl md:text-3xl max-w-2xl mx-auto text-white",children:"Welcome to the Biggest Restoration Community Homeowners Trust"}),a.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-300",children:"Your payment was successful. You're officially a member!"})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"w-full max-w-xl mx-auto p-6 rounded-2xl shadow-xl bg-black/20 border border-white/20",children:[a.jsx("h2",{className:"font-bold text-xl text-white mb-3",children:"Check Your Email to Log In"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"We've sent a magic login link to your email. Please check your inbox and click the link to access your account."}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/login",className:"inline-block px-6 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Go to Login Page"})})]})}),a.jsxs("div",{className:"text-center text-gray-300",children:[a.jsxs("p",{children:["Need help? ",a.jsx("a",{className:"text-blue-400 hover:underline",href:"mailto:support@restorationexpertise.com",children:"Contact support"})]}),B&&a.jsxs("div",{className:"mt-4 p-3 bg-red-900/50 text-red-200 text-sm rounded border border-red-500/50",children:["Debug: ",B]})]})]})});try{return a.jsxs("div",{className:"success-page-container",children:[a.jsx(L1,{}),g&&a.jsx("div",{className:"fm-light-ray"}),a.jsxs("main",{className:"relative z-10 w-full max-w-4xl mx-auto animate-fade-in-up",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Sw,{className:"text-gold"}),g?a.jsx("h1",{className:"font-playfair text-2xl md:text-3xl font-bold max-w-2xl mx-auto fm-h1",children:M.split("").map((B,K)=>a.jsx("span",{className:"fm-metallic-shine",style:{animationDelay:`${.5+K*.02}s`,transform:"translateY(20px)"},children:B===" "?"":B},K))}):a.jsx("h1",{className:"font-playfair text-2xl md:text-3xl font-bold max-w-2xl mx-auto text-white",children:M}),a.jsx("p",{className:"mt-4 text-lg md:text-xl text-gray-300",children:"Your payment was successful. You're officially a member!"})]}),a.jsx("div",{className:"mb-8 animate-fade-in-up",style:{animationDelay:"1.2s"},children:a.jsxs("div",{className:"w-full max-w-xl mx-auto p-6 rounded-2xl shadow-xl fm-glass-card border border-gold/20",children:[a.jsx("h2",{className:"font-bold text-lg text-white mb-4",children:" Your Plan Summary"}),a.jsxs("div",{className:"space-y-2 text-left text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Plan:"})," ",a.jsx("span",{className:`font-semibold ${g?"fm-metallic-shine !text-transparent !bg-clip-text":"text-white"}`,children:h.badgeText})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Rating:"})," ",a.jsx("span",{className:"font-semibold text-white",children:h.ratingText})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Business:"})," ",a.jsx("span",{className:"font-semibold text-white",children:I})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Contact:"})," ",a.jsx("span",{className:"font-semibold text-white",children:L})]})]})]})}),a.jsx("div",{className:"mb-16 animate-fade-in-up",style:{animationDelay:"1.4s"},children:a.jsxs("div",{className:"w-full max-w-xl mx-auto p-6 md:p-8 rounded-2xl shadow-xl fm-glass-card border border-gold/20",children:[a.jsx("h2",{className:"font-bold text-xl text-white mb-3",children:"Check Your Email to Log In"}),a.jsx("p",{className:"text-gray-300",children:"We've sent a magic login link to your personal dashboard. Please check your inbox and click the link to access your account."}),a.jsxs("div",{className:"mt-4 bg-black/20 p-3 rounded-lg text-center text-white",children:[" Sent to: ",a.jsx("strong",{children:J||"your email"})]}),m?a.jsxs("div",{className:"mt-4 space-y-2 animate-fade-in",children:[a.jsx("input",{type:"email",value:b,onChange:B=>w(B.target.value),placeholder:"Enter new email address",className:"w-full p-2 rounded bg-white/10 text-white border border-gray-500 focus:ring-gold focus:border-gold"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>p(!1),className:"py-1 px-3 text-xs rounded bg-gray-600 hover:bg-gray-500 text-white",children:"Cancel"}),a.jsx("button",{onClick:te,className:"py-1 px-3 text-xs rounded bg-gold text-charcoal font-semibold hover:bg-gold-light",children:"Update Email"})]})]}):a.jsxs("div",{className:"mt-4 text-center text-sm space-x-4",children:[a.jsx("button",{onClick:()=>p(!0),className:"font-semibold text-gray-400 hover:text-white hover:underline",children:"Wrong email? Update it here"}),a.jsx("button",{onClick:()=>z(J),disabled:A>0,className:`font-semibold ${A>0?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:underline"}`,children:A>0?`Resend in ${A}s`:"Resend login link"})]}),j!=="idle"&&a.jsx("div",{className:`mt-4 rounded-lg border px-3 py-2 text-sm ${j==="sent"?"border-success/40 bg-success/10 text-success":j==="error"?"border-error/40 bg-error/10 text-error":"border-white/30 bg-white/10 text-white"}`,children:v})]})}),a.jsxs("div",{className:"mt-16",children:[a.jsx("h2",{className:"font-playfair text-3xl font-bold mb-8 text-white",children:"What's Next?"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-in",children:h.benefits.map((B,K)=>{const H=B.icon;return a.jsxs("div",{className:"p-6 rounded-2xl shadow-lg transition-transform transform hover:-translate-y-1 fm-glass-card",style:{animationDelay:`${1.6+K*.15}s`},children:[a.jsx("div",{className:"inline-block p-3 rounded-full mb-4 bg-white/10 text-gold",children:a.jsx(H,{className:"w-6 h-6"})}),a.jsx("h3",{className:"font-bold text-lg mb-2 text-white",children:B.title}),a.jsx("p",{className:"text-sm text-gray-300",children:B.description})]},B.title)})})]}),a.jsxs("div",{className:"mt-16",children:[a.jsx("h2",{className:"font-playfair text-3xl font-bold mb-6 text-white",children:"Need a Quick Start?"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"fm-glass-card p-6 rounded-2xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(li,{className:"w-10 h-10 text-gold"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Complete Your Profile"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Upload your logo, service areas, and certifications."})]})]}),a.jsx("button",{onClick:()=>s("/login"),className:"w-full py-2 rounded-lg bg-white/10 hover:bg-white/20 text-sm font-semibold",children:"Go to login"})]}),a.jsxs("div",{className:"fm-glass-card p-6 rounded-2xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ia,{className:"w-10 h-10 text-gold"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Download Your Badge"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Showcase your verified status across your channels."})]})]}),a.jsx("button",{onClick:()=>s("/login"),className:"w-full py-2 rounded-lg bg-white/10 hover:bg-white/20 text-sm font-semibold",children:"Access badge library"})]}),a.jsxs("div",{className:"fm-glass-card p-6 rounded-2xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Tw,{className:"w-10 h-10 text-gold"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Schedule Onboarding"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Book time with our team to map your first 30 days."})]})]}),a.jsx("button",{onClick:()=>window.open("mailto:support@restorationexpertise.com","_blank"),className:"w-full py-2 rounded-lg bg-white/10 hover:bg-white/20 text-sm font-semibold",children:"Email support"})]})]})]}),a.jsxs("div",{className:"mt-16 text-center space-y-4 text-gray-300",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3 md:flex-row md:justify-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ma,{className:"w-6 h-6 text-gold"}),a.jsx("span",{children:"Finish your onboarding checklist inside the dashboard."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mi,{className:"w-6 h-6 text-gold"}),a.jsx("span",{children:"Join the private member community for weekly live sessions."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vo,{className:"w-6 h-6 text-gold"}),a.jsx("span",{children:"Track your credibility goals with the 99-Step Blueprint."})]})]}),a.jsxs("p",{className:"text-sm",children:["Need help? ",a.jsx("a",{className:"text-gold hover:underline",href:"mailto:support@restorationexpertise.com",children:"Contact support"})]})]})]})]})}catch(B){return console.error("Critical error in SuccessPage:",B),se(B instanceof Error?B.message:"Unknown rendering error")}},z1=()=>{const r=ws();return S.useEffect(()=>{(()=>{ve.auth.onAuthStateChange((i,o)=>{console.log("Auth state change:",i,o),i==="SIGNED_IN"?(console.log("User signed in successfully, redirecting to dashboard"),r("/dashboard",{replace:!0})):i==="SIGNED_OUT"?(console.log("User signed out"),r("/",{replace:!0})):(console.log("Other auth event:",i),setTimeout(()=>{r("/",{replace:!0})},3e3))})})()},[r]),a.jsx("div",{className:"min-h-screen bg-gray-light flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-accent mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-charcoal mb-2",children:"Completing Sign In..."}),a.jsx("p",{className:"text-gray",children:"Please wait while we log you in to your account."})]})})},Gd=()=>a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[var(--bg-main)] text-[var(--text-muted)]",children:a.jsx("span",{className:"animate-pulse text-lg",children:"Connecting to Supabase..."})}),ax=()=>{const{session:r,isAdmin:s,loading:i}=tt();return i?a.jsx(Gd,{}):r?a.jsx(Yn,{to:s?"/admin":"/member/dashboard",replace:!0}):a.jsx(b1,{})},q1=()=>{const{session:r,loading:s}=tt();return s?a.jsx(Gd,{}):r?a.jsx(YN,{}):a.jsx(Yn,{to:"/login",replace:!0})},I1=()=>{const{session:r,isAdmin:s,loading:i}=tt();return i?a.jsx(Gd,{}):r?s?a.jsx(p1,{}):a.jsx(Yn,{to:"/admin/login",replace:!0}):a.jsx(Yn,{to:"/admin/login",replace:!0})},$1=()=>{const r=ws(),{session:s,currentUser:i}=tt(),[o,c]=S.useState(null),[u,h]=S.useState(!1),g=(v,E)=>{if(E)return"Founding Member";switch(v){case"A+":case"A":return"Gold";case"B+":return"Silver";default:return"Bronze"}},m=async v=>{const{data:E,error:y}=await ve.from("profiles").select("id, last_assessment_id, last_pci_score").eq("id",v).maybeSingle();if(y)throw y;if(E)return E;const{data:k,error:A}=await ve.from("profiles").insert({id:v}).select("id, last_assessment_id, last_pci_score").single();if(A)throw A;return k},p=async(v,E,y)=>{const{error:k}=await ve.from("profiles").update({last_assessment_id:E,last_pci_score:y}).eq("id",v);if(k)throw k},b=async(v,E,y)=>{const{error:k}=await ve.from("memberships").insert({profile_id:v,tier:E,status:"pending",verification_status:"pending",badge_rating:null,assessment_id:y});if(k)throw k},w=async v=>{var L,J,z,te,M,se,ce,B;if(u)return;const E=v.isEligibleForCertification?"eligible":"not_eligible",y=g(v.grade,v.isEligibleForCertification),k=(L=v.emailEntered)==null?void 0:L.trim(),T=(k&&k.length>0?k:void 0)??((J=s==null?void 0:s.user)==null?void 0:J.email)??(i==null?void 0:i.email)??null;if(!T){console.error("No email available from assessment or session - this should not happen");return}h(!0);let I=null;if((z=s==null?void 0:s.user)!=null&&z.id)try{I=await m(s.user.id)}catch(K){console.error("Failed to load or create profile",K),alert("We will continue with your assessment, but updating your profile may not be complete.")}try{const{data:K,error:H}=await ve.from("assessments").insert({user_id:((te=s==null?void 0:s.user)==null?void 0:te.id)??null,profile_id:(I==null?void 0:I.id)??null,email_entered:T,full_name_entered:((M=v.fullNameEntered)==null?void 0:M.trim())||null,state:((se=v.state)==null?void 0:se.trim())||null,city:((ce=v.cityEntered)==null?void 0:ce.trim())||null,answers:v.answers,total_score:v.total,operational_score:v.operational,licensing_score:v.licensing,feedback_score:v.feedback,certifications_score:v.certifications,digital_score:v.digital,scenario:E,pci_rating:v.grade,intended_membership_tier:y}).select().single();if(H)throw H;const Q=K;if(I!=null&&I.id&&Q.id!=null){try{await p(I.id,Q.id,v.total)}catch(ee){console.error("Failed to update profile with assessment",ee),alert("We saved your assessment but could not update your profile.")}if(v.isEligibleForCertification&&y)try{await b(I.id,y,Q.id)}catch(ee){console.error("Failed to create pending membership",ee),alert("We saved your assessment but could not update your membership status.")}}const O={...v,answers:Q.answers??v.answers,operational:Q.operational_score??v.operational,licensing:Q.licensing_score??v.licensing,feedback:Q.feedback_score??v.feedback,certifications:Q.certifications_score??v.certifications,digital:Q.digital_score??v.digital,total:Q.total_score??v.total,grade:Q.pci_rating??v.grade,isEligibleForCertification:Q.scenario?Q.scenario==="eligible":v.isEligibleForCertification,scenario:Q.scenario??E,pciRating:Q.pci_rating??v.grade,intendedMembershipTier:Q.intended_membership_tier??y,id:Q.id,createdAt:Q.created_at,userId:Q.user_id??((B=s==null?void 0:s.user)==null?void 0:B.id)??null,emailEntered:Q.email_entered??T,fullNameEntered:Q.full_name_entered??v.fullNameEntered,state:Q.state??v.state,cityEntered:Q.city??v.cityEntered};c(O),r("/results")}catch(K){console.error("Failed to save assessment result",K),alert("We had trouble saving your assessment. Please try again.")}finally{h(!1)}},j=()=>{c(null),r("/assessment")},_=()=>{r("/")};return a.jsxs(Y0,{children:[a.jsx(aa,{path:"/",element:a.jsx(ax,{})}),a.jsx(aa,{path:"/login",element:a.jsx(ax,{})}),a.jsx(aa,{path:"/admin/login",element:a.jsx(v1,{})}),a.jsx(aa,{path:"/assessment",element:a.jsx(A1,{onComplete:w})}),a.jsx(aa,{path:"/results",element:o?a.jsx(M1,{result:o,onRetake:j,onJoin:_}):a.jsx(Yn,{to:"/assessment",replace:!0})}),a.jsx(aa,{path:"/success/:plan",element:a.jsx(B1,{})}),a.jsx(aa,{path:"/auth/callback",element:a.jsx(z1,{})}),a.jsx(aa,{path:"/member/dashboard",element:a.jsx(q1,{})}),a.jsx(aa,{path:"/admin/*",element:a.jsx(I1,{})}),a.jsx(aa,{path:"*",element:a.jsx(Yn,{to:"/",replace:!0})})]})},P1=()=>a.jsx(gN,{children:a.jsx($1,{})}),Nb=document.getElementById("root");if(!Nb)throw new Error("Could not find root element to mount to");const H1=t0.createRoot(Nb);H1.render(a.jsx(ni.StrictMode,{children:a.jsx(gw,{children:a.jsx(nN,{children:a.jsx(P1,{})})})}));
//# sourceMappingURL=index-CXRwGoRR.js.map
